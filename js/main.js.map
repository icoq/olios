{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blocks/modules/header/header.js","webpack:///./src/js/import/modules.js","webpack:///./src/js/index.js","webpack:///./src/js/jquery.nicescroll.js"],"names":["$","click","toggleClass","removeClass","window","hasClass","addClass","not","event","location","pathname","replace","hostname","target","hash","length","slice","preventDefault","animate","scrollTop","offset","top","$target","focus","is","attr","keyup","res","val","result","toLowerCase","includes","jQuery","data","niceScroll","cursorcolor","mousescrollstep","cursorborder","cursorwidth","smoothscroll","horizrailenabled","oneaxismousemode","factory","define","domfocus","mousefocus","tabindexcounter","ascrailcounter","globalmaxzindex","_doc","document","_win","$window","delegatevents","getScriptPath","scripts","currentScript","s","getElementsByTagName","path","src","split","join","setAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","clearAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","anilasttime","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","ClsMutationObserver","MutationObserver","WebKitMutationObserver","now","_globaloptions","zindex","cursoropacitymin","cursoropacitymax","cursorborderradius","scrollspeed","touchbehavior","emulatetouch","hwacceleration","usetransition","boxzoom","dblclickzoom","gesturezoom","grabcursorenabled","autohidemode","background","iframeautoresize","cursorminheight","preservenativescrolling","railoffset","railhoffset","bouncescroll","spacebarenabled","railpadding","right","left","bottom","disableoutline","railalign","railvalign","enabletranslate3d","enablemousewheel","enablekeyboard","sensitiverail","enablemouselockapi","cursorfixedheight","directionlockdeadzone","hidecursordelay","nativeparentscrolling","enablescrollonselection","overflowx","overflowy","cursordragspeed","rtlmode","cursordragontouch","scriptpath","preventmultitouchscrolling","disablemutationobserver","enableobserver","scrollbarid","browserdetected","getBrowserDetection","_el","createElement","_style","style","_agent","navigator","userAgent","_platform","platform","d","haspointerlock","isopera","isopera12","isoperamini","Object","prototype","toString","call","operamini","isie","isieold","isie7","documentMode","isie8","isie9","isie10","isie11","ismsedge","ismozilla","iswebkit","ischrome","ischrome38","ischrome22","ischrome26","cantouch","documentElement","hasw3ctouch","PointerEvent","maxTouchPoints","msMaxTouchPoints","hasmstouch","MSPointerEvent","ismac","test","isios","isios4","isios7","isios8","isios10","Proxy","isandroid","haseventlistener","trstyle","hastransform","hastranslate3d","transitionstyle","hastransition","transitionend","check","a","c","undefined","prefixstyle","prefix","evs","detectCursorGrab","lst","l","p","cursor","cursorgrabvalue","hasmousecapture","hasMutationObserver","NiceScrollClass","myopt","me","self","version","name","$body","opt","doc","win","extend","snapbackspeed","iddoc","ispage","nodeName","haswrapper","docscroll","body","viewport","isfixed","iframe","isiframe","istextarea","forcescreen","canshowonmouseevent","onmousedown","onmouseup","onmousemove","onmousewheel","onkeypress","ongesturezoom","onclick","onscrollstart","onscrollend","onscrollcancel","onzoomin","onzoomout","view","page","scroll","x","y","scrollratio","cursorheight","scrollvaluemax","writingMode","css","isrtlmode","isvertical","scrollrunning","scrollmom","observer","observerremover","observerbody","getElementById","rail","cursorfreezed","selectiondrag","zoom","zoomactive","hasfocus","hasmousefocus","railslocked","locked","hidden","cursoractive","wheelprevented","nativescrollingarea","checkarea","events","saved","delaylist","synclist","lastdeltax","lastdeltay","detected","cap","canhwscroll","ishwscroll","hasreversehr","istouchcapable","debounced","fn","tm","dd","h","synched","unsynched","el","pars","n","push","getScrollTop","setScrollTop","scrollLeft","getScrollLeft","setScrollLeft","BezierClass","st","ed","spd","p1","p2","p3","p4","ts","df","B2","t","B3","B4","getPos","getNow","pc","bz","update","getMatrixValues","tr","substr","translate","tx","ty","last","mtx","timerscroll","bh","notifyScrollEvent","e","createEvent","initUIEvent","niceevent","dispatchEvent","cxscrollleft","silent","maxw","abs","getTarget","srcElement","hasParent","parentNode","getZIndex","dom","zIndex","nodeType","zi","isNaN","parseInt","parent","_convertBorderWidth","thin","medium","thick","getWidthToPixel","prop","chkheight","wd","px","parseFloat","brd","outerHeight","innerHeight","outerWidth","innerWidth","getDocumentScrollOffset","pageYOffset","pageXOffset","getOffset","ofs","scrl","ww","vp","updateScrollBar","len","pos","off","height","railh","width","wpos","align","doRailClick","dbl","hr","pg","cur","cancelEvent","pageX","clientX","pageY","clientY","doScrollLeft","doScrollTop","doScrollLeftBy","doScrollBy","w","newscrolly","newscrollx","hasanimationframe","hascancelanimationframe","hasborderbox","init","getComputedStyle","_scrollyhidden","bind","onScrollTransitionEnd","cont","position","border","v","kp","append","visibility","scrollable","drag","doZoom","backgroundImage","backgroundPosition","scale","doZoomIn","doZoomOut","overflowX","backgroundColor","backgroundClip","cursorh","bd","rlpos","getViewport","autohidedom","opacity","add","hide","ScrollMomentumClass2D","delayedclick","ontouchstart","pointerType","MSPOINTER_TYPE_MOUSE","hasmoving","timer","triggerScrollEnd","stop","tg","skp","type","stopPropagation","ismouse","changedTouches","le","original","screenX","screenY","sx","sy","sl","pt","dl","getContentSize","maxh","ck","wp","lastmouseup","reset","ip","setCapture","_onclick","preventclick","ontouchend","doMomentum","hideCursor","releaseCapture","moveneedoffset","locktollerance","ontouchmove","byiframe","targetTouches","ofy","ofx","fy","my","fx","mx","ny","round","nx","ay","ax","dz","triggerScrollStart","onpreventclick","prepareTransition","resetTransition","showCursor","selection","clear","ontouchstartCursor","hronly","cancelScroll","touches","csspointerevents","ontouchendCursor","ontouchmoveCursor","mw","scrollvaluemaxw","which","checkSelectionScroll","rt","hasTextSelected","getSelection","rangeCount","onselectionstart","onselectionend","onselectiondrag","delegate","jqbind","active","mousewheel","onmousewheelhr","tabindex","noticeCursor","tp","getAttribute","key","keyCode","ctrl","ctrlKey","shift","shiftKey","ret","doScrollPos","doScrollTo","onscreenresize","lazyResize","tmp","onAttributeChange","mutations","forEach","mut","contains","show","clientWidth","clientHeight","observe","childList","subtree","characterData","attributes","attributeFilter","_dom","mo","removedNodes","remove","attachEvent","resizeZoom","oniframeload","iframexd","contentDocument","contentWindow","domain","console","log","html","contents","find","scrollWidth","scrollHeight","hh","onscroll","readyState","py","cursortimeout","lx","showonmouseevent","offsetWidth","offsetHeight","onResize","premaxh","premaxw","previewh","previeww","lastposition","hideRail","hideRailHr","showRail","showRailHr","min","resize","hlazyresize","hiderails","hideRails","showRails","_modernWheelEvent","bubble","_bind","deltaMode","deltaX","deltaZ","returnValue","stopImmediatePropagation","cancelBubble","wheelDeltaX","wheelDeltaY","deltaY","wheelDelta","detail","f","q","on","wname","passiveSupported","options","defineProperty","get","addEventListener","err","cancelable","preventManipulation","Event","constructor","Element","listener","useCapture","removeEventListener","detachEvent","cancel","de","r","concat","undelegate","splice","_unbind","b","passive","capture","bub","unbindAll","unbind","toggle","disconnect","nicescroll","each","i","scrollstart","scrollend","scrollcancel","zoomin","zoomout","isScrollable","ov","getNiceScroll","cx","cy","rx","ry","ms","info","current","request","end","speed","scrolldiry","scrolldirx","scrolltmr","scrollspd","doScrollRelative","chkscroll","iswheel","gap","dx","chk","dy","dty","dtx","hasparentscrollingphase","execScrollWheel","hrend","nw","scrollmon","getTransitionSpeed","dif","lasttransitionstyle","istime","ex","trans","cursorupdate","running","start","m","loop","lft","dst","sqrt","scrollendtrapped","clearInterval","clipped","bzscroll","loopid","stp","relative","checkContentSize","zoomrestore","pp","padding","margin","bkg","nc","lastx","lasty","speedx","speedy","lasttime","steptime","snapx","snapy","demulx","demuly","lastscrollx","lastscrolly","chkx","chky","newy","newx","doSnapy","snap","gp","pageh","pagew","xm","demulxy","floor","scx","scy","_scrollTop","cssHooks","elem","computed","extra","nice","set","value","_scrollLeft","NiceScrollArray","doms","eq","idx","mplex","args","arguments","apply","index","pseudos","expr","wrapper","_opt","$this","wrp","docundef","NiceScroll","getjQuery"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/js/index.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","$(\".search\").click(function () {\r\n  $(\".searchWrap\").toggleClass(\"active\");\r\n\r\n  $(\".searchWrap-cart\").removeClass(\"active\");\r\n});\r\n\r\n$(\".searchClose\").click(function () {\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n});\r\n\r\n$(\".cart\").click(function () {\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n  $(\".searchWrap-cart\").toggleClass(\"active\");\r\n});\r\n\r\n$(\".singlebtn\").click(function () {\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n  $(\".searchWrap-cart\").toggleClass(\"active\");\r\n});\r\n\r\n$(\".cartClose\").click(function () {\r\n  $(\".searchWrap-cart\").removeClass(\"active\");\r\n});\r\n\r\n$(\".logo, .home, .down\").click(function () {\r\n  $(\".searchWrap-cart\").removeClass(\"active\");\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n  $(\"body\").removeClass(\"of\");\r\n});\r\n\r\n$(window).click(function () {\r\n  if (\r\n    $(\".searchWrap\").hasClass(\"active\") ||\r\n    $(\".searchWrap-cart\").hasClass(\"active\")\r\n  ) {\r\n    $(\"body\").addClass(\"of\");\r\n  } else {\r\n    $(\"body\").removeClass(\"of\");\r\n  }\r\n});\r\n\r\n$('a[href*=\"#\"]')\r\n  // Remove links that don't actually link to anything\r\n  .not('[href=\"#\"]')\r\n  .not('[href=\"#0\"]')\r\n  .click(function (event) {\r\n    // On-page links\r\n    if (\r\n      location.pathname.replace(/^\\//, \"\") ==\r\n        this.pathname.replace(/^\\//, \"\") &&\r\n      location.hostname == this.hostname\r\n    ) {\r\n      // Figure out element to scroll to\r\n      var target = $(this.hash);\r\n      target = target.length ? target : $(\"[name=\" + this.hash.slice(1) + \"]\");\r\n      // Does a scroll target exist?\r\n      if (target.length) {\r\n        // Only prevent default if animation is actually gonna happen\r\n        event.preventDefault();\r\n        $(\"html, body\").animate(\r\n          {\r\n            scrollTop: target.offset().top,\r\n          },\r\n          1000,\r\n          function () {\r\n            // Callback after animation\r\n            // Must change focus!\r\n            var $target = $(target);\r\n            $target.focus();\r\n            if ($target.is(\":focus\")) {\r\n              // Checking if the target was focused\r\n              return false;\r\n            } else {\r\n              $target.attr(\"tabindex\", \"-1\"); // Adding tabindex for elements not focusable\r\n              $target.focus(); // Set focus again\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  });\r\n\r\n// $(\".input\").change(function() {\r\n//     // alert(\"The text has been changed.\");\r\n// });\r\n\r\n$(\".input\").keyup(function () {\r\n  let res = $(this).val();\r\n  let result = res.toLowerCase();\r\n\r\n  if (result.includes(\"seat\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"red\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat-red\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"blue\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat-blue\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"dark\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat-dark\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"white\") || result.includes(\"table\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-table-white\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"modern\") || result.includes(\"bed\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-bed-modern\").removeClass(\"hidden\");\r\n  } else {\r\n    $(\".searchItem\").removeClass(\"hidden\");\r\n  }\r\n});\r\n\r\n// $(\"input\").on(\"keyup\", function() {\r\n//     console.log(\"123\");\r\n// });\r\n","import \"%modules%/header/header\";\r\nimport \"%modules%/footer/footer\"","import \"./import/modules\";\r\n\r\nimport jQuery from \"jquery\";\r\nwindow.$ = window.jQuery = jQuery;\r\nimport \"./jquery.nicescroll\";\r\n$(\".burger\").click(function () {\r\n  $(this).toggleClass(\"pushbarClose\");\r\n\r\n  $(this).data(\"data-pushbar-close\");\r\n});\r\n\r\n$(\".rec\").niceScroll({\r\n  cursorcolor: \"#0023ff\",\r\n  mousescrollstep: 30,\r\n  cursorborder: \"none\",\r\n  cursorwidth: \"3px\",\r\n  smoothscroll: true,\r\n  // scroll with ease movement\r\n  //   sensitiverail: true, // click on rail make a scroll\r\n  horizrailenabled: true,\r\n  oneaxismousemode: \"hidden\",\r\n});\r\n\r\n$(\".searchItems\").niceScroll({\r\n  cursorcolor: \"#0023ff\",\r\n  mousescrollstep: 30,\r\n  cursorborder: \"none\",\r\n  cursorwidth: \"3px\",\r\n  smoothscroll: true,\r\n  // scroll with ease movement\r\n  //   sensitiverail: true, // click on rail make a scroll\r\n  horizrailenabled: true,\r\n  oneaxismousemode: \"hidden\",\r\n});\r\n","/* jquery.nicescroll\n-- version 3.7.6\n-- copyright 2017-07-19 InuYaksa*2017\n-- licensed under the MIT\n--\n-- https://nicescroll.areaaperta.com/\n-- https://github.com/inuyaksa/jquery.nicescroll\n--\n*/\n\n/* jshint expr: true */\n\n(function(factory) {\n    if (typeof define === \"function\" && define.amd) {\n        // AMD. Register as anonymous module.\n        define([\"jquery\"], factory);\n    } else if (typeof exports === \"object\") {\n        // Node/CommonJS.\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        // Browser globals.\n        factory(jQuery);\n    }\n})(function(jQuery) {\n    \"use strict\";\n\n    // globals\n    var domfocus = false,\n        mousefocus = false,\n        tabindexcounter = 0,\n        ascrailcounter = 2000,\n        globalmaxzindex = 0;\n\n    var $ = jQuery, // sandbox\n        _doc = document,\n        _win = window,\n        $window = $(_win);\n\n    var delegatevents = [];\n\n    // http://stackoverflow.com/questions/2161159/get-script-path\n    function getScriptPath() {\n        var scripts =\n            _doc.currentScript ||\n            (function() {\n                var s = _doc.getElementsByTagName(\"script\");\n                return s.length ? s[s.length - 1] : false;\n            })();\n        var path = scripts ? scripts.src.split(\"?\")[0] : \"\";\n        return path.split(\"/\").length > 0 ?\n            path.split(\"/\").slice(0, -1).join(\"/\") + \"/\" :\n            \"\";\n    }\n\n    // based on code by Paul Irish https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n    var setAnimationFrame =\n        _win.requestAnimationFrame ||\n        _win.webkitRequestAnimationFrame ||\n        _win.mozRequestAnimationFrame ||\n        false;\n    var clearAnimationFrame =\n        _win.cancelAnimationFrame ||\n        _win.webkitCancelAnimationFrame ||\n        _win.mozCancelAnimationFrame ||\n        false;\n\n    if (!setAnimationFrame) {\n        var anilasttime = 0;\n        setAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - anilasttime));\n            var id = _win.setTimeout(function() {\n                callback(currTime + timeToCall);\n            }, timeToCall);\n            anilasttime = currTime + timeToCall;\n            return id;\n        };\n        clearAnimationFrame = function(id) {\n            _win.clearTimeout(id);\n        };\n    } else {\n        if (!_win.cancelAnimationFrame) clearAnimationFrame = function(id) {};\n    }\n\n    var ClsMutationObserver =\n        _win.MutationObserver || _win.WebKitMutationObserver || false;\n\n    var now =\n        Date.now ||\n        function() {\n            return new Date().getTime();\n        };\n\n    var _globaloptions = {\n        zindex: \"auto\",\n        cursoropacitymin: 0,\n        cursoropacitymax: 1,\n        cursorcolor: \"#424242\",\n        cursorwidth: \"6px\",\n        cursorborder: \"1px solid #fff\",\n        cursorborderradius: \"5px\",\n        scrollspeed: 40,\n        mousescrollstep: 9 * 3,\n        touchbehavior: false, // deprecated\n        emulatetouch: false, // replacing touchbehavior\n        hwacceleration: true,\n        usetransition: true,\n        boxzoom: false,\n        dblclickzoom: true,\n        gesturezoom: true,\n        grabcursorenabled: true,\n        autohidemode: true,\n        background: \"\",\n        iframeautoresize: true,\n        cursorminheight: 32,\n        preservenativescrolling: true,\n        railoffset: false,\n        railhoffset: false,\n        bouncescroll: true,\n        spacebarenabled: true,\n        railpadding: {\n            top: 0,\n            right: 0,\n            left: 0,\n            bottom: 0,\n        },\n        disableoutline: true,\n        horizrailenabled: true,\n        railalign: \"right\",\n        railvalign: \"bottom\",\n        enabletranslate3d: true,\n        enablemousewheel: true,\n        enablekeyboard: true,\n        smoothscroll: true,\n        sensitiverail: true,\n        enablemouselockapi: true,\n        //      cursormaxheight:false,\n        cursorfixedheight: false,\n        directionlockdeadzone: 6,\n        hidecursordelay: 400,\n        nativeparentscrolling: true,\n        enablescrollonselection: true,\n        overflowx: true,\n        overflowy: true,\n        cursordragspeed: 0.3,\n        rtlmode: \"auto\",\n        cursordragontouch: false,\n        oneaxismousemode: \"auto\",\n        scriptpath: getScriptPath(),\n        preventmultitouchscrolling: true,\n        disablemutationobserver: false,\n        enableobserver: true,\n        scrollbarid: false,\n    };\n\n    var browserdetected = false;\n\n    var getBrowserDetection = function() {\n        if (browserdetected) return browserdetected;\n\n        var _el = _doc.createElement(\"DIV\"),\n            _style = _el.style,\n            _agent = navigator.userAgent,\n            _platform = navigator.platform,\n            d = {};\n\n        d.haspointerlock =\n            \"pointerLockElement\" in _doc ||\n            \"webkitPointerLockElement\" in _doc ||\n            \"mozPointerLockElement\" in _doc;\n\n        d.isopera = \"opera\" in _win; // 12-\n        d.isopera12 = d.isopera && \"getUserMedia\" in navigator;\n        d.isoperamini =\n            Object.prototype.toString.call(_win.operamini) === \"[object OperaMini]\";\n\n        d.isie = \"all\" in _doc && \"attachEvent\" in _el && !d.isopera; //IE10-\n        d.isieold = d.isie && !(\"msInterpolationMode\" in _style); // IE6 and older\n        d.isie7 =\n            d.isie &&\n            !d.isieold &&\n            (!(\"documentMode\" in _doc) || _doc.documentMode === 7);\n        d.isie8 = d.isie && \"documentMode\" in _doc && _doc.documentMode === 8;\n        d.isie9 = d.isie && \"performance\" in _win && _doc.documentMode === 9;\n        d.isie10 = d.isie && \"performance\" in _win && _doc.documentMode === 10;\n        d.isie11 = \"msRequestFullscreen\" in _el && _doc.documentMode >= 11; // IE11+\n\n        d.ismsedge = \"msCredentials\" in _win; // MS Edge 14+\n\n        d.ismozilla = \"MozAppearance\" in _style;\n\n        d.iswebkit = !d.ismsedge && \"WebkitAppearance\" in _style;\n\n        d.ischrome = d.iswebkit && \"chrome\" in _win;\n        d.ischrome38 = d.ischrome && \"touchAction\" in _style; // behavior changed in touch emulation\n        d.ischrome22 = !d.ischrome38 && d.ischrome && d.haspointerlock;\n        d.ischrome26 = !d.ischrome38 && d.ischrome && \"transition\" in _style; // issue with transform detection (maintain prefix)\n\n        d.cantouch =\n            \"ontouchstart\" in _doc.documentElement || \"ontouchstart\" in _win; // with detection for Chrome Touch Emulation\n        d.hasw3ctouch =\n            (_win.PointerEvent || false) &&\n            (navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0); //IE11 pointer events, following W3C Pointer Events spec\n        d.hasmstouch = !d.hasw3ctouch && (_win.MSPointerEvent || false); // IE10 pointer events\n\n        d.ismac = /^mac$/i.test(_platform);\n\n        d.isios = d.cantouch && /iphone|ipad|ipod/i.test(_platform);\n        d.isios4 = d.isios && !(\"seal\" in Object);\n        d.isios7 = d.isios && \"webkitHidden\" in _doc; //iOS 7+\n        d.isios8 = d.isios && \"hidden\" in _doc; //iOS 8+\n        d.isios10 = d.isios && _win.Proxy; //iOS 10+\n\n        d.isandroid = /android/i.test(_agent);\n\n        d.haseventlistener = \"addEventListener\" in _el;\n\n        d.trstyle = false;\n        d.hastransform = false;\n        d.hastranslate3d = false;\n        d.transitionstyle = false;\n        d.hastransition = false;\n        d.transitionend = false;\n\n        d.trstyle = \"transform\";\n        d.hastransform =\n            \"transform\" in _style ||\n            (function() {\n                var check = [\n                    \"msTransform\",\n                    \"webkitTransform\",\n                    \"MozTransform\",\n                    \"OTransform\",\n                ];\n                for (var a = 0, c = check.length; a < c; a++) {\n                    if (_style[check[a]] !== undefined) {\n                        d.trstyle = check[a];\n                        break;\n                    }\n                }\n                d.hastransform = !!d.trstyle;\n            })();\n\n        if (d.hastransform) {\n            _style[d.trstyle] = \"translate3d(1px,2px,3px)\";\n            d.hastranslate3d = /translate3d/.test(_style[d.trstyle]);\n        }\n\n        d.transitionstyle = \"transition\";\n        d.prefixstyle = \"\";\n        d.transitionend = \"transitionend\";\n\n        d.hastransition =\n            \"transition\" in _style ||\n            (function() {\n                d.transitionend = false;\n                var check = [\n                    \"webkitTransition\",\n                    \"msTransition\",\n                    \"MozTransition\",\n                    \"OTransition\",\n                    \"OTransition\",\n                    \"KhtmlTransition\",\n                ];\n                var prefix = [\"-webkit-\", \"-ms-\", \"-moz-\", \"-o-\", \"-o\", \"-khtml-\"];\n                var evs = [\n                    \"webkitTransitionEnd\",\n                    \"msTransitionEnd\",\n                    \"transitionend\",\n                    \"otransitionend\",\n                    \"oTransitionEnd\",\n                    \"KhtmlTransitionEnd\",\n                ];\n                for (var a = 0, c = check.length; a < c; a++) {\n                    if (check[a] in _style) {\n                        d.transitionstyle = check[a];\n                        d.prefixstyle = prefix[a];\n                        d.transitionend = evs[a];\n                        break;\n                    }\n                }\n                if (d.ischrome26) d.prefixstyle = prefix[1]; // always use prefix\n\n                d.hastransition = d.transitionstyle;\n            })();\n\n        function detectCursorGrab() {\n            var lst = [\"grab\", \"-webkit-grab\", \"-moz-grab\"];\n            if ((d.ischrome && !d.ischrome38) || d.isie) lst = []; // force setting for IE returns false positive and chrome cursor bug\n            for (var a = 0, l = lst.length; a < l; a++) {\n                var p = lst[a];\n                _style.cursor = p;\n                if (_style.cursor == p) return p;\n            }\n            return \"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize\"; // thanks to https://cdnjs.com/ for the openhand cursor!\n        }\n        d.cursorgrabvalue = detectCursorGrab();\n\n        d.hasmousecapture = \"setCapture\" in _el;\n\n        d.hasMutationObserver = ClsMutationObserver !== false;\n\n        _el = null; //memory released\n\n        browserdetected = d;\n\n        return d;\n    };\n\n    var NiceScrollClass = function(myopt, me) {\n        var self = this;\n\n        this.version = \"3.7.6\";\n        this.name = \"nicescroll\";\n\n        this.me = me;\n\n        var $body = $(\"body\");\n\n        var opt = (this.opt = {\n            doc: $body,\n            win: false,\n        });\n\n        $.extend(opt, _globaloptions); // clone opts\n\n        // Options for internal use\n        opt.snapbackspeed = 80;\n\n        if (myopt || false) {\n            for (var a in opt) {\n                if (myopt[a] !== undefined) opt[a] = myopt[a];\n            }\n        }\n\n        if (opt.disablemutationobserver) ClsMutationObserver = false;\n\n        this.doc = opt.doc;\n        this.iddoc = this.doc && this.doc[0] ? this.doc[0].id || \"\" : \"\";\n        this.ispage = /^BODY|HTML/.test(\n            opt.win ? opt.win[0].nodeName : this.doc[0].nodeName\n        );\n        this.haswrapper = opt.win !== false;\n        this.win = opt.win || (this.ispage ? $window : this.doc);\n        this.docscroll = this.ispage && !this.haswrapper ? $window : this.win;\n        this.body = $body;\n        this.viewport = false;\n\n        this.isfixed = false;\n\n        this.iframe = false;\n        this.isiframe =\n            this.doc[0].nodeName == \"IFRAME\" && this.win[0].nodeName == \"IFRAME\";\n\n        this.istextarea = this.win[0].nodeName == \"TEXTAREA\";\n\n        this.forcescreen = false; //force to use screen position on events\n\n        this.canshowonmouseevent = opt.autohidemode != \"scroll\";\n\n        // Events jump table\n        this.onmousedown = false;\n        this.onmouseup = false;\n        this.onmousemove = false;\n        this.onmousewheel = false;\n        this.onkeypress = false;\n        this.ongesturezoom = false;\n        this.onclick = false;\n\n        // Nicescroll custom events\n        this.onscrollstart = false;\n        this.onscrollend = false;\n        this.onscrollcancel = false;\n\n        this.onzoomin = false;\n        this.onzoomout = false;\n\n        // Let's start!\n        this.view = false;\n        this.page = false;\n\n        this.scroll = {\n            x: 0,\n            y: 0,\n        };\n        this.scrollratio = {\n            x: 0,\n            y: 0,\n        };\n        this.cursorheight = 20;\n        this.scrollvaluemax = 0;\n\n        // http://dev.w3.org/csswg/css-writing-modes-3/#logical-to-physical\n        // http://dev.w3.org/csswg/css-writing-modes-3/#svg-writing-mode\n        if (opt.rtlmode == \"auto\") {\n            var target = this.win[0] == _win ? this.body : this.win;\n            var writingMode =\n                target.css(\"writing-mode\") ||\n                target.css(\"-webkit-writing-mode\") ||\n                target.css(\"-ms-writing-mode\") ||\n                target.css(\"-moz-writing-mode\");\n\n            if (\n                writingMode == \"horizontal-tb\" ||\n                writingMode == \"lr-tb\" ||\n                writingMode === \"\"\n            ) {\n                this.isrtlmode = target.css(\"direction\") == \"rtl\";\n                this.isvertical = false;\n            } else {\n                this.isrtlmode =\n                    writingMode == \"vertical-rl\" ||\n                    writingMode == \"tb\" ||\n                    writingMode == \"tb-rl\" ||\n                    writingMode == \"rl-tb\";\n                this.isvertical =\n                    writingMode == \"vertical-rl\" ||\n                    writingMode == \"tb\" ||\n                    writingMode == \"tb-rl\";\n            }\n        } else {\n            this.isrtlmode = opt.rtlmode === true;\n            this.isvertical = false;\n        }\n        //    this.checkrtlmode = false;\n\n        this.scrollrunning = false;\n\n        this.scrollmom = false;\n\n        this.observer = false; // observer div changes\n        this.observerremover = false; // observer on parent for remove detection\n        this.observerbody = false; // observer on body for position change\n\n        if (opt.scrollbarid !== false) {\n            this.id = opt.scrollbarid;\n        } else {\n            do {\n                this.id = \"ascrail\" + ascrailcounter++;\n            } while (_doc.getElementById(this.id));\n        }\n\n        this.rail = false;\n        this.cursor = false;\n        this.cursorfreezed = false;\n        this.selectiondrag = false;\n\n        this.zoom = false;\n        this.zoomactive = false;\n\n        this.hasfocus = false;\n        this.hasmousefocus = false;\n\n        //this.visibility = true;\n        this.railslocked = false; // locked by resize\n        this.locked = false; // prevent lost of locked status sets by user\n        this.hidden = false; // rails always hidden\n        this.cursoractive = true; // user can interact with cursors\n\n        this.wheelprevented = false; //prevent mousewheel event\n\n        this.overflowx = opt.overflowx;\n        this.overflowy = opt.overflowy;\n\n        this.nativescrollingarea = false;\n        this.checkarea = 0;\n\n        this.events = []; // event list for unbind\n\n        this.saved = {}; // style saved\n\n        this.delaylist = {};\n        this.synclist = {};\n\n        this.lastdeltax = 0;\n        this.lastdeltay = 0;\n\n        this.detected = getBrowserDetection();\n\n        var cap = $.extend({}, this.detected);\n\n        this.canhwscroll = cap.hastransform && opt.hwacceleration;\n        this.ishwscroll = this.canhwscroll && self.haswrapper;\n\n        if (!this.isrtlmode) {\n            this.hasreversehr = false;\n        } else if (this.isvertical) {\n            // RTL mode with reverse horizontal axis\n            this.hasreversehr = !(cap.iswebkit || cap.isie || cap.isie11);\n        } else {\n            this.hasreversehr = !(\n                cap.iswebkit ||\n                (cap.isie && !cap.isie10 && !cap.isie11)\n            );\n        }\n\n        this.istouchcapable = false; // desktop devices with touch screen support\n\n        //## Check WebKit-based desktop with touch support\n        //## + Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\n\n        if (!cap.cantouch && (cap.hasw3ctouch || cap.hasmstouch)) {\n            // desktop device with multiple input\n            this.istouchcapable = true;\n        } else if (\n            cap.cantouch &&\n            !cap.isios &&\n            !cap.isandroid &&\n            (cap.iswebkit || cap.ismozilla)\n        ) {\n            this.istouchcapable = true;\n        }\n\n        //## disable MouseLock API on user request\n        if (!opt.enablemouselockapi) {\n            cap.hasmousecapture = false;\n            cap.haspointerlock = false;\n        }\n\n        this.debounced = function(name, fn, tm) {\n            if (!self) return;\n            var dd = self.delaylist[name] || false;\n            if (!dd) {\n                self.delaylist[name] = {\n                    h: setAnimationFrame(function() {\n                        self.delaylist[name].fn.call(self);\n                        self.delaylist[name] = false;\n                    }, tm),\n                };\n                fn.call(self);\n            }\n            self.delaylist[name].fn = fn;\n        };\n\n        this.synched = function(name, fn) {\n            if (self.synclist[name]) self.synclist[name] = fn;\n            else {\n                self.synclist[name] = fn;\n                setAnimationFrame(function() {\n                    if (!self) return;\n                    self.synclist[name] && self.synclist[name].call(self);\n                    self.synclist[name] = null;\n                });\n            }\n        };\n\n        this.unsynched = function(name) {\n            if (self.synclist[name]) self.synclist[name] = false;\n        };\n\n        this.css = function(el, pars) {\n            // save & set\n            for (var n in pars) {\n                self.saved.css.push([el, n, el.css(n)]);\n                el.css(n, pars[n]);\n            }\n        };\n\n        this.scrollTop = function(val) {\n            return val === undefined ? self.getScrollTop() : self.setScrollTop(val);\n        };\n\n        this.scrollLeft = function(val) {\n            return val === undefined ? self.getScrollLeft() : self.setScrollLeft(val);\n        };\n\n        // derived by by Dan Pupius www.pupius.net\n        var BezierClass = function(st, ed, spd, p1, p2, p3, p4) {\n            this.st = st;\n            this.ed = ed;\n            this.spd = spd;\n\n            this.p1 = p1 || 0;\n            this.p2 = p2 || 1;\n            this.p3 = p3 || 0;\n            this.p4 = p4 || 1;\n\n            this.ts = now();\n            this.df = ed - st;\n        };\n        BezierClass.prototype = {\n            B2: function(t) {\n                return 3 * (1 - t) * (1 - t) * t;\n            },\n            B3: function(t) {\n                return 3 * (1 - t) * t * t;\n            },\n            B4: function(t) {\n                return t * t * t;\n            },\n            getPos: function() {\n                return (now() - this.ts) / this.spd;\n            },\n            getNow: function() {\n                var pc = (now() - this.ts) / this.spd;\n                var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\n                return pc >= 1 ? this.ed : (this.st + this.df * bz) | 0;\n            },\n            update: function(ed, spd) {\n                this.st = this.getNow();\n                this.ed = ed;\n                this.spd = spd;\n                this.ts = now();\n                this.df = this.ed - this.st;\n                return this;\n            },\n        };\n\n        //derived from http://stackoverflow.com/questions/11236090/\n        function getMatrixValues() {\n            var tr = self.doc.css(cap.trstyle);\n            if (tr && tr.substr(0, 6) == \"matrix\") {\n                return tr\n                    .replace(/^.*\\((.*)\\)$/g, \"$1\")\n                    .replace(/px/g, \"\")\n                    .split(/, +/);\n            }\n            return false;\n        }\n\n        if (this.ishwscroll) {\n            // hw accelerated scroll\n\n            this.doc.translate = {\n                x: 0,\n                y: 0,\n                tx: \"0px\",\n                ty: \"0px\",\n            };\n\n            //this one can help to enable hw accel on ios6 http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/\n            if (cap.hastranslate3d && cap.isios)\n                this.doc.css(\"-webkit-backface-visibility\", \"hidden\"); // prevent flickering http://stackoverflow.com/questions/3461441/\n\n            this.getScrollTop = function(last) {\n                if (!last) {\n                    var mtx = getMatrixValues();\n                    if (mtx) return mtx.length == 16 ? -mtx[13] : -mtx[5]; //matrix3d 16 on IE10\n                    if (self.timerscroll && self.timerscroll.bz)\n                        return self.timerscroll.bz.getNow();\n                }\n                return self.doc.translate.y;\n            };\n\n            this.getScrollLeft = function(last) {\n                if (!last) {\n                    var mtx = getMatrixValues();\n                    if (mtx) return mtx.length == 16 ? -mtx[12] : -mtx[4]; //matrix3d 16 on IE10\n                    if (self.timerscroll && self.timerscroll.bh)\n                        return self.timerscroll.bh.getNow();\n                }\n                return self.doc.translate.x;\n            };\n\n            this.notifyScrollEvent = function(el) {\n                var e = _doc.createEvent(\"UIEvents\");\n                e.initUIEvent(\"scroll\", false, false, _win, 1);\n                e.niceevent = true;\n                el.dispatchEvent(e);\n            };\n\n            var cxscrollleft = this.isrtlmode ? 1 : -1;\n\n            if (cap.hastranslate3d && opt.enabletranslate3d) {\n                this.setScrollTop = function(val, silent) {\n                    self.doc.translate.y = val;\n                    self.doc.translate.ty = val * -1 + \"px\";\n                    self.doc.css(\n                        cap.trstyle,\n                        \"translate3d(\" +\n                        self.doc.translate.tx +\n                        \",\" +\n                        self.doc.translate.ty +\n                        \",0)\"\n                    );\n                    if (!silent) self.notifyScrollEvent(self.win[0]);\n                };\n                this.setScrollLeft = function(val, silent) {\n                    self.doc.translate.x = val;\n                    self.doc.translate.tx = val * cxscrollleft + \"px\";\n                    self.doc.css(\n                        cap.trstyle,\n                        \"translate3d(\" +\n                        self.doc.translate.tx +\n                        \",\" +\n                        self.doc.translate.ty +\n                        \",0)\"\n                    );\n                    if (!silent) self.notifyScrollEvent(self.win[0]);\n                };\n            } else {\n                this.setScrollTop = function(val, silent) {\n                    self.doc.translate.y = val;\n                    self.doc.translate.ty = val * -1 + \"px\";\n                    self.doc.css(\n                        cap.trstyle,\n                        \"translate(\" +\n                        self.doc.translate.tx +\n                        \",\" +\n                        self.doc.translate.ty +\n                        \")\"\n                    );\n                    if (!silent) self.notifyScrollEvent(self.win[0]);\n                };\n                this.setScrollLeft = function(val, silent) {\n                    self.doc.translate.x = val;\n                    self.doc.translate.tx = val * cxscrollleft + \"px\";\n                    self.doc.css(\n                        cap.trstyle,\n                        \"translate(\" +\n                        self.doc.translate.tx +\n                        \",\" +\n                        self.doc.translate.ty +\n                        \")\"\n                    );\n                    if (!silent) self.notifyScrollEvent(self.win[0]);\n                };\n            }\n        } else {\n            // native scroll\n\n            this.getScrollTop = function() {\n                return self.docscroll.scrollTop();\n            };\n            this.setScrollTop = function(val) {\n                self.docscroll.scrollTop(val);\n            };\n\n            this.getScrollLeft = function() {\n                var val;\n                if (!self.hasreversehr) {\n                    val = self.docscroll.scrollLeft();\n                } else if (self.detected.ismozilla) {\n                    val = self.page.maxw - Math.abs(self.docscroll.scrollLeft());\n                } else {\n                    val = self.page.maxw - self.docscroll.scrollLeft();\n                }\n                return val;\n            };\n            this.setScrollLeft = function(val) {\n                return setTimeout(function() {\n                    if (!self) return;\n                    if (self.hasreversehr) {\n                        if (self.detected.ismozilla) {\n                            val = -(self.page.maxw - val);\n                        } else {\n                            val = self.page.maxw - val;\n                        }\n                    }\n                    return self.docscroll.scrollLeft(val);\n                }, 1);\n            };\n        }\n\n        this.getTarget = function(e) {\n            if (!e) return false;\n            if (e.target) return e.target;\n            if (e.srcElement) return e.srcElement;\n            return false;\n        };\n\n        this.hasParent = function(e, id) {\n            if (!e) return false;\n            var el = e.target || e.srcElement || e || false;\n            while (el && el.id != id) {\n                el = el.parentNode || false;\n            }\n            return el !== false;\n        };\n\n        function getZIndex() {\n            var dom = self.win;\n            if (\"zIndex\" in dom) return dom.zIndex(); // use jQuery UI method when available\n            while (dom.length > 0) {\n                if (dom[0].nodeType == 9) return false;\n                var zi = dom.css(\"zIndex\");\n                if (!isNaN(zi) && zi !== 0) return parseInt(zi);\n                dom = dom.parent();\n            }\n            return false;\n        }\n\n        //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\n        var _convertBorderWidth = {\n            thin: 1,\n            medium: 3,\n            thick: 5,\n        };\n\n        function getWidthToPixel(dom, prop, chkheight) {\n            var wd = dom.css(prop);\n            var px = parseFloat(wd);\n            if (isNaN(px)) {\n                px = _convertBorderWidth[wd] || 0;\n                var brd =\n                    px == 3 ?\n                    chkheight ?\n                    self.win.outerHeight() - self.win.innerHeight() :\n                    self.win.outerWidth() - self.win.innerWidth() :\n                    1; //DON'T TRUST CSS\n                if (self.isie8 && px) px += 1;\n                return brd ? px : 0;\n            }\n            return px;\n        }\n\n        this.getDocumentScrollOffset = function() {\n            return {\n                top: _win.pageYOffset || _doc.documentElement.scrollTop,\n                left: _win.pageXOffset || _doc.documentElement.scrollLeft,\n            };\n        };\n\n        this.getOffset = function() {\n            if (self.isfixed) {\n                var ofs = self.win.offset(); // fix Chrome auto issue (when right/bottom props only)\n                var scrl = self.getDocumentScrollOffset();\n                ofs.top -= scrl.top;\n                ofs.left -= scrl.left;\n                return ofs;\n            }\n            var ww = self.win.offset();\n            if (!self.viewport) return ww;\n            var vp = self.viewport.offset();\n            return {\n                top: ww.top - vp.top,\n                left: ww.left - vp.left,\n            };\n        };\n\n        this.updateScrollBar = function(len) {\n            var pos, off;\n            if (self.ishwscroll) {\n                self.rail.css({\n                    height: self.win.innerHeight() -\n                        (opt.railpadding.top + opt.railpadding.bottom),\n                });\n                if (self.railh)\n                    self.railh.css({\n                        width: self.win.innerWidth() -\n                            (opt.railpadding.left + opt.railpadding.right),\n                    });\n            } else {\n                var wpos = self.getOffset();\n                pos = {\n                    top: wpos.top,\n                    left: wpos.left - (opt.railpadding.left + opt.railpadding.right),\n                };\n                pos.top += getWidthToPixel(self.win, \"border-top-width\", true);\n                pos.left += self.rail.align ?\n                    self.win.outerWidth() -\n                    getWidthToPixel(self.win, \"border-right-width\") -\n                    self.rail.width :\n                    getWidthToPixel(self.win, \"border-left-width\");\n\n                off = opt.railoffset;\n                if (off) {\n                    if (off.top) pos.top += off.top;\n                    if (off.left) pos.left += off.left;\n                }\n\n                if (!self.railslocked)\n                    self.rail.css({\n                        top: pos.top,\n                        left: pos.left,\n                        height:\n                            (len ? len.h : self.win.innerHeight()) -\n                            (opt.railpadding.top + opt.railpadding.bottom),\n                    });\n\n                if (self.zoom) {\n                    self.zoom.css({\n                        top: pos.top + 1,\n                        left: self.rail.align == 1 ?\n                            pos.left - 20 :\n                            pos.left + self.rail.width + 4,\n                    });\n                }\n\n                if (self.railh && !self.railslocked) {\n                    pos = {\n                        top: wpos.top,\n                        left: wpos.left,\n                    };\n                    off = opt.railhoffset;\n                    if (off) {\n                        if (off.top) pos.top += off.top;\n                        if (off.left) pos.left += off.left;\n                    }\n                    var y = self.railh.align ?\n                        pos.top +\n                        getWidthToPixel(self.win, \"border-top-width\", true) +\n                        self.win.innerHeight() -\n                        self.railh.height :\n                        pos.top + getWidthToPixel(self.win, \"border-top-width\", true);\n                    var x = pos.left + getWidthToPixel(self.win, \"border-left-width\");\n                    self.railh.css({\n                        top: y - (opt.railpadding.top + opt.railpadding.bottom),\n                        left: x,\n                        width: self.railh.width,\n                    });\n                }\n            }\n        };\n\n        this.doRailClick = function(e, dbl, hr) {\n            var fn, pg, cur, pos;\n\n            if (self.railslocked) return;\n\n            self.cancelEvent(e);\n\n            if (!(\"pageY\" in e)) {\n                e.pageX = e.clientX + _doc.documentElement.scrollLeft;\n                e.pageY = e.clientY + _doc.documentElement.scrollTop;\n            }\n\n            if (dbl) {\n                fn = hr ? self.doScrollLeft : self.doScrollTop;\n                cur = hr ?\n                    (e.pageX - self.railh.offset().left - self.cursorwidth / 2) *\n                    self.scrollratio.x :\n                    (e.pageY - self.rail.offset().top - self.cursorheight / 2) *\n                    self.scrollratio.y;\n                self.unsynched(\"relativexy\");\n                fn(cur | 0);\n            } else {\n                fn = hr ? self.doScrollLeftBy : self.doScrollBy;\n                cur = hr ? self.scroll.x : self.scroll.y;\n                pos = hr ?\n                    e.pageX - self.railh.offset().left :\n                    e.pageY - self.rail.offset().top;\n                pg = hr ? self.view.w : self.view.h;\n                fn(cur >= pos ? pg : -pg);\n            }\n        };\n\n        self.newscrolly = self.newscrollx = 0;\n\n        self.hasanimationframe = \"requestAnimationFrame\" in _win;\n        self.hascancelanimationframe = \"cancelAnimationFrame\" in _win;\n\n        self.hasborderbox = false;\n\n        this.init = function() {\n            self.saved.css = [];\n\n            if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\n            if (cap.isandroid && !(\"hidden\" in _doc)) return true; // Android 3- SORRY, DO NOT WORK!\n\n            opt.emulatetouch = opt.emulatetouch || opt.touchbehavior; // mantain compatibility with \"touchbehavior\"\n\n            self.hasborderbox =\n                _win.getComputedStyle &&\n                _win.getComputedStyle(_doc.body)[\"box-sizing\"] === \"border-box\";\n\n            var _scrollyhidden = { \"overflow-y\": \"hidden\" };\n            if (cap.isie11 || cap.isie10)\n                _scrollyhidden[\"-ms-overflow-style\"] = \"none\"; // IE 10 & 11 is always a world apart!\n\n            if (self.ishwscroll) {\n                this.doc.css(\n                    cap.transitionstyle,\n                    cap.prefixstyle + \"transform 0ms ease-out\"\n                );\n                if (cap.transitionend)\n                    self.bind(\n                        self.doc,\n                        cap.transitionend,\n                        self.onScrollTransitionEnd,\n                        false\n                    ); //I have got to do something usefull!!\n            }\n\n            self.zindex = \"auto\";\n            if (!self.ispage && opt.zindex == \"auto\") {\n                self.zindex = getZIndex() || \"auto\";\n            } else {\n                self.zindex = opt.zindex;\n            }\n\n            if (!self.ispage &&\n                self.zindex != \"auto\" &&\n                self.zindex > globalmaxzindex\n            ) {\n                globalmaxzindex = self.zindex;\n            }\n\n            if (self.isie && self.zindex === 0 && opt.zindex == \"auto\") {\n                // fix IE auto == 0\n                self.zindex = \"auto\";\n            }\n\n            if (!self.ispage || !cap.isieold) {\n                var cont = self.docscroll;\n                if (self.ispage) cont = self.haswrapper ? self.win : self.doc;\n\n                self.css(cont, _scrollyhidden);\n\n                if (self.ispage && (cap.isie11 || cap.isie)) {\n                    // IE 7-11\n                    self.css($(\"html\"), _scrollyhidden);\n                }\n\n                if (cap.isios && !self.ispage && !self.haswrapper)\n                    self.css($body, {\n                        \"-webkit-overflow-scrolling\": \"touch\",\n                    }); //force hw acceleration\n\n                var cursor = $(_doc.createElement(\"div\"));\n                cursor.css({\n                    position: \"relative\",\n                    top: 0,\n                    float: \"right\",\n                    width: opt.cursorwidth,\n                    height: 0,\n                    \"background-color\": opt.cursorcolor,\n                    border: opt.cursorborder,\n                    \"background-clip\": \"padding-box\",\n                    \"-webkit-border-radius\": opt.cursorborderradius,\n                    \"-moz-border-radius\": opt.cursorborderradius,\n                    \"border-radius\": opt.cursorborderradius,\n                });\n\n                cursor.addClass(\"nicescroll-cursors\");\n\n                self.cursor = cursor;\n\n                var rail = $(_doc.createElement(\"div\"));\n                rail.attr(\"id\", self.id);\n                rail.addClass(\"nicescroll-rails nicescroll-rails-vr\");\n\n                var v,\n                    a,\n                    kp = [\"left\", \"right\", \"top\", \"bottom\"]; //**\n                for (var n in kp) {\n                    a = kp[n];\n                    v = opt.railpadding[a] || 0;\n                    v && rail.css(\"padding-\" + a, v + \"px\");\n                }\n\n                rail.append(cursor);\n\n                rail.width = Math.max(parseFloat(opt.cursorwidth), cursor.outerWidth());\n                rail.css({\n                    width: rail.width + \"px\",\n                    zIndex: self.zindex,\n                    background: opt.background,\n                    cursor: \"default\",\n                });\n\n                rail.visibility = true;\n                rail.scrollable = true;\n\n                rail.align = opt.railalign == \"left\" ? 0 : 1;\n\n                self.rail = rail;\n\n                self.rail.drag = false;\n\n                var zoom = false;\n                if (opt.boxzoom && !self.ispage && !cap.isieold) {\n                    zoom = _doc.createElement(\"div\");\n\n                    self.bind(zoom, \"click\", self.doZoom);\n                    self.bind(zoom, \"mouseenter\", function() {\n                        self.zoom.css(\"opacity\", opt.cursoropacitymax);\n                    });\n                    self.bind(zoom, \"mouseleave\", function() {\n                        self.zoom.css(\"opacity\", opt.cursoropacitymin);\n                    });\n\n                    self.zoom = $(zoom);\n                    self.zoom.css({\n                        cursor: \"pointer\",\n                        zIndex: self.zindex,\n                        backgroundImage: \"url(\" + opt.scriptpath + \"zoomico.png)\",\n                        height: 18,\n                        width: 18,\n                        backgroundPosition: \"0 0\",\n                    });\n                    if (opt.dblclickzoom) self.bind(self.win, \"dblclick\", self.doZoom);\n                    if (cap.cantouch && opt.gesturezoom) {\n                        self.ongesturezoom = function(e) {\n                            if (e.scale > 1.5) self.doZoomIn(e);\n                            if (e.scale < 0.8) self.doZoomOut(e);\n                            return self.cancelEvent(e);\n                        };\n                        self.bind(self.win, \"gestureend\", self.ongesturezoom);\n                    }\n                }\n\n                // init HORIZ\n\n                self.railh = false;\n                var railh;\n\n                if (opt.horizrailenabled) {\n                    self.css(cont, {\n                        overflowX: \"hidden\",\n                    });\n\n                    cursor = $(_doc.createElement(\"div\"));\n                    cursor.css({\n                        position: \"absolute\",\n                        top: 0,\n                        height: opt.cursorwidth,\n                        width: 0,\n                        backgroundColor: opt.cursorcolor,\n                        border: opt.cursorborder,\n                        backgroundClip: \"padding-box\",\n                        \"-webkit-border-radius\": opt.cursorborderradius,\n                        \"-moz-border-radius\": opt.cursorborderradius,\n                        \"border-radius\": opt.cursorborderradius,\n                    });\n\n                    if (cap.isieold) cursor.css(\"overflow\", \"hidden\"); //IE6 horiz scrollbar issue\n\n                    cursor.addClass(\"nicescroll-cursors\");\n\n                    self.cursorh = cursor;\n\n                    railh = $(_doc.createElement(\"div\"));\n                    railh.attr(\"id\", self.id + \"-hr\");\n                    railh.addClass(\"nicescroll-rails nicescroll-rails-hr\");\n                    railh.height = Math.max(\n                        parseFloat(opt.cursorwidth),\n                        cursor.outerHeight()\n                    );\n                    railh.css({\n                        height: railh.height + \"px\",\n                        zIndex: self.zindex,\n                        background: opt.background,\n                    });\n\n                    railh.append(cursor);\n\n                    railh.visibility = true;\n                    railh.scrollable = true;\n\n                    railh.align = opt.railvalign == \"top\" ? 0 : 1;\n\n                    self.railh = railh;\n\n                    self.railh.drag = false;\n                }\n\n                if (self.ispage) {\n                    rail.css({\n                        position: \"fixed\",\n                        top: 0,\n                        height: \"100%\",\n                    });\n\n                    rail.css(rail.align ? { right: 0 } : { left: 0 });\n\n                    self.body.append(rail);\n                    if (self.railh) {\n                        railh.css({\n                            position: \"fixed\",\n                            left: 0,\n                            width: \"100%\",\n                        });\n\n                        railh.css(railh.align ? { bottom: 0 } : { top: 0 });\n\n                        self.body.append(railh);\n                    }\n                } else {\n                    if (self.ishwscroll) {\n                        if (self.win.css(\"position\") == \"static\")\n                            self.css(self.win, { position: \"relative\" });\n                        var bd = self.win[0].nodeName == \"HTML\" ? self.body : self.win;\n                        $(bd).scrollTop(0).scrollLeft(0); // fix rail position if content already scrolled\n                        if (self.zoom) {\n                            self.zoom.css({\n                                position: \"absolute\",\n                                top: 1,\n                                right: 0,\n                                \"margin-right\": rail.width + 4,\n                            });\n                            bd.append(self.zoom);\n                        }\n                        rail.css({\n                            position: \"absolute\",\n                            top: 0,\n                        });\n                        rail.css(rail.align ? { right: 0 } : { left: 0 });\n                        bd.append(rail);\n                        if (railh) {\n                            railh.css({\n                                position: \"absolute\",\n                                left: 0,\n                                bottom: 0,\n                            });\n                            railh.css(railh.align ? { bottom: 0 } : { top: 0 });\n                            bd.append(railh);\n                        }\n                    } else {\n                        self.isfixed = self.win.css(\"position\") == \"fixed\";\n                        var rlpos = self.isfixed ? \"fixed\" : \"absolute\";\n\n                        if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\n                        if (self.viewport) {\n                            self.body = self.viewport;\n                            if (!/fixed|absolute/.test(self.viewport.css(\"position\")))\n                                self.css(self.viewport, {\n                                    position: \"relative\",\n                                });\n                        }\n\n                        rail.css({\n                            position: rlpos,\n                        });\n                        if (self.zoom)\n                            self.zoom.css({\n                                position: rlpos,\n                            });\n                        self.updateScrollBar();\n                        self.body.append(rail);\n                        if (self.zoom) self.body.append(self.zoom);\n                        if (self.railh) {\n                            railh.css({\n                                position: rlpos,\n                            });\n                            self.body.append(railh);\n                        }\n                    }\n\n                    if (cap.isios)\n                        self.css(self.win, {\n                            \"-webkit-tap-highlight-color\": \"rgba(0,0,0,0)\",\n                            \"-webkit-touch-callout\": \"none\",\n                        }); // prevent grey layer on click\n\n                    if (opt.disableoutline) {\n                        if (cap.isie) self.win.attr(\"hideFocus\", \"true\"); // IE, prevent dotted rectangle on focused div\n                        if (cap.iswebkit) self.win.css(\"outline\", \"none\"); // Webkit outline\n                    }\n                }\n\n                if (opt.autohidemode === false) {\n                    self.autohidedom = false;\n                    self.rail.css({\n                        opacity: opt.cursoropacitymax,\n                    });\n                    if (self.railh)\n                        self.railh.css({\n                            opacity: opt.cursoropacitymax,\n                        });\n                } else if (opt.autohidemode === true || opt.autohidemode === \"leave\") {\n                    self.autohidedom = $().add(self.rail);\n                    if (cap.isie8) self.autohidedom = self.autohidedom.add(self.cursor);\n                    if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n                    if (self.railh && cap.isie8)\n                        self.autohidedom = self.autohidedom.add(self.cursorh);\n                } else if (opt.autohidemode == \"scroll\") {\n                    self.autohidedom = $().add(self.rail);\n                    if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n                } else if (opt.autohidemode == \"cursor\") {\n                    self.autohidedom = $().add(self.cursor);\n                    if (self.railh) self.autohidedom = self.autohidedom.add(self.cursorh);\n                } else if (opt.autohidemode == \"hidden\") {\n                    self.autohidedom = false;\n                    self.hide();\n                    self.railslocked = false;\n                }\n\n                if (\n                    cap.cantouch ||\n                    self.istouchcapable ||\n                    opt.emulatetouch ||\n                    cap.hasmstouch\n                ) {\n                    self.scrollmom = new ScrollMomentumClass2D(self);\n\n                    var delayedclick = null;\n\n                    self.ontouchstart = function(e) {\n                        if (self.locked) return false;\n\n                        //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n                        if (\n                            e.pointerType &&\n                            (e.pointerType === \"mouse\" ||\n                                e.pointerType === e.MSPOINTER_TYPE_MOUSE)\n                        )\n                            return false; // need test on surface!!\n\n                        self.hasmoving = false;\n\n                        if (self.scrollmom.timer) {\n                            self.triggerScrollEnd();\n                            self.scrollmom.stop();\n                        }\n\n                        if (!self.railslocked) {\n                            var tg = self.getTarget(e);\n\n                            if (tg) {\n                                var skp = /INPUT/i.test(tg.nodeName) && /range/i.test(tg.type);\n                                if (skp) return self.stopPropagation(e);\n                            }\n\n                            var ismouse = e.type === \"mousedown\";\n\n                            if (!(\"clientX\" in e) && \"changedTouches\" in e) {\n                                e.clientX = e.changedTouches[0].clientX;\n                                e.clientY = e.changedTouches[0].clientY;\n                            }\n\n                            if (self.forcescreen) {\n                                var le = e;\n                                e = {\n                                    original: e.original ? e.original : e,\n                                };\n                                e.clientX = le.screenX;\n                                e.clientY = le.screenY;\n                            }\n\n                            self.rail.drag = {\n                                x: e.clientX,\n                                y: e.clientY,\n                                sx: self.scroll.x,\n                                sy: self.scroll.y,\n                                st: self.getScrollTop(),\n                                sl: self.getScrollLeft(),\n                                pt: 2,\n                                dl: false,\n                                tg: tg,\n                            };\n\n                            if (self.ispage || !opt.directionlockdeadzone) {\n                                self.rail.drag.dl = \"f\";\n                            } else {\n                                var view = {\n                                    w: $window.width(),\n                                    h: $window.height(),\n                                };\n\n                                var page = self.getContentSize();\n\n                                var maxh = page.h - view.h;\n                                var maxw = page.w - view.w;\n\n                                if (self.rail.scrollable && !self.railh.scrollable)\n                                    self.rail.drag.ck = maxh > 0 ? \"v\" : false;\n                                else if (!self.rail.scrollable && self.railh.scrollable)\n                                    self.rail.drag.ck = maxw > 0 ? \"h\" : false;\n                                else self.rail.drag.ck = false;\n                            }\n\n                            if (opt.emulatetouch && self.isiframe && cap.isie) {\n                                var wp = self.win.position();\n                                self.rail.drag.x += wp.left;\n                                self.rail.drag.y += wp.top;\n                            }\n\n                            self.hasmoving = false;\n                            self.lastmouseup = false;\n                            self.scrollmom.reset(e.clientX, e.clientY);\n\n                            if (tg && ismouse) {\n                                var ip = /INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName);\n                                if (!ip) {\n                                    if (cap.hasmousecapture) tg.setCapture();\n                                    if (opt.emulatetouch) {\n                                        if (tg.onclick && !(tg._onclick || false)) {\n                                            // intercept DOM0 onclick event\n                                            tg._onclick = tg.onclick;\n                                            tg.onclick = function(e) {\n                                                if (self.hasmoving) return false;\n                                                tg._onclick.call(this, e);\n                                            };\n                                        }\n                                        return self.cancelEvent(e);\n                                    }\n                                    return self.stopPropagation(e);\n                                }\n\n                                if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr(\"type\"))) {\n                                    self.preventclick = {\n                                        tg: tg,\n                                        click: false,\n                                    };\n                                }\n                            }\n                        }\n                    };\n\n                    self.ontouchend = function(e) {\n                        if (!self.rail.drag) return true;\n\n                        if (self.rail.drag.pt == 2) {\n                            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n                            if (\n                                e.pointerType &&\n                                (e.pointerType === \"mouse\" ||\n                                    e.pointerType === e.MSPOINTER_TYPE_MOUSE)\n                            )\n                                return false;\n\n                            self.rail.drag = false;\n\n                            var ismouse = e.type === \"mouseup\";\n\n                            if (self.hasmoving) {\n                                self.scrollmom.doMomentum();\n                                self.lastmouseup = true;\n                                self.hideCursor();\n                                if (cap.hasmousecapture) _doc.releaseCapture();\n                                if (ismouse) return self.cancelEvent(e);\n                            }\n                        } else if (self.rail.drag.pt == 1) {\n                            return self.onmouseup(e);\n                        }\n                    };\n\n                    var moveneedoffset =\n                        opt.emulatetouch && self.isiframe && !cap.hasmousecapture;\n\n                    var locktollerance = (opt.directionlockdeadzone * 0.3) | 0;\n\n                    self.ontouchmove = function(e, byiframe) {\n                        if (!self.rail.drag) return true;\n\n                        if (e.targetTouches && opt.preventmultitouchscrolling) {\n                            if (e.targetTouches.length > 1) return true; // multitouch\n                        }\n\n                        //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n                        if (\n                            e.pointerType &&\n                            (e.pointerType === \"mouse\" ||\n                                e.pointerType === e.MSPOINTER_TYPE_MOUSE)\n                        )\n                            return true;\n\n                        if (self.rail.drag.pt == 2) {\n                            if (\"changedTouches\" in e) {\n                                e.clientX = e.changedTouches[0].clientX;\n                                e.clientY = e.changedTouches[0].clientY;\n                            }\n\n                            var ofy, ofx;\n                            ofx = ofy = 0;\n\n                            if (moveneedoffset && !byiframe) {\n                                var wp = self.win.position();\n                                ofx = -wp.left;\n                                ofy = -wp.top;\n                            }\n\n                            var fy = e.clientY + ofy;\n                            var my = fy - self.rail.drag.y;\n                            var fx = e.clientX + ofx;\n                            var mx = fx - self.rail.drag.x;\n\n                            var ny = self.rail.drag.st - my;\n\n                            if (self.ishwscroll && opt.bouncescroll) {\n                                if (ny < 0) {\n                                    ny = Math.round(ny / 2);\n                                } else if (ny > self.page.maxh) {\n                                    ny = self.page.maxh + Math.round((ny - self.page.maxh) / 2);\n                                }\n                            } else {\n                                if (ny < 0) {\n                                    ny = 0;\n                                    fy = 0;\n                                } else if (ny > self.page.maxh) {\n                                    ny = self.page.maxh;\n                                    fy = 0;\n                                }\n                                if (fy === 0 && !self.hasmoving) {\n                                    if (!self.ispage) self.rail.drag = false;\n                                    return true;\n                                }\n                            }\n\n                            var nx = self.getScrollLeft();\n\n                            if (self.railh && self.railh.scrollable) {\n                                nx = self.isrtlmode ?\n                                    mx - self.rail.drag.sl :\n                                    self.rail.drag.sl - mx;\n\n                                if (self.ishwscroll && opt.bouncescroll) {\n                                    if (nx < 0) {\n                                        nx = Math.round(nx / 2);\n                                    } else if (nx > self.page.maxw) {\n                                        nx = self.page.maxw + Math.round((nx - self.page.maxw) / 2);\n                                    }\n                                } else {\n                                    if (nx < 0) {\n                                        nx = 0;\n                                        fx = 0;\n                                    }\n                                    if (nx > self.page.maxw) {\n                                        nx = self.page.maxw;\n                                        fx = 0;\n                                    }\n                                }\n                            }\n\n                            if (!self.hasmoving) {\n                                if (\n                                    self.rail.drag.y === e.clientY &&\n                                    self.rail.drag.x === e.clientX\n                                )\n                                    return self.cancelEvent(e); // prevent first useless move event\n\n                                var ay = Math.abs(my);\n                                var ax = Math.abs(mx);\n                                var dz = opt.directionlockdeadzone;\n\n                                if (!self.rail.drag.ck) {\n                                    if (ay > dz && ax > dz) self.rail.drag.dl = \"f\";\n                                    else if (ay > dz)\n                                        self.rail.drag.dl = ax > locktollerance ? \"f\" : \"v\";\n                                    else if (ax > dz)\n                                        self.rail.drag.dl = ay > locktollerance ? \"f\" : \"h\";\n                                } else if (self.rail.drag.ck == \"v\") {\n                                    if (ax > dz && ay <= locktollerance) {\n                                        self.rail.drag = false;\n                                    } else if (ay > dz) self.rail.drag.dl = \"v\";\n                                } else if (self.rail.drag.ck == \"h\") {\n                                    if (ay > dz && ax <= locktollerance) {\n                                        self.rail.drag = false;\n                                    } else if (ax > dz) self.rail.drag.dl = \"h\";\n                                }\n\n                                if (!self.rail.drag.dl) return self.cancelEvent(e);\n\n                                self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n                                self.hasmoving = true;\n                            }\n\n                            if (self.preventclick && !self.preventclick.click) {\n                                self.preventclick.click = self.preventclick.tg.onclick || false;\n                                self.preventclick.tg.onclick = self.onpreventclick;\n                            }\n\n                            if (self.rail.drag.dl) {\n                                if (self.rail.drag.dl == \"v\") nx = self.rail.drag.sl;\n                                else if (self.rail.drag.dl == \"h\") ny = self.rail.drag.st;\n                            }\n\n                            self.synched(\"touchmove\", function() {\n                                if (self.rail.drag && self.rail.drag.pt == 2) {\n                                    if (self.prepareTransition) self.resetTransition();\n                                    if (self.rail.scrollable) self.setScrollTop(ny);\n                                    self.scrollmom.update(fx, fy);\n                                    if (self.railh && self.railh.scrollable) {\n                                        self.setScrollLeft(nx);\n                                        self.showCursor(ny, nx);\n                                    } else {\n                                        self.showCursor(ny);\n                                    }\n                                    if (cap.isie10) _doc.selection.clear();\n                                }\n                            });\n\n                            return self.cancelEvent(e);\n                        } else if (self.rail.drag.pt == 1) {\n                            // drag on cursor\n                            return self.onmousemove(e);\n                        }\n                    };\n\n                    self.ontouchstartCursor = function(e, hronly) {\n                        if (self.rail.drag && self.rail.drag.pt != 3) return;\n                        if (self.locked) return self.cancelEvent(e);\n                        self.cancelScroll();\n                        self.rail.drag = {\n                            x: e.touches[0].clientX,\n                            y: e.touches[0].clientY,\n                            sx: self.scroll.x,\n                            sy: self.scroll.y,\n                            pt: 3,\n                            hr: !!hronly,\n                        };\n                        var tg = self.getTarget(e);\n                        if (!self.ispage && cap.hasmousecapture) tg.setCapture();\n                        if (self.isiframe && !cap.hasmousecapture) {\n                            self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n                            self.css(self.doc, { \"pointer-events\": \"none\" });\n                        }\n                        return self.cancelEvent(e);\n                    };\n\n                    self.ontouchendCursor = function(e) {\n                        if (self.rail.drag) {\n                            if (cap.hasmousecapture) _doc.releaseCapture();\n                            if (self.isiframe && !cap.hasmousecapture)\n                                self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n                            if (self.rail.drag.pt != 3) return;\n                            self.rail.drag = false;\n                            return self.cancelEvent(e);\n                        }\n                    };\n\n                    self.ontouchmoveCursor = function(e) {\n                        if (self.rail.drag) {\n                            if (self.rail.drag.pt != 3) return;\n\n                            self.cursorfreezed = true;\n\n                            if (self.rail.drag.hr) {\n                                self.scroll.x =\n                                    self.rail.drag.sx + (e.touches[0].clientX - self.rail.drag.x);\n                                if (self.scroll.x < 0) self.scroll.x = 0;\n                                var mw = self.scrollvaluemaxw;\n                                if (self.scroll.x > mw) self.scroll.x = mw;\n                            } else {\n                                self.scroll.y =\n                                    self.rail.drag.sy + (e.touches[0].clientY - self.rail.drag.y);\n                                if (self.scroll.y < 0) self.scroll.y = 0;\n                                var my = self.scrollvaluemax;\n                                if (self.scroll.y > my) self.scroll.y = my;\n                            }\n\n                            self.synched(\"touchmove\", function() {\n                                if (self.rail.drag && self.rail.drag.pt == 3) {\n                                    self.showCursor();\n                                    if (self.rail.drag.hr)\n                                        self.doScrollLeft(\n                                            Math.round(self.scroll.x * self.scrollratio.x),\n                                            opt.cursordragspeed\n                                        );\n                                    else\n                                        self.doScrollTop(\n                                            Math.round(self.scroll.y * self.scrollratio.y),\n                                            opt.cursordragspeed\n                                        );\n                                }\n                            });\n\n                            return self.cancelEvent(e);\n                        }\n                    };\n                }\n\n                self.onmousedown = function(e, hronly) {\n                    if (self.rail.drag && self.rail.drag.pt != 1) return;\n                    if (self.railslocked) return self.cancelEvent(e);\n                    self.cancelScroll();\n                    self.rail.drag = {\n                        x: e.clientX,\n                        y: e.clientY,\n                        sx: self.scroll.x,\n                        sy: self.scroll.y,\n                        pt: 1,\n                        hr: hronly || false,\n                    };\n                    var tg = self.getTarget(e);\n\n                    if (cap.hasmousecapture) tg.setCapture();\n                    if (self.isiframe && !cap.hasmousecapture) {\n                        self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n                        self.css(self.doc, {\n                            \"pointer-events\": \"none\",\n                        });\n                    }\n                    self.hasmoving = false;\n                    return self.cancelEvent(e);\n                };\n\n                self.onmouseup = function(e) {\n                    if (self.rail.drag) {\n                        if (self.rail.drag.pt != 1) return true;\n\n                        if (cap.hasmousecapture) _doc.releaseCapture();\n                        if (self.isiframe && !cap.hasmousecapture)\n                            self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n                        self.rail.drag = false;\n                        self.cursorfreezed = false;\n                        if (self.hasmoving) self.triggerScrollEnd();\n                        return self.cancelEvent(e);\n                    }\n                };\n\n                self.onmousemove = function(e) {\n                    if (self.rail.drag) {\n                        if (self.rail.drag.pt !== 1) return;\n\n                        if (cap.ischrome && e.which === 0) return self.onmouseup(e);\n\n                        self.cursorfreezed = true;\n\n                        if (!self.hasmoving)\n                            self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n\n                        self.hasmoving = true;\n\n                        if (self.rail.drag.hr) {\n                            self.scroll.x =\n                                self.rail.drag.sx + (e.clientX - self.rail.drag.x);\n                            if (self.scroll.x < 0) self.scroll.x = 0;\n                            var mw = self.scrollvaluemaxw;\n                            if (self.scroll.x > mw) self.scroll.x = mw;\n                        } else {\n                            self.scroll.y =\n                                self.rail.drag.sy + (e.clientY - self.rail.drag.y);\n                            if (self.scroll.y < 0) self.scroll.y = 0;\n                            var my = self.scrollvaluemax;\n                            if (self.scroll.y > my) self.scroll.y = my;\n                        }\n\n                        self.synched(\"mousemove\", function() {\n                            if (self.cursorfreezed) {\n                                self.showCursor();\n\n                                if (self.rail.drag.hr) {\n                                    self.scrollLeft(\n                                        Math.round(self.scroll.x * self.scrollratio.x)\n                                    );\n                                } else {\n                                    self.scrollTop(\n                                        Math.round(self.scroll.y * self.scrollratio.y)\n                                    );\n                                }\n                            }\n                        });\n\n                        return self.cancelEvent(e);\n                    } else {\n                        self.checkarea = 0;\n                    }\n                };\n\n                if (cap.cantouch || opt.emulatetouch) {\n                    self.onpreventclick = function(e) {\n                        if (self.preventclick) {\n                            self.preventclick.tg.onclick = self.preventclick.click;\n                            self.preventclick = false;\n                            return self.cancelEvent(e);\n                        }\n                    };\n\n                    self.onclick = cap.isios ?\n                        false :\n                        function(e) {\n                            // it needs to check IE11 ???\n                            if (self.lastmouseup) {\n                                self.lastmouseup = false;\n                                return self.cancelEvent(e);\n                            } else {\n                                return true;\n                            }\n                        };\n\n                    if (opt.grabcursorenabled && cap.cursorgrabvalue) {\n                        self.css(self.ispage ? self.doc : self.win, {\n                            cursor: cap.cursorgrabvalue,\n                        });\n                        self.css(self.rail, {\n                            cursor: cap.cursorgrabvalue,\n                        });\n                    }\n                } else {\n                    var checkSelectionScroll = function(e) {\n                        if (!self.selectiondrag) return;\n\n                        if (e) {\n                            var ww = self.win.outerHeight();\n                            var df = e.pageY - self.selectiondrag.top;\n                            if (df > 0 && df < ww) df = 0;\n                            if (df >= ww) df -= ww;\n                            self.selectiondrag.df = df;\n                        }\n                        if (self.selectiondrag.df === 0) return;\n\n                        var rt = -((self.selectiondrag.df * 2) / 6) | 0;\n                        self.doScrollBy(rt);\n\n                        self.debounced(\n                            \"doselectionscroll\",\n                            function() {\n                                checkSelectionScroll();\n                            },\n                            50\n                        );\n                    };\n\n                    if (\"getSelection\" in _doc) {\n                        // A grade - Major browsers\n                        self.hasTextSelected = function() {\n                            return _doc.getSelection().rangeCount > 0;\n                        };\n                    } else if (\"selection\" in _doc) {\n                        //IE9-\n                        self.hasTextSelected = function() {\n                            return _doc.selection.type != \"None\";\n                        };\n                    } else {\n                        self.hasTextSelected = function() {\n                            // no support\n                            return false;\n                        };\n                    }\n\n                    self.onselectionstart = function(e) {\n                        //  More testing - severe chrome issues\n                        /* \n                                                  if (!self.haswrapper&&(e.which&&e.which==2)) {  // fool browser to manage middle button scrolling\n                                                    self.win.css({'overflow':'auto'});\n                                                    setTimeout(function(){\n                                                      self.win.css({'overflow':'hidden'});\n                                                    },10);                \n                                                    return true;\n                                                  }            \n                                    */\n                        if (self.ispage) return;\n                        self.selectiondrag = self.win.offset();\n                    };\n\n                    self.onselectionend = function(e) {\n                        self.selectiondrag = false;\n                    };\n                    self.onselectiondrag = function(e) {\n                        if (!self.selectiondrag) return;\n                        if (self.hasTextSelected())\n                            self.debounced(\n                                \"selectionscroll\",\n                                function() {\n                                    checkSelectionScroll(e);\n                                },\n                                250\n                            );\n                    };\n                }\n\n                if (cap.hasw3ctouch) {\n                    //IE11+\n                    self.css(self.ispage ? $(\"html\") : self.win, {\n                        \"touch-action\": \"none\",\n                    });\n                    self.css(self.rail, {\n                        \"touch-action\": \"none\",\n                    });\n                    self.css(self.cursor, {\n                        \"touch-action\": \"none\",\n                    });\n                    self.bind(self.win, \"pointerdown\", self.ontouchstart);\n                    self.bind(_doc, \"pointerup\", self.ontouchend);\n                    self.delegate(_doc, \"pointermove\", self.ontouchmove);\n                } else if (cap.hasmstouch) {\n                    //IE10\n                    self.css(self.ispage ? $(\"html\") : self.win, {\n                        \"-ms-touch-action\": \"none\",\n                    });\n                    self.css(self.rail, {\n                        \"-ms-touch-action\": \"none\",\n                    });\n                    self.css(self.cursor, {\n                        \"-ms-touch-action\": \"none\",\n                    });\n                    self.bind(self.win, \"MSPointerDown\", self.ontouchstart);\n                    self.bind(_doc, \"MSPointerUp\", self.ontouchend);\n                    self.delegate(_doc, \"MSPointerMove\", self.ontouchmove);\n                    self.bind(self.cursor, \"MSGestureHold\", function(e) {\n                        e.preventDefault();\n                    });\n                    self.bind(self.cursor, \"contextmenu\", function(e) {\n                        e.preventDefault();\n                    });\n                } else if (cap.cantouch) {\n                    // smartphones/touch devices\n                    self.bind(self.win, \"touchstart\", self.ontouchstart, false, true);\n                    self.bind(_doc, \"touchend\", self.ontouchend, false, true);\n                    self.bind(_doc, \"touchcancel\", self.ontouchend, false, true);\n                    self.delegate(_doc, \"touchmove\", self.ontouchmove, false, true);\n                }\n\n                if (opt.emulatetouch) {\n                    self.bind(self.win, \"mousedown\", self.ontouchstart, false, true);\n                    self.bind(_doc, \"mouseup\", self.ontouchend, false, true);\n                    self.bind(_doc, \"mousemove\", self.ontouchmove, false, true);\n                }\n\n                if (opt.cursordragontouch || (!cap.cantouch && !opt.emulatetouch)) {\n                    self.rail.css({\n                        cursor: \"default\",\n                    });\n                    self.railh &&\n                        self.railh.css({\n                            cursor: \"default\",\n                        });\n\n                    self.jqbind(self.rail, \"mouseenter\", function() {\n                        if (!self.ispage && !self.win.is(\":visible\")) return false;\n                        if (self.canshowonmouseevent) self.showCursor();\n                        self.rail.active = true;\n                    });\n                    self.jqbind(self.rail, \"mouseleave\", function() {\n                        self.rail.active = false;\n                        if (!self.rail.drag) self.hideCursor();\n                    });\n\n                    if (opt.sensitiverail) {\n                        self.bind(self.rail, \"click\", function(e) {\n                            self.doRailClick(e, false, false);\n                        });\n                        self.bind(self.rail, \"dblclick\", function(e) {\n                            self.doRailClick(e, true, false);\n                        });\n                        self.bind(self.cursor, \"click\", function(e) {\n                            self.cancelEvent(e);\n                        });\n                        self.bind(self.cursor, \"dblclick\", function(e) {\n                            self.cancelEvent(e);\n                        });\n                    }\n\n                    if (self.railh) {\n                        self.jqbind(self.railh, \"mouseenter\", function() {\n                            if (!self.ispage && !self.win.is(\":visible\")) return false;\n                            if (self.canshowonmouseevent) self.showCursor();\n                            self.rail.active = true;\n                        });\n                        self.jqbind(self.railh, \"mouseleave\", function() {\n                            self.rail.active = false;\n                            if (!self.rail.drag) self.hideCursor();\n                        });\n\n                        if (opt.sensitiverail) {\n                            self.bind(self.railh, \"click\", function(e) {\n                                self.doRailClick(e, false, true);\n                            });\n                            self.bind(self.railh, \"dblclick\", function(e) {\n                                self.doRailClick(e, true, true);\n                            });\n                            self.bind(self.cursorh, \"click\", function(e) {\n                                self.cancelEvent(e);\n                            });\n                            self.bind(self.cursorh, \"dblclick\", function(e) {\n                                self.cancelEvent(e);\n                            });\n                        }\n                    }\n                }\n\n                if (opt.cursordragontouch && (this.istouchcapable || cap.cantouch)) {\n                    self.bind(self.cursor, \"touchstart\", self.ontouchstartCursor);\n                    self.bind(self.cursor, \"touchmove\", self.ontouchmoveCursor);\n                    self.bind(self.cursor, \"touchend\", self.ontouchendCursor);\n                    self.cursorh &&\n                        self.bind(self.cursorh, \"touchstart\", function(e) {\n                            self.ontouchstartCursor(e, true);\n                        });\n                    self.cursorh &&\n                        self.bind(self.cursorh, \"touchmove\", self.ontouchmoveCursor);\n                    self.cursorh &&\n                        self.bind(self.cursorh, \"touchend\", self.ontouchendCursor);\n                }\n\n                //        if (!cap.cantouch && !opt.emulatetouch) {\n                if (!opt.emulatetouch && !cap.isandroid && !cap.isios) {\n                    self.bind(\n                        cap.hasmousecapture ? self.win : _doc,\n                        \"mouseup\",\n                        self.onmouseup\n                    );\n                    self.bind(_doc, \"mousemove\", self.onmousemove);\n                    if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n                    self.bind(self.cursor, \"mousedown\", self.onmousedown);\n                    self.bind(self.cursor, \"mouseup\", self.onmouseup);\n\n                    if (self.railh) {\n                        self.bind(self.cursorh, \"mousedown\", function(e) {\n                            self.onmousedown(e, true);\n                        });\n                        self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n                    }\n\n                    if (!self.ispage && opt.enablescrollonselection) {\n                        self.bind(self.win[0], \"mousedown\", self.onselectionstart);\n                        self.bind(_doc, \"mouseup\", self.onselectionend);\n                        self.bind(self.cursor, \"mouseup\", self.onselectionend);\n                        if (self.cursorh)\n                            self.bind(self.cursorh, \"mouseup\", self.onselectionend);\n                        self.bind(_doc, \"mousemove\", self.onselectiondrag);\n                    }\n\n                    if (self.zoom) {\n                        self.jqbind(self.zoom, \"mouseenter\", function() {\n                            if (self.canshowonmouseevent) self.showCursor();\n                            self.rail.active = true;\n                        });\n                        self.jqbind(self.zoom, \"mouseleave\", function() {\n                            self.rail.active = false;\n                            if (!self.rail.drag) self.hideCursor();\n                        });\n                    }\n                } else {\n                    self.bind(\n                        cap.hasmousecapture ? self.win : _doc,\n                        \"mouseup\",\n                        self.ontouchend\n                    );\n                    if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n                    if (opt.cursordragontouch) {\n                        self.bind(self.cursor, \"mousedown\", self.onmousedown);\n                        self.bind(self.cursor, \"mouseup\", self.onmouseup);\n                        self.cursorh &&\n                            self.bind(self.cursorh, \"mousedown\", function(e) {\n                                self.onmousedown(e, true);\n                            });\n                        self.cursorh && self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n                    } else {\n                        self.bind(self.rail, \"mousedown\", function(e) {\n                            e.preventDefault();\n                        }); // prevent text selection\n                        self.railh &&\n                            self.bind(self.railh, \"mousedown\", function(e) {\n                                e.preventDefault();\n                            });\n                    }\n                }\n\n                if (opt.enablemousewheel) {\n                    if (!self.isiframe)\n                        self.mousewheel(\n                            cap.isie && self.ispage ? _doc : self.win,\n                            self.onmousewheel\n                        );\n                    self.mousewheel(self.rail, self.onmousewheel);\n                    if (self.railh) self.mousewheel(self.railh, self.onmousewheelhr);\n                }\n\n                if (!self.ispage &&\n                    !cap.cantouch &&\n                    !/HTML|^BODY/.test(self.win[0].nodeName)\n                ) {\n                    if (!self.win.attr(\"tabindex\"))\n                        self.win.attr({\n                            tabindex: ++tabindexcounter,\n                        });\n\n                    self.bind(self.win, \"focus\", function(e) {\n                        // better using native events\n                        domfocus = self.getTarget(e).id || self.getTarget(e) || false;\n                        self.hasfocus = true;\n                        if (self.canshowonmouseevent) self.noticeCursor();\n                    });\n                    self.bind(self.win, \"blur\", function(e) {\n                        // *\n                        domfocus = false;\n                        self.hasfocus = false;\n                    });\n\n                    self.bind(self.win, \"mouseenter\", function(e) {\n                        // *\n                        mousefocus = self.getTarget(e).id || self.getTarget(e) || false;\n                        self.hasmousefocus = true;\n                        if (self.canshowonmouseevent) self.noticeCursor();\n                    });\n                    self.bind(self.win, \"mouseleave\", function(e) {\n                        // *\n                        mousefocus = false;\n                        self.hasmousefocus = false;\n                        if (!self.rail.drag) self.hideCursor();\n                    });\n                }\n\n                //Thanks to http://www.quirksmode.org !!\n                self.onkeypress = function(e) {\n                    if (self.railslocked && self.page.maxh === 0) return true;\n\n                    e = e || _win.event;\n                    var tg = self.getTarget(e);\n                    if (tg && /INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\n                        var tp = tg.getAttribute(\"type\") || tg.type || false;\n                        if (!tp || !/submit|button|cancel/i.tp) return true;\n                    }\n\n                    if ($(tg).attr(\"contenteditable\")) return true;\n\n                    if (\n                        self.hasfocus ||\n                        (self.hasmousefocus && !domfocus) ||\n                        (self.ispage && !domfocus && !mousefocus)\n                    ) {\n                        var key = e.keyCode;\n\n                        if (self.railslocked && key != 27) return self.cancelEvent(e);\n\n                        var ctrl = e.ctrlKey || false;\n                        var shift = e.shiftKey || false;\n\n                        var ret = false;\n                        switch (key) {\n                            case 38:\n                            case 63233: //safari\n                                self.doScrollBy(24 * 3);\n                                ret = true;\n                                break;\n                            case 40:\n                            case 63235: //safari\n                                self.doScrollBy(-24 * 3);\n                                ret = true;\n                                break;\n                            case 37:\n                            case 63232: //safari\n                                if (self.railh) {\n                                    ctrl ? self.doScrollLeft(0) : self.doScrollLeftBy(24 * 3);\n                                    ret = true;\n                                }\n                                break;\n                            case 39:\n                            case 63234: //safari\n                                if (self.railh) {\n                                    ctrl\n                                        ?\n                                        self.doScrollLeft(self.page.maxw) :\n                                        self.doScrollLeftBy(-24 * 3);\n                                    ret = true;\n                                }\n                                break;\n                            case 33:\n                            case 63276: // safari\n                                self.doScrollBy(self.view.h);\n                                ret = true;\n                                break;\n                            case 34:\n                            case 63277: // safari\n                                self.doScrollBy(-self.view.h);\n                                ret = true;\n                                break;\n                            case 36:\n                            case 63273: // safari\n                                self.railh && ctrl ?\n                                    self.doScrollPos(0, 0) :\n                                    self.doScrollTo(0);\n                                ret = true;\n                                break;\n                            case 35:\n                            case 63275: // safari\n                                self.railh && ctrl ?\n                                    self.doScrollPos(self.page.maxw, self.page.maxh) :\n                                    self.doScrollTo(self.page.maxh);\n                                ret = true;\n                                break;\n                            case 32:\n                                if (opt.spacebarenabled) {\n                                    shift\n                                        ?\n                                        self.doScrollBy(self.view.h) :\n                                        self.doScrollBy(-self.view.h);\n                                    ret = true;\n                                }\n                                break;\n                            case 27: // ESC\n                                if (self.zoomactive) {\n                                    self.doZoom();\n                                    ret = true;\n                                }\n                                break;\n                        }\n                        if (ret) return self.cancelEvent(e);\n                    }\n                };\n\n                if (opt.enablekeyboard)\n                    self.bind(\n                        _doc,\n                        cap.isopera && !cap.isopera12 ? \"keypress\" : \"keydown\",\n                        self.onkeypress\n                    );\n\n                self.bind(_doc, \"keydown\", function(e) {\n                    var ctrl = e.ctrlKey || false;\n                    if (ctrl) self.wheelprevented = true;\n                });\n                self.bind(_doc, \"keyup\", function(e) {\n                    var ctrl = e.ctrlKey || false;\n                    if (!ctrl) self.wheelprevented = false;\n                });\n                self.bind(_win, \"blur\", function(e) {\n                    self.wheelprevented = false;\n                });\n\n                self.bind(_win, \"resize\", self.onscreenresize);\n                self.bind(_win, \"orientationchange\", self.onscreenresize);\n\n                self.bind(_win, \"load\", self.lazyResize);\n\n                if (cap.ischrome && !self.ispage && !self.haswrapper) {\n                    //chrome void scrollbar bug - it persists in version 26\n                    var tmp = self.win.attr(\"style\");\n                    var ww = parseFloat(self.win.css(\"width\")) + 1;\n                    self.win.css(\"width\", ww);\n                    self.synched(\"chromefix\", function() {\n                        self.win.attr(\"style\", tmp);\n                    });\n                }\n\n                // Trying a cross-browser implementation - good luck!\n\n                self.onAttributeChange = function(e) {\n                    self.lazyResize(self.isieold ? 250 : 30);\n                };\n\n                if (opt.enableobserver) {\n                    if (!self.isie11 && ClsMutationObserver !== false) {\n                        // IE11 crashes  #568\n                        self.observerbody = new ClsMutationObserver(function(mutations) {\n                            mutations.forEach(function(mut) {\n                                if (mut.type == \"attributes\") {\n                                    return $body.hasClass(\"modal-open\") &&\n                                        $body.hasClass(\"modal-dialog\") &&\n                                        !$.contains($(\".modal-dialog\")[0], self.doc[0]) ?\n                                        self.hide() :\n                                        self.show(); // Support for Bootstrap modal; Added check if the nice scroll element is inside a modal\n                                }\n                            });\n                            if (\n                                self.me.clientWidth != self.page.width ||\n                                self.me.clientHeight != self.page.height\n                            )\n                                return self.lazyResize(30);\n                        });\n                        self.observerbody.observe(_doc.body, {\n                            childList: true,\n                            subtree: true,\n                            characterData: false,\n                            attributes: true,\n                            attributeFilter: [\"class\"],\n                        });\n                    }\n\n                    if (!self.ispage && !self.haswrapper) {\n                        var _dom = self.win[0];\n\n                        // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\n                        if (ClsMutationObserver !== false) {\n                            self.observer = new ClsMutationObserver(function(mutations) {\n                                mutations.forEach(self.onAttributeChange);\n                            });\n                            self.observer.observe(_dom, {\n                                childList: true,\n                                characterData: false,\n                                attributes: true,\n                                subtree: false,\n                            });\n                            self.observerremover = new ClsMutationObserver(function(\n                                mutations\n                            ) {\n                                mutations.forEach(function(mo) {\n                                    if (mo.removedNodes.length > 0) {\n                                        for (var dd in mo.removedNodes) {\n                                            if (!!self && mo.removedNodes[dd] === _dom)\n                                                return self.remove();\n                                        }\n                                    }\n                                });\n                            });\n                            self.observerremover.observe(_dom.parentNode, {\n                                childList: true,\n                                characterData: false,\n                                attributes: false,\n                                subtree: false,\n                            });\n                        } else {\n                            self.bind(\n                                _dom,\n                                cap.isie && !cap.isie9 ? \"propertychange\" : \"DOMAttrModified\",\n                                self.onAttributeChange\n                            );\n                            if (cap.isie9)\n                                _dom.attachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n                            self.bind(_dom, \"DOMNodeRemoved\", function(e) {\n                                if (e.target === _dom) self.remove();\n                            });\n                        }\n                    }\n                }\n\n                //\n\n                if (!self.ispage && opt.boxzoom)\n                    self.bind(_win, \"resize\", self.resizeZoom);\n                if (self.istextarea) {\n                    self.bind(self.win, \"keydown\", self.lazyResize);\n                    self.bind(self.win, \"mouseup\", self.lazyResize);\n                }\n\n                self.lazyResize(30);\n            }\n\n            if (this.doc[0].nodeName == \"IFRAME\") {\n                var oniframeload = function() {\n                    self.iframexd = false;\n                    var doc;\n                    try {\n                        doc =\n                            \"contentDocument\" in this ?\n                            this.contentDocument :\n                            this.contentWindow._doc;\n                        var a = doc.domain;\n                    } catch (e) {\n                        self.iframexd = true;\n                        doc = false;\n                    }\n\n                    if (self.iframexd) {\n                        if (\"console\" in _win)\n                            console.log(\"NiceScroll error: policy restriced iframe\");\n                        return true; //cross-domain - I can't manage this\n                    }\n\n                    self.forcescreen = true;\n\n                    if (self.isiframe) {\n                        self.iframe = {\n                            doc: $(doc),\n                            html: self.doc.contents().find(\"html\")[0],\n                            body: self.doc.contents().find(\"body\")[0],\n                        };\n                        self.getContentSize = function() {\n                            return {\n                                w: Math.max(\n                                    self.iframe.html.scrollWidth,\n                                    self.iframe.body.scrollWidth\n                                ),\n                                h: Math.max(\n                                    self.iframe.html.scrollHeight,\n                                    self.iframe.body.scrollHeight\n                                ),\n                            };\n                        };\n                        self.docscroll = $(self.iframe.body);\n                    }\n\n                    if (!cap.isios && opt.iframeautoresize && !self.isiframe) {\n                        self.win.scrollTop(0); // reset position\n                        self.doc.height(\"\"); //reset height to fix browser bug\n                        var hh = Math.max(\n                            doc.getElementsByTagName(\"html\")[0].scrollHeight,\n                            doc.body.scrollHeight\n                        );\n                        self.doc.height(hh);\n                    }\n                    self.lazyResize(30);\n\n                    self.css($(self.iframe.body), _scrollyhidden);\n\n                    if (cap.isios && self.haswrapper) {\n                        self.css($(doc.body), {\n                            \"-webkit-transform\": \"translate3d(0,0,0)\",\n                        }); // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\n                    }\n\n                    if (\"contentWindow\" in this) {\n                        self.bind(this.contentWindow, \"scroll\", self.onscroll); //IE8 & minor\n                    } else {\n                        self.bind(doc, \"scroll\", self.onscroll);\n                    }\n\n                    if (opt.enablemousewheel) {\n                        self.mousewheel(doc, self.onmousewheel);\n                    }\n\n                    if (opt.enablekeyboard)\n                        self.bind(\n                            doc,\n                            cap.isopera ? \"keypress\" : \"keydown\",\n                            self.onkeypress\n                        );\n\n                    if (cap.cantouch) {\n                        self.bind(doc, \"touchstart\", self.ontouchstart);\n                        self.bind(doc, \"touchmove\", self.ontouchmove);\n                    } else if (opt.emulatetouch) {\n                        self.bind(doc, \"mousedown\", self.ontouchstart);\n                        self.bind(doc, \"mousemove\", function(e) {\n                            return self.ontouchmove(e, true);\n                        });\n                        if (opt.grabcursorenabled && cap.cursorgrabvalue)\n                            self.css($(doc.body), {\n                                cursor: cap.cursorgrabvalue,\n                            });\n                    }\n\n                    self.bind(doc, \"mouseup\", self.ontouchend);\n\n                    if (self.zoom) {\n                        if (opt.dblclickzoom) self.bind(doc, \"dblclick\", self.doZoom);\n                        if (self.ongesturezoom)\n                            self.bind(doc, \"gestureend\", self.ongesturezoom);\n                    }\n                };\n\n                if (this.doc[0].readyState && this.doc[0].readyState === \"complete\") {\n                    setTimeout(function() {\n                        oniframeload.call(self.doc[0], false);\n                    }, 500);\n                }\n                self.bind(this.doc, \"load\", oniframeload);\n            }\n        };\n\n        this.showCursor = function(py, px) {\n            if (self.cursortimeout) {\n                clearTimeout(self.cursortimeout);\n                self.cursortimeout = 0;\n            }\n            if (!self.rail) return;\n            if (self.autohidedom) {\n                self.autohidedom.stop().css({\n                    opacity: opt.cursoropacitymax,\n                });\n                self.cursoractive = true;\n            }\n\n            if (!self.rail.drag || self.rail.drag.pt != 1) {\n                if (py !== undefined && py !== false) {\n                    self.scroll.y = (py / self.scrollratio.y) | 0;\n                }\n                if (px !== undefined) {\n                    self.scroll.x = (px / self.scrollratio.x) | 0;\n                }\n            }\n\n            self.cursor.css({\n                height: self.cursorheight,\n                top: self.scroll.y,\n            });\n            if (self.cursorh) {\n                var lx = self.hasreversehr ?\n                    self.scrollvaluemaxw - self.scroll.x :\n                    self.scroll.x;\n                self.cursorh.css({\n                    width: self.cursorwidth,\n                    left:\n                        !self.rail.align && self.rail.visibility ?\n                        lx + self.rail.width :\n                        lx,\n                });\n                self.cursoractive = true;\n            }\n\n            if (self.zoom)\n                self.zoom.stop().css({\n                    opacity: opt.cursoropacitymax,\n                });\n        };\n\n        this.hideCursor = function(tm) {\n            if (self.cursortimeout) return;\n            if (!self.rail) return;\n            if (!self.autohidedom) return;\n\n            if (self.hasmousefocus && opt.autohidemode === \"leave\") return;\n            self.cursortimeout = setTimeout(function() {\n                if (!self.rail.active || !self.showonmouseevent) {\n                    self.autohidedom.stop().animate({\n                        opacity: opt.cursoropacitymin,\n                    });\n                    if (self.zoom)\n                        self.zoom.stop().animate({\n                            opacity: opt.cursoropacitymin,\n                        });\n                    self.cursoractive = false;\n                }\n                self.cursortimeout = 0;\n            }, tm || opt.hidecursordelay);\n        };\n\n        this.noticeCursor = function(tm, py, px) {\n            self.showCursor(py, px);\n            if (!self.rail.active) self.hideCursor(tm);\n        };\n\n        this.getContentSize = self.ispage ?\n\n            function() {\n                return {\n                    w: Math.max(\n                        _doc.body.scrollWidth,\n                        _doc.documentElement.scrollWidth\n                    ),\n                    h: Math.max(\n                        _doc.body.scrollHeight,\n                        _doc.documentElement.scrollHeight\n                    ),\n                };\n            } :\n            self.haswrapper ?\n\n            function() {\n                return {\n                    w: self.doc[0].offsetWidth,\n                    h: self.doc[0].offsetHeight,\n                };\n            } :\n            function() {\n                return {\n                    w: self.docscroll[0].scrollWidth,\n                    h: self.docscroll[0].scrollHeight,\n                };\n            };\n\n        this.onResize = function(e, page) {\n            if (!self || !self.win) return false;\n\n            var premaxh = self.page.maxh,\n                premaxw = self.page.maxw,\n                previewh = self.view.h,\n                previeww = self.view.w;\n\n            self.view = {\n                w: self.ispage ? self.win.width() : self.win[0].clientWidth,\n                h: self.ispage ? self.win.height() : self.win[0].clientHeight,\n            };\n\n            self.page = page ? page : self.getContentSize();\n\n            self.page.maxh = Math.max(0, self.page.h - self.view.h);\n            self.page.maxw = Math.max(0, self.page.w - self.view.w);\n\n            if (\n                self.page.maxh == premaxh &&\n                self.page.maxw == premaxw &&\n                self.view.w == previeww &&\n                self.view.h == previewh\n            ) {\n                // test position\n                if (!self.ispage) {\n                    var pos = self.win.offset();\n                    if (self.lastposition) {\n                        var lst = self.lastposition;\n                        if (lst.top == pos.top && lst.left == pos.left) return self; //nothing to do\n                    }\n                    self.lastposition = pos;\n                } else {\n                    return self; //nothing to do\n                }\n            }\n\n            if (self.page.maxh === 0) {\n                self.hideRail();\n                self.scrollvaluemax = 0;\n                self.scroll.y = 0;\n                self.scrollratio.y = 0;\n                self.cursorheight = 0;\n                self.setScrollTop(0);\n                if (self.rail) self.rail.scrollable = false;\n            } else {\n                self.page.maxh -= opt.railpadding.top + opt.railpadding.bottom;\n                self.rail.scrollable = true;\n            }\n\n            if (self.page.maxw === 0) {\n                self.hideRailHr();\n                self.scrollvaluemaxw = 0;\n                self.scroll.x = 0;\n                self.scrollratio.x = 0;\n                self.cursorwidth = 0;\n                self.setScrollLeft(0);\n                if (self.railh) {\n                    self.railh.scrollable = false;\n                }\n            } else {\n                self.page.maxw -= opt.railpadding.left + opt.railpadding.right;\n                if (self.railh) self.railh.scrollable = opt.horizrailenabled;\n            }\n\n            self.railslocked =\n                self.locked || (self.page.maxh === 0 && self.page.maxw === 0);\n            if (self.railslocked) {\n                if (!self.ispage) self.updateScrollBar(self.view);\n                return false;\n            }\n\n            if (!self.hidden) {\n                if (!self.rail.visibility) self.showRail();\n                if (self.railh && !self.railh.visibility) self.showRailHr();\n            }\n\n            if (\n                self.istextarea &&\n                self.win.css(\"resize\") &&\n                self.win.css(\"resize\") != \"none\"\n            )\n                self.view.h -= 20;\n\n            self.cursorheight = Math.min(\n                self.view.h,\n                Math.round(self.view.h * (self.view.h / self.page.h))\n            );\n            self.cursorheight = opt.cursorfixedheight ?\n                opt.cursorfixedheight :\n                Math.max(opt.cursorminheight, self.cursorheight);\n\n            self.cursorwidth = Math.min(\n                self.view.w,\n                Math.round(self.view.w * (self.view.w / self.page.w))\n            );\n            self.cursorwidth = opt.cursorfixedheight ?\n                opt.cursorfixedheight :\n                Math.max(opt.cursorminheight, self.cursorwidth);\n\n            self.scrollvaluemax =\n                self.view.h -\n                self.cursorheight -\n                (opt.railpadding.top + opt.railpadding.bottom);\n            if (!self.hasborderbox)\n                self.scrollvaluemax -=\n                self.cursor[0].offsetHeight - self.cursor[0].clientHeight;\n\n            if (self.railh) {\n                self.railh.width = self.page.maxh > 0 ? self.rail.width : self.view.w;\n                self.scrollvaluemaxw =\n                    self.railh.width -\n                    self.cursorwidth -\n                    (opt.railpadding.left + opt.railpadding.right);\n            }\n\n            if (!self.ispage) self.updateScrollBar(self.view);\n\n            self.scrollratio = {\n                x: self.page.maxw / self.scrollvaluemaxw,\n                y: self.page.maxh / self.scrollvaluemax,\n            };\n\n            var sy = self.getScrollTop();\n            if (sy > self.page.maxh) {\n                self.doScrollTop(self.page.maxh);\n            } else {\n                self.scroll.y = (self.getScrollTop() / self.scrollratio.y) | 0;\n                self.scroll.x = (self.getScrollLeft() / self.scrollratio.x) | 0;\n                if (self.cursoractive) self.noticeCursor();\n            }\n\n            if (self.scroll.y && self.getScrollTop() === 0)\n                self.doScrollTo((self.scroll.y * self.scrollratio.y) | 0);\n\n            return self;\n        };\n\n        this.resize = self.onResize;\n\n        var hlazyresize = 0;\n\n        this.onscreenresize = function(e) {\n            clearTimeout(hlazyresize);\n\n            var hiderails = !self.ispage && !self.haswrapper;\n            if (hiderails) self.hideRails();\n\n            hlazyresize = setTimeout(function() {\n                if (self) {\n                    if (hiderails) self.showRails();\n                    self.resize();\n                }\n                hlazyresize = 0;\n            }, 120);\n        };\n\n        this.lazyResize = function(tm) {\n            // event debounce\n\n            clearTimeout(hlazyresize);\n\n            tm = isNaN(tm) ? 240 : tm;\n\n            hlazyresize = setTimeout(function() {\n                self && self.resize();\n                hlazyresize = 0;\n            }, tm);\n\n            return self;\n        };\n\n        // derived by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\n        function _modernWheelEvent(dom, name, fn, bubble) {\n            self._bind(\n                dom,\n                name,\n                function(e) {\n                    e = e || _win.event;\n                    var event = {\n                        original: e,\n                        target: e.target || e.srcElement,\n                        type: \"wheel\",\n                        deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\n                        deltaX: 0,\n                        deltaZ: 0,\n                        preventDefault: function() {\n                            e.preventDefault ? e.preventDefault() : (e.returnValue = false);\n                            return false;\n                        },\n                        stopImmediatePropagation: function() {\n                            e.stopImmediatePropagation ?\n                                e.stopImmediatePropagation() :\n                                (e.cancelBubble = true);\n                        },\n                    };\n\n                    if (name == \"mousewheel\") {\n                        e.wheelDeltaX && (event.deltaX = (-1 / 40) * e.wheelDeltaX);\n                        e.wheelDeltaY && (event.deltaY = (-1 / 40) * e.wheelDeltaY);\n                        !event.deltaY &&\n                            !event.deltaX &&\n                            (event.deltaY = (-1 / 40) * e.wheelDelta);\n                    } else {\n                        event.deltaY = e.detail;\n                    }\n\n                    return fn.call(dom, event);\n                },\n                bubble\n            );\n        }\n\n        this.jqbind = function(dom, name, fn) {\n            // use jquery bind for non-native events (mouseenter/mouseleave)\n            self.events.push({\n                e: dom,\n                n: name,\n                f: fn,\n                q: true,\n            });\n            $(dom).on(name, fn);\n        };\n\n        this.mousewheel = function(dom, fn, bubble) {\n            // bind mousewheel\n            var el = \"jquery\" in dom ? dom[0] : dom;\n            if (\"onwheel\" in _doc.createElement(\"div\")) {\n                // Modern browsers support \"wheel\"\n                self._bind(el, \"wheel\", fn, bubble || false);\n            } else {\n                var wname =\n                    _doc.onmousewheel !== undefined ? \"mousewheel\" : \"DOMMouseScroll\"; // older Webkit+IE support or older Firefox\n                _modernWheelEvent(el, wname, fn, bubble || false);\n                if (wname == \"DOMMouseScroll\")\n                    _modernWheelEvent(el, \"MozMousePixelScroll\", fn, bubble || false); // Firefox legacy\n            }\n        };\n\n        var passiveSupported = false;\n\n        if (cap.haseventlistener) {\n            // W3C standard event model\n\n            // thanks to https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n            try {\n                var options = Object.defineProperty({}, \"passive\", {\n                    get: function() {\n                        passiveSupported = !0;\n                    },\n                });\n                _win.addEventListener(\"test\", null, options);\n            } catch (err) {}\n\n            this.stopPropagation = function(e) {\n                if (!e) return false;\n                e = e.original ? e.original : e;\n                e.stopPropagation();\n                return false;\n            };\n\n            this.cancelEvent = function(e) {\n                if (e.cancelable) e.preventDefault();\n                e.stopImmediatePropagation();\n                if (e.preventManipulation) e.preventManipulation(); // IE10+\n                return false;\n            };\n        } else {\n            // inspired from https://gist.github.com/jonathantneal/2415137\n\n            Event.prototype.preventDefault = function() {\n                this.returnValue = false;\n            };\n\n            Event.prototype.stopPropagation = function() {\n                this.cancelBubble = true;\n            };\n\n            _win.constructor.prototype.addEventListener = _doc.constructor.prototype.addEventListener = Element.prototype.addEventListener = function(\n                type,\n                listener,\n                useCapture\n            ) {\n                this.attachEvent(\"on\" + type, listener);\n            };\n            _win.constructor.prototype.removeEventListener = _doc.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function(\n                type,\n                listener,\n                useCapture\n            ) {\n                this.detachEvent(\"on\" + type, listener);\n            };\n\n            // Thanks to http://www.switchonthecode.com !!\n            this.cancelEvent = function(e) {\n                e = e || _win.event;\n                if (e) {\n                    e.cancelBubble = true;\n                    e.cancel = true;\n                    e.returnValue = false;\n                }\n                return false;\n            };\n\n            this.stopPropagation = function(e) {\n                e = e || _win.event;\n                if (e) e.cancelBubble = true;\n                return false;\n            };\n        }\n\n        this.delegate = function(dom, name, fn, bubble, active) {\n            var de = delegatevents[name] || false;\n\n            if (!de) {\n                de = {\n                    a: [],\n                    l: [],\n                    f: function(e) {\n                        var lst = de.l,\n                            l = lst.length - 1;\n                        var r = false;\n                        for (var a = l; a >= 0; a--) {\n                            r = lst[a].call(e.target, e);\n                            if (r === false) return false;\n                        }\n                        return r;\n                    },\n                };\n\n                self.bind(dom, name, de.f, bubble, active);\n\n                delegatevents[name] = de;\n            }\n\n            if (self.ispage) {\n                de.a = [self.id].concat(de.a);\n                de.l = [fn].concat(de.l);\n            } else {\n                de.a.push(self.id);\n                de.l.push(fn);\n            }\n        };\n\n        this.undelegate = function(dom, name, fn, bubble, active) {\n            var de = delegatevents[name] || false;\n            if (de && de.l) {\n                // quick fix #683\n                for (var a = 0, l = de.l.length; a < l; a++) {\n                    if (de.a[a] === self.id) {\n                        de.a.splice(a);\n                        de.l.splice(a);\n                        if (de.a.length === 0) {\n                            self._unbind(dom, name, de.l.f);\n                            delegatevents[name] = null;\n                        }\n                    }\n                }\n            }\n        };\n\n        this.bind = function(dom, name, fn, bubble, active) {\n            var el = \"jquery\" in dom ? dom[0] : dom;\n            self._bind(el, name, fn, bubble || false, active || false);\n        };\n\n        this._bind = function(el, name, fn, bubble, active) {\n            // primitive bind\n\n            self.events.push({\n                e: el,\n                n: name,\n                f: fn,\n                b: bubble,\n                q: false,\n            });\n\n            passiveSupported &&\n                (active ||\n                    el == window.document ||\n                    el == window.document.body ||\n                    el == window) ?\n                el.addEventListener(name, fn, { passive: false, capture: bubble }) :\n                el.addEventListener(name, fn, bubble || false);\n        };\n\n        this._unbind = function(el, name, fn, bub) {\n            // primitive unbind\n            if (delegatevents[name]) self.undelegate(el, name, fn, bub);\n            else el.removeEventListener(name, fn, bub);\n        };\n\n        this.unbindAll = function() {\n            for (var a = 0; a < self.events.length; a++) {\n                var r = self.events[a];\n                r.q ? r.e.unbind(r.n, r.f) : self._unbind(r.e, r.n, r.f, r.b);\n            }\n        };\n\n        this.showRails = function() {\n            return self.showRail().showRailHr();\n        };\n\n        this.showRail = function() {\n            if (\n                self.page.maxh !== 0 &&\n                (self.ispage || self.win.css(\"display\") != \"none\")\n            ) {\n                //self.visibility = true;\n                self.rail.visibility = true;\n                self.rail.css(\"display\", \"block\");\n            }\n            return self;\n        };\n\n        this.showRailHr = function() {\n            if (self.railh) {\n                if (\n                    self.page.maxw !== 0 &&\n                    (self.ispage || self.win.css(\"display\") != \"none\")\n                ) {\n                    self.railh.visibility = true;\n                    self.railh.css(\"display\", \"block\");\n                }\n            }\n            return self;\n        };\n\n        this.hideRails = function() {\n            return self.hideRail().hideRailHr();\n        };\n\n        this.hideRail = function() {\n            //self.visibility = false;\n            self.rail.visibility = false;\n            self.rail.css(\"display\", \"none\");\n            return self;\n        };\n\n        this.hideRailHr = function() {\n            if (self.railh) {\n                self.railh.visibility = false;\n                self.railh.css(\"display\", \"none\");\n            }\n            return self;\n        };\n\n        this.show = function() {\n            self.hidden = false;\n            self.railslocked = false;\n            return self.showRails();\n        };\n\n        this.hide = function() {\n            self.hidden = true;\n            self.railslocked = true;\n            return self.hideRails();\n        };\n\n        this.toggle = function() {\n            return self.hidden ? self.show() : self.hide();\n        };\n\n        this.remove = function() {\n            self.stop();\n            if (self.cursortimeout) clearTimeout(self.cursortimeout);\n            for (var n in self.delaylist)\n                if (self.delaylist[n]) clearAnimationFrame(self.delaylist[n].h);\n            self.doZoomOut();\n            self.unbindAll();\n\n            if (cap.isie9)\n                self.win[0].detachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n\n            if (self.observer !== false) self.observer.disconnect();\n            if (self.observerremover !== false) self.observerremover.disconnect();\n            if (self.observerbody !== false) self.observerbody.disconnect();\n\n            self.events = null;\n\n            if (self.cursor) {\n                self.cursor.remove();\n            }\n            if (self.cursorh) {\n                self.cursorh.remove();\n            }\n            if (self.rail) {\n                self.rail.remove();\n            }\n            if (self.railh) {\n                self.railh.remove();\n            }\n            if (self.zoom) {\n                self.zoom.remove();\n            }\n            for (var a = 0; a < self.saved.css.length; a++) {\n                var d = self.saved.css[a];\n                d[0].css(d[1], d[2] === undefined ? \"\" : d[2]);\n            }\n            self.saved = false;\n            self.me.data(\"__nicescroll\", \"\"); //erase all traces\n\n            // memory leak fixed by GianlucaGuarini - thanks a lot!\n            // remove the current nicescroll from the $.nicescroll array & normalize array\n            var lst = $.nicescroll;\n            lst.each(function(i) {\n                if (!this) return;\n                if (this.id === self.id) {\n                    delete lst[i];\n                    for (var b = ++i; b < lst.length; b++, i++) lst[i] = lst[b];\n                    lst.length--;\n                    if (lst.length) delete lst[lst.length];\n                }\n            });\n\n            for (var i in self) {\n                self[i] = null;\n                delete self[i];\n            }\n\n            self = null;\n        };\n\n        this.scrollstart = function(fn) {\n            this.onscrollstart = fn;\n            return self;\n        };\n        this.scrollend = function(fn) {\n            this.onscrollend = fn;\n            return self;\n        };\n        this.scrollcancel = function(fn) {\n            this.onscrollcancel = fn;\n            return self;\n        };\n\n        this.zoomin = function(fn) {\n            this.onzoomin = fn;\n            return self;\n        };\n        this.zoomout = function(fn) {\n            this.onzoomout = fn;\n            return self;\n        };\n\n        this.isScrollable = function(e) {\n            var dom = e.target ? e.target : e;\n            if (dom.nodeName == \"OPTION\") return true;\n            while (\n                dom &&\n                dom.nodeType == 1 &&\n                dom !== this.me[0] &&\n                !/^BODY|HTML/.test(dom.nodeName)\n            ) {\n                var dd = $(dom);\n                var ov =\n                    dd.css(\"overflowY\") ||\n                    dd.css(\"overflowX\") ||\n                    dd.css(\"overflow\") ||\n                    \"\";\n                if (/scroll|auto/.test(ov)) return dom.clientHeight != dom.scrollHeight;\n                dom = dom.parentNode ? dom.parentNode : false;\n            }\n            return false;\n        };\n\n        this.getViewport = function(me) {\n            var dom = me && me.parentNode ? me.parentNode : false;\n            while (dom && dom.nodeType == 1 && !/^BODY|HTML/.test(dom.nodeName)) {\n                var dd = $(dom);\n                if (/fixed|absolute/.test(dd.css(\"position\"))) return dd;\n                var ov =\n                    dd.css(\"overflowY\") ||\n                    dd.css(\"overflowX\") ||\n                    dd.css(\"overflow\") ||\n                    \"\";\n                if (/scroll|auto/.test(ov) && dom.clientHeight != dom.scrollHeight)\n                    return dd;\n                if (dd.getNiceScroll().length > 0) return dd;\n                dom = dom.parentNode ? dom.parentNode : false;\n            }\n            return false;\n        };\n\n        this.triggerScrollStart = function(cx, cy, rx, ry, ms) {\n            if (self.onscrollstart) {\n                var info = {\n                    type: \"scrollstart\",\n                    current: {\n                        x: cx,\n                        y: cy,\n                    },\n                    request: {\n                        x: rx,\n                        y: ry,\n                    },\n                    end: {\n                        x: self.newscrollx,\n                        y: self.newscrolly,\n                    },\n                    speed: ms,\n                };\n                self.onscrollstart.call(self, info);\n            }\n        };\n\n        this.triggerScrollEnd = function() {\n            if (self.onscrollend) {\n                var px = self.getScrollLeft();\n                var py = self.getScrollTop();\n\n                var info = {\n                    type: \"scrollend\",\n                    current: {\n                        x: px,\n                        y: py,\n                    },\n                    end: {\n                        x: px,\n                        y: py,\n                    },\n                };\n\n                self.onscrollend.call(self, info);\n            }\n        };\n\n        var scrolldiry = 0,\n            scrolldirx = 0,\n            scrolltmr = 0,\n            scrollspd = 1;\n\n        function doScrollRelative(px, py, chkscroll, iswheel) {\n            if (!self.scrollrunning) {\n                self.newscrolly = self.getScrollTop();\n                self.newscrollx = self.getScrollLeft();\n                scrolltmr = now();\n            }\n\n            var gap = now() - scrolltmr;\n            scrolltmr = now();\n\n            if (gap > 350) {\n                scrollspd = 1;\n            } else {\n                scrollspd += (2 - scrollspd) / 10;\n            }\n\n            px = (px * scrollspd) | 0;\n            py = (py * scrollspd) | 0;\n\n            if (px) {\n                if (iswheel) {\n                    // mouse-only\n                    if (px < 0) {\n                        // fix apple magic mouse swipe back/forward\n                        if (self.getScrollLeft() >= self.page.maxw) return true;\n                    } else {\n                        if (self.getScrollLeft() <= 0) return true;\n                    }\n                }\n\n                var dx = px > 0 ? 1 : -1;\n\n                if (scrolldirx !== dx) {\n                    if (self.scrollmom) self.scrollmom.stop();\n                    self.newscrollx = self.getScrollLeft();\n                    scrolldirx = dx;\n                }\n\n                self.lastdeltax -= px;\n            }\n\n            if (py) {\n                var chk = (function() {\n                    var top = self.getScrollTop();\n                    if (py < 0) {\n                        if (top >= self.page.maxh) return true;\n                    } else {\n                        if (top <= 0) return true;\n                    }\n                })();\n\n                if (chk) {\n                    if (\n                        opt.nativeparentscrolling &&\n                        chkscroll &&\n                        !self.ispage &&\n                        !self.zoomactive\n                    )\n                        return true;\n                    var ny = self.view.h >> 1;\n                    if (self.newscrolly < -ny) {\n                        self.newscrolly = -ny;\n                        py = -1;\n                    } else if (self.newscrolly > self.page.maxh + ny) {\n                        self.newscrolly = self.page.maxh + ny;\n                        py = 1;\n                    } else py = 0;\n                }\n\n                var dy = py > 0 ? 1 : -1;\n\n                if (scrolldiry !== dy) {\n                    if (self.scrollmom) self.scrollmom.stop();\n                    self.newscrolly = self.getScrollTop();\n                    scrolldiry = dy;\n                }\n\n                self.lastdeltay -= py;\n            }\n\n            if (py || px) {\n                self.synched(\"relativexy\", function() {\n                    var dty = self.lastdeltay + self.newscrolly;\n                    self.lastdeltay = 0;\n\n                    var dtx = self.lastdeltax + self.newscrollx;\n                    self.lastdeltax = 0;\n\n                    if (!self.rail.drag) self.doScrollPos(dtx, dty);\n                });\n            }\n        }\n\n        var hasparentscrollingphase = false;\n\n        function execScrollWheel(e, hr, chkscroll) {\n            var px, py;\n\n            if (!chkscroll && hasparentscrollingphase) return true;\n\n            if (e.deltaMode === 0) {\n                // PIXEL\n                px = -(e.deltaX * (opt.mousescrollstep / (18 * 3))) | 0;\n                py = -(e.deltaY * (opt.mousescrollstep / (18 * 3))) | 0;\n            } else if (e.deltaMode === 1) {\n                // LINE\n                px = -((e.deltaX * opt.mousescrollstep * 50) / 80) | 0;\n                py = -((e.deltaY * opt.mousescrollstep * 50) / 80) | 0;\n            }\n\n            if (hr && opt.oneaxismousemode && px === 0 && py) {\n                // classic vertical-only mousewheel + browser with x/y support\n                px = py;\n                py = 0;\n\n                if (chkscroll) {\n                    var hrend =\n                        px < 0 ?\n                        self.getScrollLeft() >= self.page.maxw :\n                        self.getScrollLeft() <= 0;\n                    if (hrend) {\n                        // preserve vertical scrolling\n                        py = px;\n                        px = 0;\n                    }\n                }\n            }\n\n            // invert horizontal direction for rtl mode\n            if (self.isrtlmode) px = -px;\n\n            var chk = doScrollRelative(px, py, chkscroll, true);\n\n            if (chk) {\n                if (chkscroll) hasparentscrollingphase = true;\n            } else {\n                hasparentscrollingphase = false;\n                e.stopImmediatePropagation();\n                return e.preventDefault();\n            }\n        }\n\n        this.onmousewheel = function(e) {\n            if (self.wheelprevented || self.locked) return false;\n            if (self.railslocked) {\n                self.debounced(\"checkunlock\", self.resize, 250);\n                return false;\n            }\n            if (self.rail.drag) return self.cancelEvent(e);\n\n            if (opt.oneaxismousemode === \"auto\" && e.deltaX !== 0)\n                opt.oneaxismousemode = false; // check two-axis mouse support (not very elegant)\n\n            if (opt.oneaxismousemode && e.deltaX === 0) {\n                if (!self.rail.scrollable) {\n                    if (self.railh && self.railh.scrollable) {\n                        return self.onmousewheelhr(e);\n                    } else {\n                        return true;\n                    }\n                }\n            }\n\n            var nw = now();\n            var chk = false;\n            if (opt.preservenativescrolling && self.checkarea + 600 < nw) {\n                self.nativescrollingarea = self.isScrollable(e);\n                chk = true;\n            }\n            self.checkarea = nw;\n            if (self.nativescrollingarea) return true; // this isn't my business\n            var ret = execScrollWheel(e, false, chk);\n            if (ret) self.checkarea = 0;\n            return ret;\n        };\n\n        this.onmousewheelhr = function(e) {\n            if (self.wheelprevented) return;\n            if (self.railslocked || !self.railh.scrollable) return true;\n            if (self.rail.drag) return self.cancelEvent(e);\n\n            var nw = now();\n            var chk = false;\n            if (opt.preservenativescrolling && self.checkarea + 600 < nw) {\n                self.nativescrollingarea = self.isScrollable(e);\n                chk = true;\n            }\n            self.checkarea = nw;\n            if (self.nativescrollingarea) return true; // this is not my business\n            if (self.railslocked) return self.cancelEvent(e);\n\n            return execScrollWheel(e, true, chk);\n        };\n\n        this.stop = function() {\n            self.cancelScroll();\n            if (self.scrollmon) self.scrollmon.stop();\n            self.cursorfreezed = false;\n            self.scroll.y = Math.round(\n                self.getScrollTop() * (1 / self.scrollratio.y)\n            );\n            self.noticeCursor();\n            return self;\n        };\n\n        this.getTransitionSpeed = function(dif) {\n            return (80 + (dif / 72) * opt.scrollspeed) | 0;\n        };\n\n        if (!opt.smoothscroll) {\n            this.doScrollLeft = function(x, spd) {\n                //direct\n                var y = self.getScrollTop();\n                self.doScrollPos(x, y, spd);\n            };\n            this.doScrollTop = function(y, spd) {\n                //direct\n                var x = self.getScrollLeft();\n                self.doScrollPos(x, y, spd);\n            };\n            this.doScrollPos = function(x, y, spd) {\n                //direct\n                var nx = x > self.page.maxw ? self.page.maxw : x;\n                if (nx < 0) nx = 0;\n                var ny = y > self.page.maxh ? self.page.maxh : y;\n                if (ny < 0) ny = 0;\n                self.synched(\"scroll\", function() {\n                    self.setScrollTop(ny);\n                    self.setScrollLeft(nx);\n                });\n            };\n            this.cancelScroll = function() {}; // direct\n        } else if (\n            self.ishwscroll &&\n            cap.hastransition &&\n            opt.usetransition &&\n            !!opt.smoothscroll\n        ) {\n            var lasttransitionstyle = \"\";\n\n            this.resetTransition = function() {\n                lasttransitionstyle = \"\";\n                self.doc.css(cap.prefixstyle + \"transition-duration\", \"0ms\");\n            };\n\n            this.prepareTransition = function(dif, istime) {\n                var ex = istime ? dif : self.getTransitionSpeed(dif);\n                var trans = ex + \"ms\";\n                if (lasttransitionstyle !== trans) {\n                    lasttransitionstyle = trans;\n                    self.doc.css(cap.prefixstyle + \"transition-duration\", trans);\n                }\n                return ex;\n            };\n\n            this.doScrollLeft = function(x, spd) {\n                //trans\n                var y = self.scrollrunning ? self.newscrolly : self.getScrollTop();\n                self.doScrollPos(x, y, spd);\n            };\n\n            this.doScrollTop = function(y, spd) {\n                //trans\n                var x = self.scrollrunning ? self.newscrollx : self.getScrollLeft();\n                self.doScrollPos(x, y, spd);\n            };\n\n            this.cursorupdate = {\n                running: false,\n                start: function() {\n                    var m = this;\n\n                    if (m.running) return;\n                    m.running = true;\n\n                    var loop = function() {\n                        if (m.running) setAnimationFrame(loop);\n                        self.showCursor(self.getScrollTop(), self.getScrollLeft());\n                        self.notifyScrollEvent(self.win[0]);\n                    };\n\n                    setAnimationFrame(loop);\n                },\n                stop: function() {\n                    this.running = false;\n                },\n            };\n\n            this.doScrollPos = function(x, y, spd) {\n                //trans\n\n                var py = self.getScrollTop();\n                var px = self.getScrollLeft();\n\n                if (\n                    (self.newscrolly - py) * (y - py) < 0 ||\n                    (self.newscrollx - px) * (x - px) < 0\n                )\n                    self.cancelScroll(); //inverted movement detection\n\n                if (!opt.bouncescroll) {\n                    if (y < 0) y = 0;\n                    else if (y > self.page.maxh) y = self.page.maxh;\n                    if (x < 0) x = 0;\n                    else if (x > self.page.maxw) x = self.page.maxw;\n                } else {\n                    if (y < 0) y = (y / 2) | 0;\n                    else if (y > self.page.maxh)\n                        y = (self.page.maxh + (y - self.page.maxh) / 2) | 0;\n                    if (x < 0) x = (x / 2) | 0;\n                    else if (x > self.page.maxw)\n                        x = (self.page.maxw + (x - self.page.maxw) / 2) | 0;\n                }\n\n                if (self.scrollrunning && x == self.newscrollx && y == self.newscrolly)\n                    return false;\n\n                self.newscrolly = y;\n                self.newscrollx = x;\n\n                var top = self.getScrollTop();\n                var lft = self.getScrollLeft();\n\n                var dst = {};\n                dst.x = x - lft;\n                dst.y = y - top;\n\n                var dd = Math.sqrt(dst.x * dst.x + dst.y * dst.y) | 0;\n\n                var ms = self.prepareTransition(dd);\n\n                if (!self.scrollrunning) {\n                    self.scrollrunning = true;\n                    self.triggerScrollStart(lft, top, x, y, ms);\n                    self.cursorupdate.start();\n                }\n\n                self.scrollendtrapped = true;\n\n                if (!cap.transitionend) {\n                    if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\n                    self.scrollendtrapped = setTimeout(self.onScrollTransitionEnd, ms); // simulate transitionend event\n                }\n\n                self.setScrollTop(self.newscrolly);\n                self.setScrollLeft(self.newscrollx);\n            };\n\n            this.cancelScroll = function() {\n                if (!self.scrollendtrapped) return true;\n                var py = self.getScrollTop();\n                var px = self.getScrollLeft();\n                self.scrollrunning = false;\n                if (!cap.transitionend) clearTimeout(cap.transitionend);\n                self.scrollendtrapped = false;\n                self.resetTransition();\n                self.setScrollTop(py); // fire event onscroll\n                if (self.railh) self.setScrollLeft(px);\n                if (self.timerscroll && self.timerscroll.tm)\n                    clearInterval(self.timerscroll.tm);\n                self.timerscroll = false;\n\n                self.cursorfreezed = false;\n\n                self.cursorupdate.stop();\n                self.showCursor(py, px);\n                return self;\n            };\n\n            this.onScrollTransitionEnd = function() {\n                if (!self.scrollendtrapped) return;\n\n                var py = self.getScrollTop();\n                var px = self.getScrollLeft();\n\n                if (py < 0) py = 0;\n                else if (py > self.page.maxh) py = self.page.maxh;\n                if (px < 0) px = 0;\n                else if (px > self.page.maxw) px = self.page.maxw;\n                if (py != self.newscrolly || px != self.newscrollx)\n                    return self.doScrollPos(px, py, opt.snapbackspeed);\n\n                if (self.scrollrunning) self.triggerScrollEnd();\n                self.scrollrunning = false;\n\n                self.scrollendtrapped = false;\n                self.resetTransition();\n                self.timerscroll = false;\n                self.setScrollTop(py); // fire event onscroll\n                if (self.railh) self.setScrollLeft(px); // fire event onscroll left\n\n                self.cursorupdate.stop();\n                self.noticeCursor(false, py, px);\n\n                self.cursorfreezed = false;\n            };\n        } else {\n            this.doScrollLeft = function(x, spd) {\n                //no-trans\n                var y = self.scrollrunning ? self.newscrolly : self.getScrollTop();\n                self.doScrollPos(x, y, spd);\n            };\n\n            this.doScrollTop = function(y, spd) {\n                //no-trans\n                var x = self.scrollrunning ? self.newscrollx : self.getScrollLeft();\n                self.doScrollPos(x, y, spd);\n            };\n\n            this.doScrollPos = function(x, y, spd) {\n                //no-trans\n\n                var py = self.getScrollTop();\n                var px = self.getScrollLeft();\n\n                if (\n                    (self.newscrolly - py) * (y - py) < 0 ||\n                    (self.newscrollx - px) * (x - px) < 0\n                )\n                    self.cancelScroll(); //inverted movement detection\n\n                var clipped = false;\n\n                if (!self.bouncescroll || !self.rail.visibility) {\n                    if (y < 0) {\n                        y = 0;\n                        clipped = true;\n                    } else if (y > self.page.maxh) {\n                        y = self.page.maxh;\n                        clipped = true;\n                    }\n                }\n                if (!self.bouncescroll || !self.railh.visibility) {\n                    if (x < 0) {\n                        x = 0;\n                        clipped = true;\n                    } else if (x > self.page.maxw) {\n                        x = self.page.maxw;\n                        clipped = true;\n                    }\n                }\n\n                if (\n                    self.scrollrunning &&\n                    self.newscrolly === y &&\n                    self.newscrollx === x\n                )\n                    return true;\n\n                self.newscrolly = y;\n                self.newscrollx = x;\n\n                self.dst = {};\n                self.dst.x = x - px;\n                self.dst.y = y - py;\n                self.dst.px = px;\n                self.dst.py = py;\n\n                var dd =\n                    Math.sqrt(self.dst.x * self.dst.x + self.dst.y * self.dst.y) | 0;\n                var ms = self.getTransitionSpeed(dd);\n\n                self.bzscroll = {};\n\n                var p3 = clipped ? 1 : 0.58;\n                self.bzscroll.x = new BezierClass(px, self.newscrollx, ms, 0, 0, p3, 1);\n                self.bzscroll.y = new BezierClass(py, self.newscrolly, ms, 0, 0, p3, 1);\n\n                var loopid = now();\n\n                var loop = function() {\n                    if (!self.scrollrunning) return;\n                    var x = self.bzscroll.y.getPos();\n\n                    self.setScrollLeft(self.bzscroll.x.getNow());\n                    self.setScrollTop(self.bzscroll.y.getNow());\n\n                    if (x <= 1) {\n                        self.timer = setAnimationFrame(loop);\n                    } else {\n                        self.scrollrunning = false;\n                        self.timer = 0;\n                        self.triggerScrollEnd();\n                    }\n                };\n\n                if (!self.scrollrunning) {\n                    self.triggerScrollStart(px, py, x, y, ms);\n                    self.scrollrunning = true;\n                    self.timer = setAnimationFrame(loop);\n                }\n            };\n\n            this.cancelScroll = function() {\n                if (self.timer) clearAnimationFrame(self.timer);\n                self.timer = 0;\n                self.bzscroll = false;\n                self.scrollrunning = false;\n                return self;\n            };\n        }\n\n        this.doScrollBy = function(stp, relative) {\n            doScrollRelative(0, stp);\n        };\n\n        this.doScrollLeftBy = function(stp, relative) {\n            doScrollRelative(stp, 0);\n        };\n\n        this.doScrollTo = function(pos, relative) {\n            var ny = relative ? Math.round(pos * self.scrollratio.y) : pos;\n            if (ny < 0) ny = 0;\n            else if (ny > self.page.maxh) ny = self.page.maxh;\n            self.cursorfreezed = false;\n            self.doScrollTop(pos);\n        };\n\n        this.checkContentSize = function() {\n            var pg = self.getContentSize();\n            if (pg.h != self.page.h || pg.w != self.page.w) self.resize(false, pg);\n        };\n\n        self.onscroll = function(e) {\n            if (self.rail.drag) return;\n            if (!self.cursorfreezed) {\n                self.synched(\"scroll\", function() {\n                    self.scroll.y = Math.round(self.getScrollTop() / self.scrollratio.y);\n                    if (self.railh)\n                        self.scroll.x = Math.round(\n                            self.getScrollLeft() / self.scrollratio.x\n                        );\n                    self.noticeCursor();\n                });\n            }\n        };\n        self.bind(self.docscroll, \"scroll\", self.onscroll);\n\n        this.doZoomIn = function(e) {\n            if (self.zoomactive) return;\n            self.zoomactive = true;\n\n            self.zoomrestore = {\n                style: {},\n            };\n            var lst = [\n                \"position\",\n                \"top\",\n                \"left\",\n                \"zIndex\",\n                \"backgroundColor\",\n                \"marginTop\",\n                \"marginBottom\",\n                \"marginLeft\",\n                \"marginRight\",\n            ];\n            var win = self.win[0].style;\n            for (var a in lst) {\n                var pp = lst[a];\n                self.zoomrestore.style[pp] = win[pp] !== undefined ? win[pp] : \"\";\n            }\n\n            self.zoomrestore.style.width = self.win.css(\"width\");\n            self.zoomrestore.style.height = self.win.css(\"height\");\n\n            self.zoomrestore.padding = {\n                w: self.win.outerWidth() - self.win.width(),\n                h: self.win.outerHeight() - self.win.height(),\n            };\n\n            if (cap.isios4) {\n                self.zoomrestore.scrollTop = $window.scrollTop();\n                $window.scrollTop(0);\n            }\n\n            self.win.css({\n                position: cap.isios4 ? \"absolute\" : \"fixed\",\n                top: 0,\n                left: 0,\n                zIndex: globalmaxzindex + 100,\n                margin: 0,\n            });\n            var bkg = self.win.css(\"backgroundColor\");\n            if (\n                \"\" === bkg ||\n                /transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)\n            )\n                self.win.css(\"backgroundColor\", \"#fff\");\n            self.rail.css({\n                zIndex: globalmaxzindex + 101,\n            });\n            self.zoom.css({\n                zIndex: globalmaxzindex + 102,\n            });\n            self.zoom.css(\"backgroundPosition\", \"0 -18px\");\n            self.resizeZoom();\n\n            if (self.onzoomin) self.onzoomin.call(self);\n\n            return self.cancelEvent(e);\n        };\n\n        this.doZoomOut = function(e) {\n            if (!self.zoomactive) return;\n            self.zoomactive = false;\n\n            self.win.css(\"margin\", \"\");\n            self.win.css(self.zoomrestore.style);\n\n            if (cap.isios4) {\n                $window.scrollTop(self.zoomrestore.scrollTop);\n            }\n\n            self.rail.css({\n                \"z-index\": self.zindex,\n            });\n            self.zoom.css({\n                \"z-index\": self.zindex,\n            });\n            self.zoomrestore = false;\n            self.zoom.css(\"backgroundPosition\", \"0 0\");\n            self.onResize();\n\n            if (self.onzoomout) self.onzoomout.call(self);\n\n            return self.cancelEvent(e);\n        };\n\n        this.doZoom = function(e) {\n            return self.zoomactive ? self.doZoomOut(e) : self.doZoomIn(e);\n        };\n\n        this.resizeZoom = function() {\n            if (!self.zoomactive) return;\n\n            var py = self.getScrollTop(); //preserve scrolling position\n            self.win.css({\n                width: $window.width() - self.zoomrestore.padding.w + \"px\",\n                height: $window.height() - self.zoomrestore.padding.h + \"px\",\n            });\n            self.onResize();\n\n            self.setScrollTop(Math.min(self.page.maxh, py));\n        };\n\n        this.init();\n\n        $.nicescroll.push(this);\n    };\n\n    // Inspired by the work of Kin Blas\n    // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js\n    var ScrollMomentumClass2D = function(nc) {\n        var self = this;\n        this.nc = nc;\n\n        this.lastx = 0;\n        this.lasty = 0;\n        this.speedx = 0;\n        this.speedy = 0;\n        this.lasttime = 0;\n        this.steptime = 0;\n        this.snapx = false;\n        this.snapy = false;\n        this.demulx = 0;\n        this.demuly = 0;\n\n        this.lastscrollx = -1;\n        this.lastscrolly = -1;\n\n        this.chkx = 0;\n        this.chky = 0;\n\n        this.timer = 0;\n\n        this.reset = function(px, py) {\n            self.stop();\n            self.steptime = 0;\n            self.lasttime = now();\n            self.speedx = 0;\n            self.speedy = 0;\n            self.lastx = px;\n            self.lasty = py;\n            self.lastscrollx = -1;\n            self.lastscrolly = -1;\n        };\n\n        this.update = function(px, py) {\n            var tm = now();\n            self.steptime = tm - self.lasttime;\n            self.lasttime = tm;\n            var dy = py - self.lasty;\n            var dx = px - self.lastx;\n            var sy = self.nc.getScrollTop();\n            var sx = self.nc.getScrollLeft();\n            var newy = sy + dy;\n            var newx = sx + dx;\n            self.snapx = newx < 0 || newx > self.nc.page.maxw;\n            self.snapy = newy < 0 || newy > self.nc.page.maxh;\n            self.speedx = dx;\n            self.speedy = dy;\n            self.lastx = px;\n            self.lasty = py;\n        };\n\n        this.stop = function() {\n            self.nc.unsynched(\"domomentum2d\");\n            if (self.timer) clearTimeout(self.timer);\n            self.timer = 0;\n            self.lastscrollx = -1;\n            self.lastscrolly = -1;\n        };\n\n        this.doSnapy = function(nx, ny) {\n            var snap = false;\n\n            if (ny < 0) {\n                ny = 0;\n                snap = true;\n            } else if (ny > self.nc.page.maxh) {\n                ny = self.nc.page.maxh;\n                snap = true;\n            }\n\n            if (nx < 0) {\n                nx = 0;\n                snap = true;\n            } else if (nx > self.nc.page.maxw) {\n                nx = self.nc.page.maxw;\n                snap = true;\n            }\n\n            snap\n                ?\n                self.nc.doScrollPos(nx, ny, self.nc.opt.snapbackspeed) :\n                self.nc.triggerScrollEnd();\n        };\n\n        this.doMomentum = function(gp) {\n            var t = now();\n            var l = gp ? t + gp : self.lasttime;\n\n            var sl = self.nc.getScrollLeft();\n            var st = self.nc.getScrollTop();\n\n            var pageh = self.nc.page.maxh;\n            var pagew = self.nc.page.maxw;\n\n            self.speedx = pagew > 0 ? Math.min(60, self.speedx) : 0;\n            self.speedy = pageh > 0 ? Math.min(60, self.speedy) : 0;\n\n            var chk = l && t - l <= 60;\n\n            if (st < 0 || st > pageh || sl < 0 || sl > pagew) chk = false;\n\n            var sy = self.speedy && chk ? self.speedy : false;\n            var sx = self.speedx && chk ? self.speedx : false;\n\n            if (sy || sx) {\n                var tm = Math.max(16, self.steptime); //timeout granularity\n\n                if (tm > 50) {\n                    // do smooth\n                    var xm = tm / 50;\n                    self.speedx *= xm;\n                    self.speedy *= xm;\n                    tm = 50;\n                }\n\n                self.demulxy = 0;\n\n                self.lastscrollx = self.nc.getScrollLeft();\n                self.chkx = self.lastscrollx;\n                self.lastscrolly = self.nc.getScrollTop();\n                self.chky = self.lastscrolly;\n\n                var nx = self.lastscrollx;\n                var ny = self.lastscrolly;\n\n                var onscroll = function() {\n                    var df = now() - t > 600 ? 0.04 : 0.02;\n\n                    if (self.speedx) {\n                        nx = Math.floor(\n                            self.lastscrollx - self.speedx * (1 - self.demulxy)\n                        );\n                        self.lastscrollx = nx;\n                        if (nx < 0 || nx > pagew) df = 0.1;\n                    }\n\n                    if (self.speedy) {\n                        ny = Math.floor(\n                            self.lastscrolly - self.speedy * (1 - self.demulxy)\n                        );\n                        self.lastscrolly = ny;\n                        if (ny < 0 || ny > pageh) df = 0.1;\n                    }\n\n                    self.demulxy = Math.min(1, self.demulxy + df);\n\n                    self.nc.synched(\"domomentum2d\", function() {\n                        if (self.speedx) {\n                            var scx = self.nc.getScrollLeft();\n                            //              if (scx != self.chkx) self.stop();\n                            self.chkx = nx;\n                            self.nc.setScrollLeft(nx);\n                        }\n\n                        if (self.speedy) {\n                            var scy = self.nc.getScrollTop();\n                            //              if (scy != self.chky) self.stop();\n                            self.chky = ny;\n                            self.nc.setScrollTop(ny);\n                        }\n\n                        if (!self.timer) {\n                            self.nc.hideCursor();\n                            self.doSnapy(nx, ny);\n                        }\n                    });\n\n                    if (self.demulxy < 1) {\n                        self.timer = setTimeout(onscroll, tm);\n                    } else {\n                        self.stop();\n                        self.nc.hideCursor();\n                        self.doSnapy(nx, ny);\n                    }\n                };\n\n                onscroll();\n            } else {\n                self.doSnapy(self.nc.getScrollLeft(), self.nc.getScrollTop());\n            }\n        };\n    };\n\n    // override jQuery scrollTop\n    var _scrollTop = jQuery.fn.scrollTop; // preserve original function\n\n    jQuery.cssHooks.pageYOffset = {\n        get: function(elem, computed, extra) {\n            var nice = $.data(elem, \"__nicescroll\") || false;\n            return nice && nice.ishwscroll ?\n                nice.getScrollTop() :\n                _scrollTop.call(elem);\n        },\n        set: function(elem, value) {\n            var nice = $.data(elem, \"__nicescroll\") || false;\n            nice && nice.ishwscroll ?\n                nice.setScrollTop(parseInt(value)) :\n                _scrollTop.call(elem, value);\n            return this;\n        },\n    };\n\n    jQuery.fn.scrollTop = function(value) {\n        if (value === undefined) {\n            var nice = this[0] ? $.data(this[0], \"__nicescroll\") || false : false;\n            return nice && nice.ishwscroll ?\n                nice.getScrollTop() :\n                _scrollTop.call(this);\n        } else {\n            return this.each(function() {\n                var nice = $.data(this, \"__nicescroll\") || false;\n                nice && nice.ishwscroll ?\n                    nice.setScrollTop(parseInt(value)) :\n                    _scrollTop.call($(this), value);\n            });\n        }\n    };\n\n    // override jQuery scrollLeft\n    var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\n\n    $.cssHooks.pageXOffset = {\n        get: function(elem, computed, extra) {\n            var nice = $.data(elem, \"__nicescroll\") || false;\n            return nice && nice.ishwscroll ?\n                nice.getScrollLeft() :\n                _scrollLeft.call(elem);\n        },\n        set: function(elem, value) {\n            var nice = $.data(elem, \"__nicescroll\") || false;\n            nice && nice.ishwscroll ?\n                nice.setScrollLeft(parseInt(value)) :\n                _scrollLeft.call(elem, value);\n            return this;\n        },\n    };\n\n    jQuery.fn.scrollLeft = function(value) {\n        if (value === undefined) {\n            var nice = this[0] ? $.data(this[0], \"__nicescroll\") || false : false;\n            return nice && nice.ishwscroll ?\n                nice.getScrollLeft() :\n                _scrollLeft.call(this);\n        } else {\n            return this.each(function() {\n                var nice = $.data(this, \"__nicescroll\") || false;\n                nice && nice.ishwscroll ?\n                    nice.setScrollLeft(parseInt(value)) :\n                    _scrollLeft.call($(this), value);\n            });\n        }\n    };\n\n    var NiceScrollArray = function(doms) {\n        var self = this;\n        this.length = 0;\n        this.name = \"nicescrollarray\";\n\n        this.each = function(fn) {\n            $.each(self, fn);\n            return self;\n        };\n\n        this.push = function(nice) {\n            self[self.length] = nice;\n            self.length++;\n        };\n\n        this.eq = function(idx) {\n            return self[idx];\n        };\n\n        if (doms) {\n            for (var a = 0; a < doms.length; a++) {\n                var nice = $.data(doms[a], \"__nicescroll\") || false;\n                if (nice) {\n                    this[this.length] = nice;\n                    this.length++;\n                }\n            }\n        }\n\n        return this;\n    };\n\n    function mplex(el, lst, fn) {\n        for (var a = 0, l = lst.length; a < l; a++) fn(el, lst[a]);\n    }\n    mplex(\n        NiceScrollArray.prototype, [\n            \"show\",\n            \"hide\",\n            \"toggle\",\n            \"onResize\",\n            \"resize\",\n            \"remove\",\n            \"stop\",\n            \"doScrollPos\",\n        ],\n        function(e, n) {\n            e[n] = function() {\n                var args = arguments;\n                return this.each(function() {\n                    this[n].apply(this, args);\n                });\n            };\n        }\n    );\n\n    jQuery.fn.getNiceScroll = function(index) {\n        if (index === undefined) {\n            return new NiceScrollArray(this);\n        } else {\n            return (this[index] && $.data(this[index], \"__nicescroll\")) || false;\n        }\n    };\n\n    var pseudos = jQuery.expr.pseudos || jQuery.expr[\":\"]; // jQuery 3 migration\n    pseudos.nicescroll = function(a) {\n        return $.data(a, \"__nicescroll\") !== undefined;\n    };\n\n    $.fn.niceScroll = function(wrapper, _opt) {\n        if (\n            _opt === undefined &&\n            typeof wrapper == \"object\" &&\n            !(\"jquery\" in wrapper)\n        ) {\n            _opt = wrapper;\n            wrapper = false;\n        }\n\n        var ret = new NiceScrollArray();\n\n        this.each(function() {\n            var $this = $(this);\n\n            var opt = $.extend({}, _opt); // cloning\n\n            if (wrapper || false) {\n                var wrp = $(wrapper);\n                opt.doc = wrp.length > 1 ? $(wrapper, $this) : wrp;\n                opt.win = $this;\n            }\n            var docundef = !(\"doc\" in opt);\n            if (!docundef && !(\"win\" in opt)) opt.win = $this;\n\n            var nice = $this.data(\"__nicescroll\") || false;\n            if (!nice) {\n                opt.doc = opt.doc || $this;\n                nice = new NiceScrollClass(opt, $this);\n                $this.data(\"__nicescroll\", nice);\n            }\n            ret.push(nice);\n        });\n\n        return ret.length === 1 ? ret[0] : ret;\n    };\n\n    _win.NiceScroll = {\n        getjQuery: function() {\n            return jQuery;\n        },\n    };\n\n    if (!$.nicescroll) {\n        $.nicescroll = new NiceScrollArray();\n        $.nicescroll.options = _globaloptions;\n    }\n});"],"sourceRoot":""}
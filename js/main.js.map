{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blocks/modules/header/header.js","webpack:///./src/js/import/modules.js","webpack:///./src/js/index.js","webpack:///./src/js/nicescroll.js"],"names":["$","click","toggleClass","removeClass","window","hasClass","addClass","not","event","location","pathname","replace","hostname","target","hash","length","slice","preventDefault","animate","scrollTop","offset","top","$target","focus","is","attr","keyup","res","val","result","toLowerCase","includes","jQuery","data","niceScroll","cursorcolor","mousescrollstep","cursorborder","cursorwidth","smoothscroll","horizrailenabled","oneaxismousemode","factory","define","domfocus","mousefocus","tabindexcounter","ascrailcounter","globalmaxzindex","_doc","document","_win","$window","delegatevents","getScriptPath","scripts","currentScript","s","getElementsByTagName","path","src","split","join","setAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","clearAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","anilasttime","callback","element","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","ClsMutationObserver","MutationObserver","WebKitMutationObserver","now","_globaloptions","zindex","cursoropacitymin","cursoropacitymax","cursorborderradius","scrollspeed","touchbehavior","emulatetouch","hwacceleration","usetransition","boxzoom","dblclickzoom","gesturezoom","grabcursorenabled","autohidemode","background","iframeautoresize","cursorminheight","preservenativescrolling","railoffset","railhoffset","bouncescroll","spacebarenabled","railpadding","right","left","bottom","disableoutline","railalign","railvalign","enabletranslate3d","enablemousewheel","enablekeyboard","sensitiverail","enablemouselockapi","cursorfixedheight","directionlockdeadzone","hidecursordelay","nativeparentscrolling","enablescrollonselection","overflowx","overflowy","cursordragspeed","rtlmode","cursordragontouch","scriptpath","preventmultitouchscrolling","disablemutationobserver","enableobserver","scrollbarid","browserdetected","getBrowserDetection","_el","createElement","_style","style","_agent","navigator","userAgent","_platform","platform","d","haspointerlock","isopera","isopera12","isoperamini","Object","prototype","toString","call","operamini","isie","isieold","isie7","documentMode","isie8","isie9","isie10","isie11","ismsedge","ismozilla","iswebkit","ischrome","ischrome38","ischrome22","ischrome26","cantouch","documentElement","hasw3ctouch","PointerEvent","maxTouchPoints","msMaxTouchPoints","hasmstouch","MSPointerEvent","ismac","test","isios","isios4","isios7","isios8","isios10","Proxy","isandroid","haseventlistener","trstyle","hastransform","hastranslate3d","transitionstyle","hastransition","transitionend","check","a","c","undefined","prefixstyle","prefix","evs","detectCursorGrab","lst","l","p","cursor","cursorgrabvalue","hasmousecapture","hasMutationObserver","NiceScrollClass","myopt","me","self","version","name","$body","opt","doc","win","extend","snapbackspeed","iddoc","ispage","nodeName","haswrapper","docscroll","body","viewport","isfixed","iframe","isiframe","istextarea","forcescreen","canshowonmouseevent","onmousedown","onmouseup","onmousemove","onmousewheel","onkeypress","ongesturezoom","onclick","onscrollstart","onscrollend","onscrollcancel","onzoomin","onzoomout","view","page","scroll","x","y","scrollratio","cursorheight","scrollvaluemax","writingMode","css","isrtlmode","isvertical","scrollrunning","scrollmom","observer","observerremover","observerbody","getElementById","rail","cursorfreezed","selectiondrag","zoom","zoomactive","hasfocus","hasmousefocus","railslocked","locked","hidden","cursoractive","wheelprevented","nativescrollingarea","checkarea","events","saved","delaylist","synclist","lastdeltax","lastdeltay","detected","cap","canhwscroll","ishwscroll","hasreversehr","istouchcapable","debounced","fn","tm","dd","h","synched","unsynched","el","pars","n","push","getScrollTop","setScrollTop","scrollLeft","getScrollLeft","setScrollLeft","BezierClass","st","ed","spd","p1","p2","p3","p4","ts","df","B2","t","B3","B4","getPos","getNow","pc","bz","update","getMatrixValues","tr","substr","translate","tx","ty","last","mtx","timerscroll","bh","notifyScrollEvent","e","createEvent","initUIEvent","niceevent","dispatchEvent","cxscrollleft","silent","maxw","abs","getTarget","srcElement","hasParent","parentNode","getZIndex","dom","zIndex","nodeType","zi","isNaN","parseInt","parent","_convertBorderWidth","getWidthToPixel","prop","chkheight","wd","px","parseFloat","brd","outerHeight","innerHeight","outerWidth","innerWidth","getDocumentScrollOffset","pageYOffset","pageXOffset","getOffset","ofs","scrl","ww","vp","updateScrollBar","len","pos","off","height","railh","width","wpos","align","doRailClick","dbl","hr","pg","cur","cancelEvent","pageX","clientX","pageY","clientY","doScrollLeft","doScrollTop","doScrollLeftBy","doScrollBy","w","newscrolly","newscrollx","hasanimationframe","hascancelanimationframe","hasborderbox","init","getComputedStyle","_scrollyhidden","bind","onScrollTransitionEnd","cont","position","border","v","kp","append","visibility","scrollable","drag","doZoom","backgroundImage","backgroundPosition","scale","doZoomIn","doZoomOut","overflowX","backgroundColor","backgroundClip","cursorh","bd","rlpos","getViewport","autohidedom","opacity","add","hide","ScrollMomentumClass2D","delayedclick","ontouchstart","pointerType","MSPOINTER_TYPE_MOUSE","hasmoving","timer","triggerScrollEnd","stop","tg","skp","type","stopPropagation","ismouse","changedTouches","le","original","screenX","screenY","sx","sy","sl","pt","dl","getContentSize","maxh","ck","wp","lastmouseup","reset","ip","setCapture","_onclick","preventclick","ontouchend","doMomentum","hideCursor","releaseCapture","moveneedoffset","locktollerance","ontouchmove","byiframe","targetTouches","ofy","ofx","fy","my","fx","mx","ny","round","nx","ay","ax","dz","triggerScrollStart","onpreventclick","prepareTransition","resetTransition","showCursor","selection","clear","ontouchstartCursor","hronly","cancelScroll","touches","csspointerevents","ontouchendCursor","ontouchmoveCursor","mw","scrollvaluemaxw","which","checkSelectionScroll","rt","hasTextSelected","getSelection","rangeCount","onselectionstart","onselectionend","onselectiondrag","delegate","jqbind","active","mousewheel","onmousewheelhr","noticeCursor","tp","getAttribute","key","keyCode","ctrl","ctrlKey","shift","shiftKey","ret","doScrollPos","doScrollTo","onscreenresize","lazyResize","tmp","onAttributeChange","mutations","forEach","mut","contains","show","clientWidth","clientHeight","observe","childList","subtree","characterData","attributes","attributeFilter","_dom","mo","removedNodes","remove","attachEvent","resizeZoom","oniframeload","iframexd","contentDocument","contentWindow","domain","console","log","contents","find","html","scrollWidth","scrollHeight","hh","onscroll","readyState","py","cursortimeout","lx","showonmouseevent","offsetWidth","offsetHeight","onResize","premaxh","premaxw","previewh","previeww","lastposition","hideRail","hideRailHr","showRail","showRailHr","min","resize","hlazyresize","hiderails","hideRails","showRails","_modernWheelEvent","bubble","_bind","deltaMode","deltaX","deltaZ","returnValue","stopImmediatePropagation","cancelBubble","wheelDeltaX","wheelDeltaY","deltaY","wheelDelta","detail","f","q","on","wname","passiveSupported","options","defineProperty","get","addEventListener","err","cancelable","preventManipulation","Event","constructor","Element","listener","useCapture","removeEventListener","detachEvent","cancel","de","r","concat","undelegate","splice","_unbind","b","passive","capture","bub","unbindAll","unbind","toggle","disconnect","nicescroll","each","i","scrollstart","scrollend","scrollcancel","zoomin","zoomout","isScrollable","ov","getNiceScroll","cx","cy","rx","ry","ms","info","current","request","end","speed","scrolldiry","scrolldirx","scrolltmr","scrollspd","doScrollRelative","chkscroll","iswheel","gap","dx","chk","dy","dty","dtx","hasparentscrollingphase","execScrollWheel","hrend","nw","scrollmon","getTransitionSpeed","dif","lasttransitionstyle","istime","ex","trans","cursorupdate","running","start","m","loop","lft","dst","sqrt","scrollendtrapped","clearInterval","clipped","bzscroll","loopid","stp","relative","checkContentSize","zoomrestore","pp","padding","margin","bkg","nc","lastx","lasty","speedx","speedy","lasttime","steptime","snapx","snapy","demulx","demuly","lastscrollx","lastscrolly","chkx","chky","newy","newx","doSnapy","snap","gp","pageh","pagew","xm","demulxy","floor","scx","scy","_scrollTop","cssHooks","elem","computed","extra","nice","set","value","_scrollLeft","NiceScrollArray","doms","eq","idx","mplex","args","arguments","apply","index","pseudos","expr","wrapper","_opt","$this","wrp","docundef","NiceScroll","getjQuery"],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/js/index.js\",\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","$(\".search\").click(function () {\r\n  $(\".searchWrap\").toggleClass(\"active\");\r\n\r\n  $(\".searchWrap-cart\").removeClass(\"active\");\r\n});\r\n\r\n$(\".searchClose\").click(function () {\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n});\r\n\r\n$(\".cart\").click(function () {\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n  $(\".searchWrap-cart\").toggleClass(\"active\");\r\n});\r\n\r\n$(\".singlebtn\").click(function () {\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n  $(\".searchWrap-cart\").toggleClass(\"active\");\r\n});\r\n\r\n$(\".cartClose\").click(function () {\r\n  $(\".searchWrap-cart\").removeClass(\"active\");\r\n});\r\n\r\n$(\".logo, .home, .down\").click(function () {\r\n  $(\".searchWrap-cart\").removeClass(\"active\");\r\n  $(\".searchWrap\").removeClass(\"active\");\r\n  $(\"body\").removeClass(\"of\");\r\n});\r\n\r\n$(window).click(function () {\r\n  if (\r\n    $(\".searchWrap\").hasClass(\"active\") ||\r\n    $(\".searchWrap-cart\").hasClass(\"active\")\r\n  ) {\r\n    $(\"body\").addClass(\"of\");\r\n  } else {\r\n    $(\"body\").removeClass(\"of\");\r\n  }\r\n});\r\n\r\n$('a[href*=\"#\"]')\r\n  // Remove links that don't actually link to anything\r\n  .not('[href=\"#\"]')\r\n  .not('[href=\"#0\"]')\r\n  .click(function (event) {\r\n    // On-page links\r\n    if (\r\n      location.pathname.replace(/^\\//, \"\") ==\r\n        this.pathname.replace(/^\\//, \"\") &&\r\n      location.hostname == this.hostname\r\n    ) {\r\n      // Figure out element to scroll to\r\n      var target = $(this.hash);\r\n      target = target.length ? target : $(\"[name=\" + this.hash.slice(1) + \"]\");\r\n      // Does a scroll target exist?\r\n      if (target.length) {\r\n        // Only prevent default if animation is actually gonna happen\r\n        event.preventDefault();\r\n        $(\"html, body\").animate(\r\n          {\r\n            scrollTop: target.offset().top,\r\n          },\r\n          1000,\r\n          function () {\r\n            // Callback after animation\r\n            // Must change focus!\r\n            var $target = $(target);\r\n            $target.focus();\r\n            if ($target.is(\":focus\")) {\r\n              // Checking if the target was focused\r\n              return false;\r\n            } else {\r\n              $target.attr(\"tabindex\", \"-1\"); // Adding tabindex for elements not focusable\r\n              $target.focus(); // Set focus again\r\n            }\r\n          }\r\n        );\r\n      }\r\n    }\r\n  });\r\n\r\n// $(\".input\").change(function() {\r\n//     // alert(\"The text has been changed.\");\r\n// });\r\n\r\n$(\".input\").keyup(function () {\r\n  let res = $(this).val();\r\n  let result = res.toLowerCase();\r\n\r\n  if (result.includes(\"seat\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"red\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat-red\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"blue\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat-blue\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"dark\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-seat-dark\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"white\") || result.includes(\"table\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-table-white\").removeClass(\"hidden\");\r\n  } else if (result.includes(\"modern\") || result.includes(\"bed\")) {\r\n    $(\".searchItem\").addClass(\"hidden\");\r\n    $(\".searchItem-bed-modern\").removeClass(\"hidden\");\r\n  } else {\r\n    $(\".searchItem\").removeClass(\"hidden\");\r\n  }\r\n});\r\n\r\n// $(\"input\").on(\"keyup\", function() {\r\n//     console.log(\"123\");\r\n// });\r\n","import \"%modules%/header/header\";\r\nimport \"%modules%/footer/footer\"","import \"./import/modules\";\r\n\r\nimport jQuery from \"jquery\";\r\nwindow.$ = window.jQuery = jQuery;\r\nimport \"./nicescroll\";\r\n\r\n$(\".burger\").click(function () {\r\n  $(this).toggleClass(\"pushbarClose\");\r\n\r\n  $(this).data(\"data-pushbar-close\");\r\n});\r\n\r\n$(\".searchItems\").niceScroll({\r\n  cursorcolor: \"#0023ff\",\r\n  mousescrollstep: 30,\r\n  cursorborder: \"none\",\r\n  cursorwidth: \"3px\",\r\n  smoothscroll: true, // scroll with ease movement\r\n  //   sensitiverail: true, // click on rail make a scroll\r\n  horizrailenabled: false,\r\n  oneaxismousemode: \"hidden\",\r\n});\r\n\r\n$(\".rec\").niceScroll({\r\n  cursorcolor: \"#0023ff\",\r\n  mousescrollstep: 30,\r\n  cursorborder: \"none\",\r\n  cursorwidth: \"3px\",\r\n  smoothscroll: true, // scroll with ease movement\r\n  //   sensitiverail: true, // click on rail make a scroll\r\n  horizrailenabled: true,\r\n  oneaxismousemode: \"hidden\",\r\n  //emulatetouch: true,\r\n});\r\n","/* jquery.nicescroll\n-- version 3.7.6\n-- copyright 2017-07-19 InuYaksa*2017\n-- licensed under the MIT\n--\n-- https://nicescroll.areaaperta.com/\n-- https://github.com/inuyaksa/jquery.nicescroll\n--\n*/\n\n/* jshint expr: true */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS.\n    module.exports = factory(require('jquery'));\n  } else {\n    // Browser globals.\n    factory(jQuery);\n  }\n}(function (jQuery) {\n\n  \"use strict\";\n\n  // globals\n  var domfocus = false,\n    mousefocus = false,\n    tabindexcounter = 0,\n    ascrailcounter = 2000,\n    globalmaxzindex = 0;\n\n  var $ = jQuery,       // sandbox\n    _doc = document,\n    _win = window,\n    $window = $(_win);\n\n  var delegatevents = [];\n\n  // http://stackoverflow.com/questions/2161159/get-script-path\n  function getScriptPath() {\n    var scripts = _doc.currentScript || (function () { var s = _doc.getElementsByTagName('script'); return (s.length) ? s[s.length - 1] : false; })();\n    var path = scripts ? scripts.src.split('?')[0] : '';\n    return (path.split('/').length > 0) ? path.split('/').slice(0, -1).join('/') + '/' : '';\n  }\n\n  // based on code by Paul Irish https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/  \n  var setAnimationFrame = _win.requestAnimationFrame || _win.webkitRequestAnimationFrame || _win.mozRequestAnimationFrame || false;\n  var clearAnimationFrame = _win.cancelAnimationFrame || _win.webkitCancelAnimationFrame || _win.mozCancelAnimationFrame || false;\n\n  if (!setAnimationFrame) {\n    var anilasttime = 0;\n    setAnimationFrame = function (callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - anilasttime));\n      var id = _win.setTimeout(function () { callback(currTime + timeToCall); },\n        timeToCall);\n      anilasttime = currTime + timeToCall;\n      return id;\n    };\n    clearAnimationFrame = function (id) {\n      _win.clearTimeout(id);\n    };\n  } else {\n    if (!_win.cancelAnimationFrame) clearAnimationFrame = function (id) { };\n  }\n\n  var ClsMutationObserver = _win.MutationObserver || _win.WebKitMutationObserver || false;\n\n  var now = Date.now || function () { return new Date().getTime(); };\n\n  var _globaloptions = {\n    zindex: \"auto\",\n    cursoropacitymin: 0,\n    cursoropacitymax: 1,\n    cursorcolor: \"#424242\",\n    cursorwidth: \"6px\",\n    cursorborder: \"1px solid #fff\",\n    cursorborderradius: \"5px\",\n    scrollspeed: 40,\n    mousescrollstep: 9 * 3,\n    touchbehavior: false,   // deprecated\n    emulatetouch: false,    // replacing touchbehavior\n    hwacceleration: true,\n    usetransition: true,\n    boxzoom: false,\n    dblclickzoom: true,\n    gesturezoom: true,\n    grabcursorenabled: true,\n    autohidemode: true,\n    background: \"\",\n    iframeautoresize: true,\n    cursorminheight: 32,\n    preservenativescrolling: true,\n    railoffset: false,\n    railhoffset: false,\n    bouncescroll: true,\n    spacebarenabled: true,\n    railpadding: {\n      top: 0,\n      right: 0,\n      left: 0,\n      bottom: 0\n    },\n    disableoutline: true,\n    horizrailenabled: true,\n    railalign: \"right\",\n    railvalign: \"bottom\",\n    enabletranslate3d: true,\n    enablemousewheel: true,\n    enablekeyboard: true,\n    smoothscroll: true,\n    sensitiverail: true,\n    enablemouselockapi: true,\n    //      cursormaxheight:false,\n    cursorfixedheight: false,\n    directionlockdeadzone: 6,\n    hidecursordelay: 400,\n    nativeparentscrolling: true,\n    enablescrollonselection: true,\n    overflowx: true,\n    overflowy: true,\n    cursordragspeed: 0.3,\n    rtlmode: \"auto\",\n    cursordragontouch: false,\n    oneaxismousemode: \"auto\",\n    scriptpath: getScriptPath(),\n    preventmultitouchscrolling: true,\n    disablemutationobserver: false,\n    enableobserver: true,\n    scrollbarid: false\n  };\n\n  var browserdetected = false;\n\n  var getBrowserDetection = function () {\n\n    if (browserdetected) return browserdetected;\n\n    var _el = _doc.createElement('DIV'),\n      _style = _el.style,\n      _agent = navigator.userAgent,\n      _platform = navigator.platform,\n      d = {};\n\n    d.haspointerlock = \"pointerLockElement\" in _doc || \"webkitPointerLockElement\" in _doc || \"mozPointerLockElement\" in _doc;\n\n    d.isopera = (\"opera\" in _win); // 12-\n    d.isopera12 = (d.isopera && (\"getUserMedia\" in navigator));\n    d.isoperamini = (Object.prototype.toString.call(_win.operamini) === \"[object OperaMini]\");\n\n    d.isie = ((\"all\" in _doc) && (\"attachEvent\" in _el) && !d.isopera); //IE10-\n    d.isieold = (d.isie && !(\"msInterpolationMode\" in _style)); // IE6 and older\n    d.isie7 = d.isie && !d.isieold && (!(\"documentMode\" in _doc) || (_doc.documentMode === 7));\n    d.isie8 = d.isie && (\"documentMode\" in _doc) && (_doc.documentMode === 8);\n    d.isie9 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 9);\n    d.isie10 = d.isie && (\"performance\" in _win) && (_doc.documentMode === 10);\n    d.isie11 = (\"msRequestFullscreen\" in _el) && (_doc.documentMode >= 11); // IE11+\n\n    d.ismsedge = (\"msCredentials\" in _win);  // MS Edge 14+\n\n    d.ismozilla = (\"MozAppearance\" in _style);\n\n    d.iswebkit = !d.ismsedge && (\"WebkitAppearance\" in _style);\n\n    d.ischrome = d.iswebkit && (\"chrome\" in _win);\n    d.ischrome38 = (d.ischrome && (\"touchAction\" in _style)); // behavior changed in touch emulation    \n    d.ischrome22 = (!d.ischrome38) && (d.ischrome && d.haspointerlock);\n    d.ischrome26 = (!d.ischrome38) && (d.ischrome && (\"transition\" in _style)); // issue with transform detection (maintain prefix)\n\n    d.cantouch = (\"ontouchstart\" in _doc.documentElement) || (\"ontouchstart\" in _win); // with detection for Chrome Touch Emulation    \n    d.hasw3ctouch = (_win.PointerEvent || false) && ((navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)); //IE11 pointer events, following W3C Pointer Events spec\n    d.hasmstouch = (!d.hasw3ctouch) && (_win.MSPointerEvent || false); // IE10 pointer events\n\n    d.ismac = /^mac$/i.test(_platform);\n\n    d.isios = d.cantouch && /iphone|ipad|ipod/i.test(_platform);\n    d.isios4 = d.isios && !(\"seal\" in Object);\n    d.isios7 = d.isios && (\"webkitHidden\" in _doc);  //iOS 7+\n    d.isios8 = d.isios && (\"hidden\" in _doc);  //iOS 8+\n    d.isios10 = d.isios && _win.Proxy;  //iOS 10+\n\n    d.isandroid = (/android/i.test(_agent));\n\n    d.haseventlistener = (\"addEventListener\" in _el);\n\n    d.trstyle = false;\n    d.hastransform = false;\n    d.hastranslate3d = false;\n    d.transitionstyle = false;\n    d.hastransition = false;\n    d.transitionend = false;\n\n    d.trstyle = \"transform\";\n    d.hastransform = (\"transform\" in _style) || (function () {\n      var check = ['msTransform', 'webkitTransform', 'MozTransform', 'OTransform'];\n      for (var a = 0, c = check.length; a < c; a++) {\n        if (_style[check[a]] !== undefined) {\n          d.trstyle = check[a];\n          break;\n        }\n      }\n      d.hastransform = (!!d.trstyle);\n    })();\n\n    if (d.hastransform) {\n      _style[d.trstyle] = \"translate3d(1px,2px,3px)\";\n      d.hastranslate3d = /translate3d/.test(_style[d.trstyle]);\n    }\n\n    d.transitionstyle = \"transition\";\n    d.prefixstyle = '';\n    d.transitionend = \"transitionend\";\n\n    d.hastransition = (\"transition\" in _style) || (function () {\n\n      d.transitionend = false;\n      var check = ['webkitTransition', 'msTransition', 'MozTransition', 'OTransition', 'OTransition', 'KhtmlTransition'];\n      var prefix = ['-webkit-', '-ms-', '-moz-', '-o-', '-o', '-khtml-'];\n      var evs = ['webkitTransitionEnd', 'msTransitionEnd', 'transitionend', 'otransitionend', 'oTransitionEnd', 'KhtmlTransitionEnd'];\n      for (var a = 0, c = check.length; a < c; a++) {\n        if (check[a] in _style) {\n          d.transitionstyle = check[a];\n          d.prefixstyle = prefix[a];\n          d.transitionend = evs[a];\n          break;\n        }\n      }\n      if (d.ischrome26) d.prefixstyle = prefix[1];  // always use prefix\n\n      d.hastransition = (d.transitionstyle);\n\n    })();\n\n    function detectCursorGrab() {\n      var lst = ['grab', '-webkit-grab', '-moz-grab'];\n      if ((d.ischrome && !d.ischrome38) || d.isie) lst = []; // force setting for IE returns false positive and chrome cursor bug\n      for (var a = 0, l = lst.length; a < l; a++) {\n        var p = lst[a];\n        _style.cursor = p;\n        if (_style.cursor == p) return p;\n      }\n      return 'url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize'; // thanks to https://cdnjs.com/ for the openhand cursor!\n    }\n    d.cursorgrabvalue = detectCursorGrab();\n\n    d.hasmousecapture = (\"setCapture\" in _el);\n\n    d.hasMutationObserver = (ClsMutationObserver !== false);\n\n    _el = null; //memory released\n\n    browserdetected = d;\n\n    return d;\n  };\n\n  var NiceScrollClass = function (myopt, me) {\n\n    var self = this;\n\n    this.version = '3.7.6';\n    this.name = 'nicescroll';\n\n    this.me = me;\n\n    var $body = $(\"body\");\n\n    var opt = this.opt = {\n      doc: $body,\n      win: false\n    };\n\n    $.extend(opt, _globaloptions);  // clone opts\n\n    // Options for internal use\n    opt.snapbackspeed = 80;\n\n    if (myopt || false) {\n      for (var a in opt) {\n        if (myopt[a] !== undefined) opt[a] = myopt[a];\n      }\n    }\n\n    if (opt.disablemutationobserver) ClsMutationObserver = false;\n\n    this.doc = opt.doc;\n    this.iddoc = (this.doc && this.doc[0]) ? this.doc[0].id || '' : '';\n    this.ispage = /^BODY|HTML/.test((opt.win) ? opt.win[0].nodeName : this.doc[0].nodeName);\n    this.haswrapper = (opt.win !== false);\n    this.win = opt.win || (this.ispage ? $window : this.doc);\n    this.docscroll = (this.ispage && !this.haswrapper) ? $window : this.win;\n    this.body = $body;\n    this.viewport = false;\n\n    this.isfixed = false;\n\n    this.iframe = false;\n    this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));\n\n    this.istextarea = (this.win[0].nodeName == 'TEXTAREA');\n\n    this.forcescreen = false; //force to use screen position on events\n\n    this.canshowonmouseevent = (opt.autohidemode != \"scroll\");\n\n    // Events jump table    \n    this.onmousedown = false;\n    this.onmouseup = false;\n    this.onmousemove = false;\n    this.onmousewheel = false;\n    this.onkeypress = false;\n    this.ongesturezoom = false;\n    this.onclick = false;\n\n    // Nicescroll custom events\n    this.onscrollstart = false;\n    this.onscrollend = false;\n    this.onscrollcancel = false;\n\n    this.onzoomin = false;\n    this.onzoomout = false;\n\n    // Let's start!  \n    this.view = false;\n    this.page = false;\n\n    this.scroll = {\n      x: 0,\n      y: 0\n    };\n    this.scrollratio = {\n      x: 0,\n      y: 0\n    };\n    this.cursorheight = 20;\n    this.scrollvaluemax = 0;\n\n    // http://dev.w3.org/csswg/css-writing-modes-3/#logical-to-physical\n    // http://dev.w3.org/csswg/css-writing-modes-3/#svg-writing-mode\n    if (opt.rtlmode == \"auto\") {\n      var target = this.win[0] == _win ? this.body : this.win;\n      var writingMode = target.css(\"writing-mode\") || target.css(\"-webkit-writing-mode\") || target.css(\"-ms-writing-mode\") || target.css(\"-moz-writing-mode\");\n\n      if (writingMode == \"horizontal-tb\" || writingMode == \"lr-tb\" || writingMode === \"\") {\n        this.isrtlmode = (target.css(\"direction\") == \"rtl\");\n        this.isvertical = false;\n      } else {\n        this.isrtlmode = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\" || writingMode == \"rl-tb\");\n        this.isvertical = (writingMode == \"vertical-rl\" || writingMode == \"tb\" || writingMode == \"tb-rl\");\n      }\n    } else {\n      this.isrtlmode = (opt.rtlmode === true);\n      this.isvertical = false;\n    }\n    //    this.checkrtlmode = false;\n\n    this.scrollrunning = false;\n\n    this.scrollmom = false;\n\n    this.observer = false;  // observer div changes\n    this.observerremover = false;  // observer on parent for remove detection\n    this.observerbody = false;  // observer on body for position change\n\n    if (opt.scrollbarid !== false) {\n      this.id = opt.scrollbarid;\n    } else {\n      do {\n        this.id = \"ascrail\" + (ascrailcounter++);\n      } while (_doc.getElementById(this.id));\n    }\n\n    this.rail = false;\n    this.cursor = false;\n    this.cursorfreezed = false;\n    this.selectiondrag = false;\n\n    this.zoom = false;\n    this.zoomactive = false;\n\n    this.hasfocus = false;\n    this.hasmousefocus = false;\n\n    //this.visibility = true;\n    this.railslocked = false;  // locked by resize\n    this.locked = false;  // prevent lost of locked status sets by user\n    this.hidden = false; // rails always hidden\n    this.cursoractive = true; // user can interact with cursors\n\n    this.wheelprevented = false; //prevent mousewheel event\n\n    this.overflowx = opt.overflowx;\n    this.overflowy = opt.overflowy;\n\n    this.nativescrollingarea = false;\n    this.checkarea = 0;\n\n    this.events = []; // event list for unbind\n\n    this.saved = {};  // style saved\n\n    this.delaylist = {};\n    this.synclist = {};\n\n    this.lastdeltax = 0;\n    this.lastdeltay = 0;\n\n    this.detected = getBrowserDetection();\n\n    var cap = $.extend({}, this.detected);\n\n    this.canhwscroll = (cap.hastransform && opt.hwacceleration);\n    this.ishwscroll = (this.canhwscroll && self.haswrapper);\n\n    if (!this.isrtlmode) {\n      this.hasreversehr = false;\n    } else if (this.isvertical) { // RTL mode with reverse horizontal axis\n      this.hasreversehr = !(cap.iswebkit || cap.isie || cap.isie11);\n    } else {\n      this.hasreversehr = !(cap.iswebkit || (cap.isie && !cap.isie10 && !cap.isie11));\n    }\n\n    this.istouchcapable = false; // desktop devices with touch screen support\n\n    //## Check WebKit-based desktop with touch support\n    //## + Firefox 18 nightly build (desktop) false positive (or desktop with touch support)\n\n    if (!cap.cantouch && (cap.hasw3ctouch || cap.hasmstouch)) {  // desktop device with multiple input\n      this.istouchcapable = true;\n    } else if (cap.cantouch && !cap.isios && !cap.isandroid && (cap.iswebkit || cap.ismozilla)) {\n      this.istouchcapable = true;\n    }\n\n    //## disable MouseLock API on user request\n    if (!opt.enablemouselockapi) {\n      cap.hasmousecapture = false;\n      cap.haspointerlock = false;\n    }\n\n    this.debounced = function (name, fn, tm) {\n      if (!self) return;\n      var dd = self.delaylist[name] || false;\n      if (!dd) {\n        self.delaylist[name] = {\n          h: setAnimationFrame(function () {\n            self.delaylist[name].fn.call(self);\n            self.delaylist[name] = false;\n          }, tm)\n        };\n        fn.call(self);\n      }\n      self.delaylist[name].fn = fn;\n    };\n\n\n    this.synched = function (name, fn) {\n      if (self.synclist[name]) self.synclist[name] = fn;\n      else {\n        self.synclist[name] = fn;\n        setAnimationFrame(function () {\n          if (!self) return;\n          self.synclist[name] && self.synclist[name].call(self);\n          self.synclist[name] = null;\n        });\n      }\n    };\n\n    this.unsynched = function (name) {\n      if (self.synclist[name]) self.synclist[name] = false;\n    };\n\n    this.css = function (el, pars) { // save & set\n      for (var n in pars) {\n        self.saved.css.push([el, n, el.css(n)]);\n        el.css(n, pars[n]);\n      }\n    };\n\n    this.scrollTop = function (val) {\n      return (val === undefined) ? self.getScrollTop() : self.setScrollTop(val);\n    };\n\n    this.scrollLeft = function (val) {\n      return (val === undefined) ? self.getScrollLeft() : self.setScrollLeft(val);\n    };\n\n    // derived by by Dan Pupius www.pupius.net\n    var BezierClass = function (st, ed, spd, p1, p2, p3, p4) {\n\n      this.st = st;\n      this.ed = ed;\n      this.spd = spd;\n\n      this.p1 = p1 || 0;\n      this.p2 = p2 || 1;\n      this.p3 = p3 || 0;\n      this.p4 = p4 || 1;\n\n      this.ts = now();\n      this.df = ed - st;\n    };\n    BezierClass.prototype = {\n      B2: function (t) {\n        return 3 * (1 - t) * (1 - t) * t;\n      },\n      B3: function (t) {\n        return 3 * (1 - t) * t * t;\n      },\n      B4: function (t) {\n        return t * t * t;\n      },\n      getPos: function () {\n        return (now() - this.ts) / this.spd;\n      },\n      getNow: function () {\n        var pc = (now() - this.ts) / this.spd;\n        var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);\n        return (pc >= 1) ? this.ed : this.st + (this.df * bz) | 0;\n      },\n      update: function (ed, spd) {\n        this.st = this.getNow();\n        this.ed = ed;\n        this.spd = spd;\n        this.ts = now();\n        this.df = this.ed - this.st;\n        return this;\n      }\n    };\n\n    //derived from http://stackoverflow.com/questions/11236090/\n    function getMatrixValues() {\n      var tr = self.doc.css(cap.trstyle);\n      if (tr && (tr.substr(0, 6) == \"matrix\")) {\n        return tr.replace(/^.*\\((.*)\\)$/g, \"$1\").replace(/px/g, '').split(/, +/);\n      }\n      return false;\n    }\n\n    if (this.ishwscroll) {    // hw accelerated scroll\n\n      this.doc.translate = {\n        x: 0,\n        y: 0,\n        tx: \"0px\",\n        ty: \"0px\"\n      };\n\n      //this one can help to enable hw accel on ios6 http://indiegamr.com/ios6-html-hardware-acceleration-changes-and-how-to-fix-them/\n      if (cap.hastranslate3d && cap.isios) this.doc.css(\"-webkit-backface-visibility\", \"hidden\"); // prevent flickering http://stackoverflow.com/questions/3461441/      \n\n      this.getScrollTop = function (last) {\n        if (!last) {\n          var mtx = getMatrixValues();\n          if (mtx) return (mtx.length == 16) ? -mtx[13] : -mtx[5]; //matrix3d 16 on IE10\n          if (self.timerscroll && self.timerscroll.bz) return self.timerscroll.bz.getNow();\n        }\n        return self.doc.translate.y;\n      };\n\n      this.getScrollLeft = function (last) {\n        if (!last) {\n          var mtx = getMatrixValues();\n          if (mtx) return (mtx.length == 16) ? -mtx[12] : -mtx[4]; //matrix3d 16 on IE10\n          if (self.timerscroll && self.timerscroll.bh) return self.timerscroll.bh.getNow();\n        }\n        return self.doc.translate.x;\n      };\n\n      this.notifyScrollEvent = function (el) {\n        var e = _doc.createEvent(\"UIEvents\");\n        e.initUIEvent(\"scroll\", false, false, _win, 1);\n        e.niceevent = true;\n        el.dispatchEvent(e);\n      };\n\n      var cxscrollleft = (this.isrtlmode) ? 1 : -1;\n\n      if (cap.hastranslate3d && opt.enabletranslate3d) {\n        this.setScrollTop = function (val, silent) {\n          self.doc.translate.y = val;\n          self.doc.translate.ty = (val * -1) + \"px\";\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n        this.setScrollLeft = function (val, silent) {\n          self.doc.translate.x = val;\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\n          self.doc.css(cap.trstyle, \"translate3d(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \",0)\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n      } else {\n        this.setScrollTop = function (val, silent) {\n          self.doc.translate.y = val;\n          self.doc.translate.ty = (val * -1) + \"px\";\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n        this.setScrollLeft = function (val, silent) {\n          self.doc.translate.x = val;\n          self.doc.translate.tx = (val * cxscrollleft) + \"px\";\n          self.doc.css(cap.trstyle, \"translate(\" + self.doc.translate.tx + \",\" + self.doc.translate.ty + \")\");\n          if (!silent) self.notifyScrollEvent(self.win[0]);\n        };\n      }\n    } else {    // native scroll\n\n      this.getScrollTop = function () {\n        return self.docscroll.scrollTop();\n      };\n      this.setScrollTop = function (val) {\n        self.docscroll.scrollTop(val);\n      };\n\n      this.getScrollLeft = function () {\n        var val;\n        if (!self.hasreversehr) {\n          val = self.docscroll.scrollLeft();\n        } else if (self.detected.ismozilla) {\n          val = self.page.maxw - Math.abs(self.docscroll.scrollLeft());\n        } else {\n          val = self.page.maxw - self.docscroll.scrollLeft();\n        }\n        return val;\n      };\n      this.setScrollLeft = function (val) {\n        return setTimeout(function () {\n          if (!self) return;\n          if (self.hasreversehr) {\n            if (self.detected.ismozilla) {\n              val = -(self.page.maxw - val);\n            } else {\n              val = self.page.maxw - val;\n            }\n          }\n          return self.docscroll.scrollLeft(val);\n        }, 1);\n      };\n    }\n\n    this.getTarget = function (e) {\n      if (!e) return false;\n      if (e.target) return e.target;\n      if (e.srcElement) return e.srcElement;\n      return false;\n    };\n\n    this.hasParent = function (e, id) {\n      if (!e) return false;\n      var el = e.target || e.srcElement || e || false;\n      while (el && el.id != id) {\n        el = el.parentNode || false;\n      }\n      return (el !== false);\n    };\n\n    function getZIndex() {\n      var dom = self.win;\n      if (\"zIndex\" in dom) return dom.zIndex(); // use jQuery UI method when available\n      while (dom.length > 0) {\n        if (dom[0].nodeType == 9) return false;\n        var zi = dom.css('zIndex');\n        if (!isNaN(zi) && zi !== 0) return parseInt(zi);\n        dom = dom.parent();\n      }\n      return false;\n    }\n\n    //inspired by http://forum.jquery.com/topic/width-includes-border-width-when-set-to-thin-medium-thick-in-ie\n    var _convertBorderWidth = {\n      \"thin\": 1,\n      \"medium\": 3,\n      \"thick\": 5\n    };\n\n    function getWidthToPixel(dom, prop, chkheight) {\n      var wd = dom.css(prop);\n      var px = parseFloat(wd);\n      if (isNaN(px)) {\n        px = _convertBorderWidth[wd] || 0;\n        var brd = (px == 3) ? ((chkheight) ? (self.win.outerHeight() - self.win.innerHeight()) : (self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS\n        if (self.isie8 && px) px += 1;\n        return (brd) ? px : 0;\n      }\n      return px;\n    }\n\n    this.getDocumentScrollOffset = function () {\n      return {\n        top: _win.pageYOffset || _doc.documentElement.scrollTop,\n        left: _win.pageXOffset || _doc.documentElement.scrollLeft\n      };\n    };\n\n    this.getOffset = function () {\n      if (self.isfixed) {\n        var ofs = self.win.offset();  // fix Chrome auto issue (when right/bottom props only)\n        var scrl = self.getDocumentScrollOffset();\n        ofs.top -= scrl.top;\n        ofs.left -= scrl.left;\n        return ofs;\n      }\n      var ww = self.win.offset();\n      if (!self.viewport) return ww;\n      var vp = self.viewport.offset();\n      return {\n        top: ww.top - vp.top,\n        left: ww.left - vp.left\n      };\n    };\n\n    this.updateScrollBar = function (len) {\n      var pos, off;\n      if (self.ishwscroll) {\n        self.rail.css({\n          height: self.win.innerHeight() - (opt.railpadding.top + opt.railpadding.bottom)\n        });\n        if (self.railh) self.railh.css({\n          width: self.win.innerWidth() - (opt.railpadding.left + opt.railpadding.right)\n        });\n      } else {\n        var wpos = self.getOffset();\n        pos = {\n          top: wpos.top,\n          left: wpos.left - (opt.railpadding.left + opt.railpadding.right)\n        };\n        pos.top += getWidthToPixel(self.win, 'border-top-width', true);\n        pos.left += (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win, 'border-right-width') - self.rail.width : getWidthToPixel(self.win, 'border-left-width');\n\n        off = opt.railoffset;\n        if (off) {\n          if (off.top) pos.top += off.top;\n          if (off.left) pos.left += off.left;\n        }\n\n        if (!self.railslocked) self.rail.css({\n          top: pos.top,\n          left: pos.left,\n          height: ((len) ? len.h : self.win.innerHeight()) - (opt.railpadding.top + opt.railpadding.bottom)\n        });\n\n        if (self.zoom) {\n          self.zoom.css({\n            top: pos.top + 1,\n            left: (self.rail.align == 1) ? pos.left - 20 : pos.left + self.rail.width + 4\n          });\n        }\n\n        if (self.railh && !self.railslocked) {\n          pos = {\n            top: wpos.top,\n            left: wpos.left\n          };\n          off = opt.railhoffset;\n          if (off) {\n            if (off.top) pos.top += off.top;\n            if (off.left) pos.left += off.left;\n          }\n          var y = (self.railh.align) ? pos.top + getWidthToPixel(self.win, 'border-top-width', true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win, 'border-top-width', true);\n          var x = pos.left + getWidthToPixel(self.win, 'border-left-width');\n          self.railh.css({\n            top: y - (opt.railpadding.top + opt.railpadding.bottom),\n            left: x,\n            width: self.railh.width\n          });\n        }\n\n      }\n    };\n\n    this.doRailClick = function (e, dbl, hr) {\n      var fn, pg, cur, pos;\n\n      if (self.railslocked) return;\n\n      self.cancelEvent(e);\n\n      if (!(\"pageY\" in e)) {\n        e.pageX = e.clientX + _doc.documentElement.scrollLeft;\n        e.pageY = e.clientY + _doc.documentElement.scrollTop;\n      }\n\n      if (dbl) {\n        fn = (hr) ? self.doScrollLeft : self.doScrollTop;\n        cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth / 2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight / 2)) * self.scrollratio.y);\n        self.unsynched(\"relativexy\");\n        fn(cur|0);\n      } else {\n        fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;\n        cur = (hr) ? self.scroll.x : self.scroll.y;\n        pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;\n        pg = (hr) ? self.view.w : self.view.h;\n        fn((cur >= pos) ? pg : -pg);\n      }\n\n    };\n\n    self.newscrolly = self.newscrollx = 0;\n\n    self.hasanimationframe = (\"requestAnimationFrame\" in _win);\n    self.hascancelanimationframe = (\"cancelAnimationFrame\" in _win);\n\n    self.hasborderbox = false;\n\n    this.init = function () {\n\n      self.saved.css = [];\n\n      if (cap.isoperamini) return true; // SORRY, DO NOT WORK!\n      if (cap.isandroid && !(\"hidden\" in _doc)) return true; // Android 3- SORRY, DO NOT WORK!\n\n      opt.emulatetouch = opt.emulatetouch || opt.touchbehavior;  // mantain compatibility with \"touchbehavior\"      \n\n      self.hasborderbox = _win.getComputedStyle && (_win.getComputedStyle(_doc.body)['box-sizing'] === \"border-box\");\n\n      var _scrollyhidden = { 'overflow-y': 'hidden' };\n      if (cap.isie11 || cap.isie10) _scrollyhidden['-ms-overflow-style'] = 'none';  // IE 10 & 11 is always a world apart!\n\n      if (self.ishwscroll) {\n        this.doc.css(cap.transitionstyle, cap.prefixstyle + 'transform 0ms ease-out');\n        if (cap.transitionend) self.bind(self.doc, cap.transitionend, self.onScrollTransitionEnd, false); //I have got to do something usefull!!\n      }\n\n      self.zindex = \"auto\";\n      if (!self.ispage && opt.zindex == \"auto\") {\n        self.zindex = getZIndex() || \"auto\";\n      } else {\n        self.zindex = opt.zindex;\n      }\n\n      if (!self.ispage && self.zindex != \"auto\" && self.zindex > globalmaxzindex) {\n        globalmaxzindex = self.zindex;\n      }\n\n      if (self.isie && self.zindex === 0 && opt.zindex == \"auto\") { // fix IE auto == 0\n        self.zindex = \"auto\";\n      }\n\n      if (!self.ispage || !cap.isieold) {\n\n        var cont = self.docscroll;\n        if (self.ispage) cont = (self.haswrapper) ? self.win : self.doc;\n\n        self.css(cont, _scrollyhidden);\n\n        if (self.ispage && (cap.isie11 || cap.isie)) { // IE 7-11\n          self.css($(\"html\"), _scrollyhidden);\n        }\n\n        if (cap.isios && !self.ispage && !self.haswrapper) self.css($body, {\n          \"-webkit-overflow-scrolling\": \"touch\"\n        }); //force hw acceleration\n\n        var cursor = $(_doc.createElement('div'));\n        cursor.css({\n          position: \"relative\",\n          top: 0,\n          \"float\": \"right\",\n          width: opt.cursorwidth,\n          height: 0,\n          'background-color': opt.cursorcolor,\n          border: opt.cursorborder,\n          'background-clip': 'padding-box',\n          '-webkit-border-radius': opt.cursorborderradius,\n          '-moz-border-radius': opt.cursorborderradius,\n          'border-radius': opt.cursorborderradius\n        });\n\n        cursor.addClass('nicescroll-cursors');\n\n        self.cursor = cursor;\n\n        var rail = $(_doc.createElement('div'));\n        rail.attr('id', self.id);\n        rail.addClass('nicescroll-rails nicescroll-rails-vr');\n\n        var v, a, kp = [\"left\", \"right\", \"top\", \"bottom\"];  //**\n        for (var n in kp) {\n          a = kp[n];\n          v = opt.railpadding[a] || 0;\n          v && rail.css(\"padding-\" + a, v + \"px\");\n        }\n\n        rail.append(cursor);\n\n        rail.width = Math.max(parseFloat(opt.cursorwidth), cursor.outerWidth());\n        rail.css({\n          width: rail.width + \"px\",\n          zIndex: self.zindex,\n          background: opt.background,\n          cursor: \"default\"\n        });\n\n        rail.visibility = true;\n        rail.scrollable = true;\n\n        rail.align = (opt.railalign == \"left\") ? 0 : 1;\n\n        self.rail = rail;\n\n        self.rail.drag = false;\n\n        var zoom = false;\n        if (opt.boxzoom && !self.ispage && !cap.isieold) {\n          zoom = _doc.createElement('div');\n\n          self.bind(zoom, \"click\", self.doZoom);\n          self.bind(zoom, \"mouseenter\", function () {\n            self.zoom.css('opacity', opt.cursoropacitymax);\n          });\n          self.bind(zoom, \"mouseleave\", function () {\n            self.zoom.css('opacity', opt.cursoropacitymin);\n          });\n\n          self.zoom = $(zoom);\n          self.zoom.css({\n            cursor: \"pointer\",\n            zIndex: self.zindex,\n            backgroundImage: 'url(' + opt.scriptpath + 'zoomico.png)',\n            height: 18,\n            width: 18,\n            backgroundPosition: '0 0'\n          });\n          if (opt.dblclickzoom) self.bind(self.win, \"dblclick\", self.doZoom);\n          if (cap.cantouch && opt.gesturezoom) {\n            self.ongesturezoom = function (e) {\n              if (e.scale > 1.5) self.doZoomIn(e);\n              if (e.scale < 0.8) self.doZoomOut(e);\n              return self.cancelEvent(e);\n            };\n            self.bind(self.win, \"gestureend\", self.ongesturezoom);\n          }\n        }\n\n        // init HORIZ\n\n        self.railh = false;\n        var railh;\n\n        if (opt.horizrailenabled) {\n\n          self.css(cont, {\n            overflowX: 'hidden'\n          });\n\n          cursor = $(_doc.createElement('div'));\n          cursor.css({\n            position: \"absolute\",\n            top: 0,\n            height: opt.cursorwidth,\n            width: 0,\n            backgroundColor: opt.cursorcolor,\n            border: opt.cursorborder,\n            backgroundClip: 'padding-box',\n            '-webkit-border-radius': opt.cursorborderradius,\n            '-moz-border-radius': opt.cursorborderradius,\n            'border-radius': opt.cursorborderradius\n          });\n\n          if (cap.isieold) cursor.css('overflow', 'hidden');  //IE6 horiz scrollbar issue\n\n          cursor.addClass('nicescroll-cursors');\n\n          self.cursorh = cursor;\n\n          railh = $(_doc.createElement('div'));\n          railh.attr('id', self.id + '-hr');\n          railh.addClass('nicescroll-rails nicescroll-rails-hr');\n          railh.height = Math.max(parseFloat(opt.cursorwidth), cursor.outerHeight());\n          railh.css({\n            height: railh.height + \"px\",\n            'zIndex': self.zindex,\n            \"background\": opt.background\n          });\n\n          railh.append(cursor);\n\n          railh.visibility = true;\n          railh.scrollable = true;\n\n          railh.align = (opt.railvalign == \"top\") ? 0 : 1;\n\n          self.railh = railh;\n\n          self.railh.drag = false;\n\n        }\n\n        if (self.ispage) {\n\n          rail.css({\n            position: \"fixed\",\n            top: 0,\n            height: \"100%\"\n          });\n\n          rail.css((rail.align) ? { right: 0 } : { left: 0 });\n\n          self.body.append(rail);\n          if (self.railh) {\n            railh.css({\n              position: \"fixed\",\n              left: 0,\n              width: \"100%\"\n            });\n\n            railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\n\n            self.body.append(railh);\n          }\n        } else {\n          if (self.ishwscroll) {\n            if (self.win.css('position') == 'static') self.css(self.win, { 'position': 'relative' });\n            var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;\n            $(bd).scrollTop(0).scrollLeft(0);  // fix rail position if content already scrolled\n            if (self.zoom) {\n              self.zoom.css({\n                position: \"absolute\",\n                top: 1,\n                right: 0,\n                \"margin-right\": rail.width + 4\n              });\n              bd.append(self.zoom);\n            }\n            rail.css({\n              position: \"absolute\",\n              top: 0\n            });\n            rail.css((rail.align) ? { right: 0 } : { left: 0 });\n            bd.append(rail);\n            if (railh) {\n              railh.css({\n                position: \"absolute\",\n                left: 0,\n                bottom: 0\n              });\n              railh.css((railh.align) ? { bottom: 0 } : { top: 0 });\n              bd.append(railh);\n            }\n          } else {\n            self.isfixed = (self.win.css(\"position\") == \"fixed\");\n            var rlpos = (self.isfixed) ? \"fixed\" : \"absolute\";\n\n            if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);\n            if (self.viewport) {\n              self.body = self.viewport;\n              if (!(/fixed|absolute/.test(self.viewport.css(\"position\")))) self.css(self.viewport, {\n                \"position\": \"relative\"\n              });\n            }\n\n            rail.css({\n              position: rlpos\n            });\n            if (self.zoom) self.zoom.css({\n              position: rlpos\n            });\n            self.updateScrollBar();\n            self.body.append(rail);\n            if (self.zoom) self.body.append(self.zoom);\n            if (self.railh) {\n              railh.css({\n                position: rlpos\n              });\n              self.body.append(railh);\n            }\n          }\n\n          if (cap.isios) self.css(self.win, {\n            '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n            '-webkit-touch-callout': 'none'\n          }); // prevent grey layer on click\n\n          if (opt.disableoutline) {\n            if (cap.isie) self.win.attr(\"hideFocus\", \"true\"); // IE, prevent dotted rectangle on focused div\n            if (cap.iswebkit) self.win.css('outline', 'none');  // Webkit outline\n          }\n\n        }\n\n        if (opt.autohidemode === false) {\n          self.autohidedom = false;\n          self.rail.css({\n            opacity: opt.cursoropacitymax\n          });\n          if (self.railh) self.railh.css({\n            opacity: opt.cursoropacitymax\n          });\n        } else if ((opt.autohidemode === true) || (opt.autohidemode === \"leave\")) {\n          self.autohidedom = $().add(self.rail);\n          if (cap.isie8) self.autohidedom = self.autohidedom.add(self.cursor);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n          if (self.railh && cap.isie8) self.autohidedom = self.autohidedom.add(self.cursorh);\n        } else if (opt.autohidemode == \"scroll\") {\n          self.autohidedom = $().add(self.rail);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.railh);\n        } else if (opt.autohidemode == \"cursor\") {\n          self.autohidedom = $().add(self.cursor);\n          if (self.railh) self.autohidedom = self.autohidedom.add(self.cursorh);\n        } else if (opt.autohidemode == \"hidden\") {\n          self.autohidedom = false;\n          self.hide();\n          self.railslocked = false;\n        }\n\n        if (cap.cantouch || self.istouchcapable || opt.emulatetouch || cap.hasmstouch) {\n\n          self.scrollmom = new ScrollMomentumClass2D(self);\n\n          var delayedclick = null;\n\n          self.ontouchstart = function (e) {\n\n            if (self.locked) return false;\n\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;  // need test on surface!!\n\n            self.hasmoving = false;\n\n            if (self.scrollmom.timer) {\n              self.triggerScrollEnd();\n              self.scrollmom.stop();\n            }\n\n            if (!self.railslocked) {\n              var tg = self.getTarget(e);\n\n              if (tg) {\n                var skp = (/INPUT/i.test(tg.nodeName)) && (/range/i.test(tg.type));\n                if (skp) return self.stopPropagation(e);\n              }\n\n              var ismouse = (e.type === \"mousedown\");\n\n              if (!(\"clientX\" in e) && (\"changedTouches\" in e)) {\n                e.clientX = e.changedTouches[0].clientX;\n                e.clientY = e.changedTouches[0].clientY;\n              }\n\n              if (self.forcescreen) {\n                var le = e;\n                e = {\n                  \"original\": (e.original) ? e.original : e\n                };\n                e.clientX = le.screenX;\n                e.clientY = le.screenY;\n              }\n\n              self.rail.drag = {\n                x: e.clientX,\n                y: e.clientY,\n                sx: self.scroll.x,\n                sy: self.scroll.y,\n                st: self.getScrollTop(),\n                sl: self.getScrollLeft(),\n                pt: 2,\n                dl: false,\n                tg: tg\n              };\n\n              if (self.ispage || !opt.directionlockdeadzone) {\n\n                self.rail.drag.dl = \"f\";\n\n              } else {\n\n                var view = {\n                  w: $window.width(),\n                  h: $window.height()\n                };\n\n                var page = self.getContentSize();\n\n                var maxh = page.h - view.h;\n                var maxw = page.w - view.w;\n\n                if (self.rail.scrollable && !self.railh.scrollable) self.rail.drag.ck = (maxh > 0) ? \"v\" : false;\n                else if (!self.rail.scrollable && self.railh.scrollable) self.rail.drag.ck = (maxw > 0) ? \"h\" : false;\n                else self.rail.drag.ck = false;\n\n              }\n\n              if (opt.emulatetouch && self.isiframe && cap.isie) {\n                var wp = self.win.position();\n                self.rail.drag.x += wp.left;\n                self.rail.drag.y += wp.top;\n              }\n\n              self.hasmoving = false;\n              self.lastmouseup = false;\n              self.scrollmom.reset(e.clientX, e.clientY);\n\n              if (tg&&ismouse) {\n\n                var ip = /INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName);\n                if (!ip) {\n                  if (cap.hasmousecapture) tg.setCapture();\n                  if (opt.emulatetouch) {\n                    if (tg.onclick && !(tg._onclick || false)) { // intercept DOM0 onclick event\n                      tg._onclick = tg.onclick;\n                      tg.onclick = function (e) {\n                        if (self.hasmoving) return false;\n                        tg._onclick.call(this, e);\n                      };\n                    }\n                    return self.cancelEvent(e);\n                  }\n                  return self.stopPropagation(e);\n                }\n\n                if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {\n                  self.preventclick = {\n                    \"tg\": tg,\n                    \"click\": false\n                  };\n                }\n\n              }\n            }\n\n          };\n\n          self.ontouchend = function (e) {\n\n            if (!self.rail.drag) return true;\n\n            if (self.rail.drag.pt == 2) {\n              //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n              if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return false;\n\n              self.rail.drag = false;\n\n              var ismouse = (e.type === \"mouseup\");\n\n              if (self.hasmoving) {\n                self.scrollmom.doMomentum();\n                self.lastmouseup = true;\n                self.hideCursor();\n                if (cap.hasmousecapture) _doc.releaseCapture();\n                if (ismouse) return self.cancelEvent(e);\n              }\n\n            }\n            else if (self.rail.drag.pt == 1) {\n              return self.onmouseup(e);\n            }\n\n          };\n\n          var moveneedoffset = (opt.emulatetouch && self.isiframe && !cap.hasmousecapture);\n\n          var locktollerance = opt.directionlockdeadzone * 0.3 | 0;\n\n          self.ontouchmove = function (e, byiframe) {\n\n            if (!self.rail.drag) return true;\n\n            if (e.targetTouches && opt.preventmultitouchscrolling) {\n              if (e.targetTouches.length > 1) return true; // multitouch\n            }\n\n            //if (e.pointerType && e.pointerType != 2 && e.pointerType != \"touch\") return false;\n            if (e.pointerType && (e.pointerType === 'mouse' || e.pointerType === e.MSPOINTER_TYPE_MOUSE)) return true;\n\n            if (self.rail.drag.pt == 2) {\n\n              if ((\"changedTouches\" in e)) {\n                e.clientX = e.changedTouches[0].clientX;\n                e.clientY = e.changedTouches[0].clientY;\n              }\n\n              var ofy, ofx;\n              ofx = ofy = 0;\n\n              if (moveneedoffset && !byiframe) {\n                var wp = self.win.position();\n                ofx = -wp.left;\n                ofy = -wp.top;\n              }\n\n              var fy = e.clientY + ofy;\n              var my = (fy - self.rail.drag.y);\n              var fx = e.clientX + ofx;\n              var mx = (fx - self.rail.drag.x);\n\n              var ny = self.rail.drag.st - my;\n\n              if (self.ishwscroll && opt.bouncescroll) {\n                if (ny < 0) {\n                  ny = Math.round(ny / 2);\n                } else if (ny > self.page.maxh) {\n                  ny = self.page.maxh + Math.round((ny - self.page.maxh) / 2);\n                }\n              } else {\n                if (ny < 0) {\n                  ny = 0;\n                  fy = 0;\n                }\n                else if (ny > self.page.maxh) {\n                  ny = self.page.maxh;\n                  fy = 0;\n                }\n                if (fy === 0 && !self.hasmoving) {\n                  if (!self.ispage) self.rail.drag = false;\n                  return true;\n                }\n              }\n\n              var nx = self.getScrollLeft();\n\n              if (self.railh && self.railh.scrollable) {\n                nx = (self.isrtlmode) ? mx - self.rail.drag.sl : self.rail.drag.sl - mx;\n\n                if (self.ishwscroll && opt.bouncescroll) {\n                  if (nx < 0) {\n                    nx = Math.round(nx / 2);\n                  } else if (nx > self.page.maxw) {\n                    nx = self.page.maxw + Math.round((nx - self.page.maxw) / 2);\n                  }\n                } else {\n                  if (nx < 0) {\n                    nx = 0;\n                    fx = 0;\n                  }\n                  if (nx > self.page.maxw) {\n                    nx = self.page.maxw;\n                    fx = 0;\n                  }\n                }\n\n              }\n\n\n              if (!self.hasmoving) {\n\n                if (self.rail.drag.y === e.clientY && self.rail.drag.x === e.clientX) return self.cancelEvent(e);  // prevent first useless move event \n\n                var ay = Math.abs(my);\n                var ax = Math.abs(mx);\n                var dz = opt.directionlockdeadzone;\n\n                if (!self.rail.drag.ck) {\n                  if (ay > dz && ax > dz) self.rail.drag.dl = \"f\";\n                  else if (ay > dz) self.rail.drag.dl = (ax > locktollerance) ? \"f\" : \"v\";\n                  else if (ax > dz) self.rail.drag.dl = (ay > locktollerance) ? \"f\" : \"h\";\n                }\n                else if (self.rail.drag.ck == \"v\") {\n                  if (ax > dz && ay <= locktollerance) {\n                    self.rail.drag = false;\n                  }\n                  else if (ay > dz) self.rail.drag.dl = \"v\";\n\n                }\n                else if (self.rail.drag.ck == \"h\") {\n\n                  if (ay > dz && ax <= locktollerance) {\n                    self.rail.drag = false;\n                  }\n                  else if (ax > dz) self.rail.drag.dl = \"h\";\n\n                }\n\n                if (!self.rail.drag.dl) return self.cancelEvent(e);\n\n                self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n                self.hasmoving = true;\n              }\n\n              if (self.preventclick && !self.preventclick.click) {\n                self.preventclick.click = self.preventclick.tg.onclick || false;\n                self.preventclick.tg.onclick = self.onpreventclick;\n              }\n\n              if (self.rail.drag.dl) {\n                if (self.rail.drag.dl == \"v\") nx = self.rail.drag.sl;\n                else if (self.rail.drag.dl == \"h\") ny = self.rail.drag.st;\n              }\n\n              self.synched(\"touchmove\", function () {\n                if (self.rail.drag && (self.rail.drag.pt == 2)) {\n                  if (self.prepareTransition) self.resetTransition();\n                  if (self.rail.scrollable) self.setScrollTop(ny);\n                  self.scrollmom.update(fx, fy);\n                  if (self.railh && self.railh.scrollable) {\n                    self.setScrollLeft(nx);\n                    self.showCursor(ny, nx);\n                  } else {\n                    self.showCursor(ny);\n                  }\n                  if (cap.isie10) _doc.selection.clear();\n                }\n              });\n\n              return self.cancelEvent(e);\n\n            }\n            else if (self.rail.drag.pt == 1) { // drag on cursor\n              return self.onmousemove(e);\n            }\n\n          };\n\n          self.ontouchstartCursor = function (e, hronly) {\n            if (self.rail.drag && self.rail.drag.pt != 3) return;\n            if (self.locked) return self.cancelEvent(e);\n            self.cancelScroll();\n            self.rail.drag = {\n              x: e.touches[0].clientX,\n              y: e.touches[0].clientY,\n              sx: self.scroll.x,\n              sy: self.scroll.y,\n              pt: 3,\n              hr: (!!hronly)\n            };\n            var tg = self.getTarget(e);\n            if (!self.ispage && cap.hasmousecapture) tg.setCapture();\n            if (self.isiframe && !cap.hasmousecapture) {\n              self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n              self.css(self.doc, { \"pointer-events\": \"none\" });\n            }\n            return self.cancelEvent(e);\n          };\n\n          self.ontouchendCursor = function (e) {\n            if (self.rail.drag) {\n              if (cap.hasmousecapture) _doc.releaseCapture();\n              if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n              if (self.rail.drag.pt != 3) return;\n              self.rail.drag = false;\n              return self.cancelEvent(e);\n            }\n          };\n\n          self.ontouchmoveCursor = function (e) {\n            if (self.rail.drag) {\n              if (self.rail.drag.pt != 3) return;\n\n              self.cursorfreezed = true;\n\n              if (self.rail.drag.hr) {\n                self.scroll.x = self.rail.drag.sx + (e.touches[0].clientX - self.rail.drag.x);\n                if (self.scroll.x < 0) self.scroll.x = 0;\n                var mw = self.scrollvaluemaxw;\n                if (self.scroll.x > mw) self.scroll.x = mw;\n              } else {\n                self.scroll.y = self.rail.drag.sy + (e.touches[0].clientY - self.rail.drag.y);\n                if (self.scroll.y < 0) self.scroll.y = 0;\n                var my = self.scrollvaluemax;\n                if (self.scroll.y > my) self.scroll.y = my;\n              }\n\n              self.synched('touchmove', function () {\n                if (self.rail.drag && (self.rail.drag.pt == 3)) {\n                  self.showCursor();\n                  if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x * self.scrollratio.x), opt.cursordragspeed);\n                  else self.doScrollTop(Math.round(self.scroll.y * self.scrollratio.y), opt.cursordragspeed);\n                }\n              });\n\n              return self.cancelEvent(e);\n            }\n\n          };\n\n        }\n\n        self.onmousedown = function (e, hronly) {\n          if (self.rail.drag && self.rail.drag.pt != 1) return;\n          if (self.railslocked) return self.cancelEvent(e);\n          self.cancelScroll();\n          self.rail.drag = {\n            x: e.clientX,\n            y: e.clientY,\n            sx: self.scroll.x,\n            sy: self.scroll.y,\n            pt: 1,\n            hr: hronly || false\n          };\n          var tg = self.getTarget(e);\n\n          if (cap.hasmousecapture) tg.setCapture();\n          if (self.isiframe && !cap.hasmousecapture) {\n            self.saved.csspointerevents = self.doc.css(\"pointer-events\");\n            self.css(self.doc, {\n              \"pointer-events\": \"none\"\n            });\n          }\n          self.hasmoving = false;\n          return self.cancelEvent(e);\n        };\n\n        self.onmouseup = function (e) {\n          if (self.rail.drag) {\n            if (self.rail.drag.pt != 1) return true;\n\n            if (cap.hasmousecapture) _doc.releaseCapture();\n            if (self.isiframe && !cap.hasmousecapture) self.doc.css(\"pointer-events\", self.saved.csspointerevents);\n            self.rail.drag = false;\n            self.cursorfreezed = false;\n            if (self.hasmoving) self.triggerScrollEnd();\n            return self.cancelEvent(e);\n          }\n        };\n\n        self.onmousemove = function (e) {\n          if (self.rail.drag) {\n            if (self.rail.drag.pt !== 1) return;\n\n            if (cap.ischrome && e.which === 0) return self.onmouseup(e);\n\n            self.cursorfreezed = true;\n\n            if (!self.hasmoving) self.triggerScrollStart(e.clientX, e.clientY, 0, 0, 0);\n\n            self.hasmoving = true;\n\n            if (self.rail.drag.hr) {\n              self.scroll.x = self.rail.drag.sx + (e.clientX - self.rail.drag.x);\n              if (self.scroll.x < 0) self.scroll.x = 0;\n              var mw = self.scrollvaluemaxw;\n              if (self.scroll.x > mw) self.scroll.x = mw;\n            } else {\n              self.scroll.y = self.rail.drag.sy + (e.clientY - self.rail.drag.y);\n              if (self.scroll.y < 0) self.scroll.y = 0;\n              var my = self.scrollvaluemax;\n              if (self.scroll.y > my) self.scroll.y = my;\n            }\n\n            self.synched('mousemove', function () {\n\n              if (self.cursorfreezed) {\n                self.showCursor();\n\n                if (self.rail.drag.hr) {\n                  self.scrollLeft(Math.round(self.scroll.x * self.scrollratio.x));\n                } else {\n                  self.scrollTop(Math.round(self.scroll.y * self.scrollratio.y));\n                }\n\n              }\n            });\n\n            return self.cancelEvent(e);\n          }\n          else {\n            self.checkarea = 0;\n          }\n        };\n\n        if (cap.cantouch || opt.emulatetouch) {\n\n          self.onpreventclick = function (e) {\n            if (self.preventclick) {\n              self.preventclick.tg.onclick = self.preventclick.click;\n              self.preventclick = false;\n              return self.cancelEvent(e);\n            }\n          };\n\n          self.onclick = (cap.isios) ? false : function (e) {  // it needs to check IE11 ???\n            if (self.lastmouseup) {\n              self.lastmouseup = false;\n              return self.cancelEvent(e);\n            } else {\n              return true;\n            }\n          };\n\n          if (opt.grabcursorenabled && cap.cursorgrabvalue) {\n            self.css((self.ispage) ? self.doc : self.win, {\n              'cursor': cap.cursorgrabvalue\n            });\n            self.css(self.rail, {\n              'cursor': cap.cursorgrabvalue\n            });\n          }\n\n        } else {\n\n          var checkSelectionScroll = function (e) {\n            if (!self.selectiondrag) return;\n\n            if (e) {\n              var ww = self.win.outerHeight();\n              var df = (e.pageY - self.selectiondrag.top);\n              if (df > 0 && df < ww) df = 0;\n              if (df >= ww) df -= ww;\n              self.selectiondrag.df = df;\n            }\n            if (self.selectiondrag.df === 0) return;\n\n            var rt = -(self.selectiondrag.df*2/6)|0;\n            self.doScrollBy(rt);\n\n            self.debounced(\"doselectionscroll\", function () {\n              checkSelectionScroll();\n            }, 50);\n          };\n\n          if (\"getSelection\" in _doc) { // A grade - Major browsers\n            self.hasTextSelected = function () {\n              return (_doc.getSelection().rangeCount > 0);\n            };\n          } else if (\"selection\" in _doc) { //IE9-\n            self.hasTextSelected = function () {\n              return (_doc.selection.type != \"None\");\n            };\n          } else {\n            self.hasTextSelected = function () { // no support\n              return false;\n            };\n          }\n\n          self.onselectionstart = function (e) {\n            //  More testing - severe chrome issues           \n            /* \n                          if (!self.haswrapper&&(e.which&&e.which==2)) {  // fool browser to manage middle button scrolling\n                            self.win.css({'overflow':'auto'});\n                            setTimeout(function(){\n                              self.win.css({'overflow':'hidden'});\n                            },10);                \n                            return true;\n                          }            \n            */\n            if (self.ispage) return;\n            self.selectiondrag = self.win.offset();\n          };\n\n          self.onselectionend = function (e) {\n            self.selectiondrag = false;\n          };\n          self.onselectiondrag = function (e) {\n            if (!self.selectiondrag) return;\n            if (self.hasTextSelected()) self.debounced(\"selectionscroll\", function () {\n              checkSelectionScroll(e);\n            }, 250);\n          };\n        }\n\n        if (cap.hasw3ctouch) { //IE11+\n          self.css((self.ispage) ? $(\"html\") : self.win, { 'touch-action': 'none' });\n          self.css(self.rail, {\n            'touch-action': 'none'\n          });\n          self.css(self.cursor, {\n            'touch-action': 'none'\n          });\n          self.bind(self.win, \"pointerdown\", self.ontouchstart);\n          self.bind(_doc, \"pointerup\", self.ontouchend);\n          self.delegate(_doc, \"pointermove\", self.ontouchmove);\n        } else if (cap.hasmstouch) { //IE10\n          self.css((self.ispage) ? $(\"html\") : self.win, { '-ms-touch-action': 'none' });\n          self.css(self.rail, {\n            '-ms-touch-action': 'none'\n          });\n          self.css(self.cursor, {\n            '-ms-touch-action': 'none'\n          });\n          self.bind(self.win, \"MSPointerDown\", self.ontouchstart);\n          self.bind(_doc, \"MSPointerUp\", self.ontouchend);\n          self.delegate(_doc, \"MSPointerMove\", self.ontouchmove);\n          self.bind(self.cursor, \"MSGestureHold\", function (e) {\n            e.preventDefault();\n          });\n          self.bind(self.cursor, \"contextmenu\", function (e) {\n            e.preventDefault();\n          });\n        } else if (cap.cantouch) { // smartphones/touch devices\n          self.bind(self.win, \"touchstart\", self.ontouchstart, false, true);\n          self.bind(_doc, \"touchend\", self.ontouchend, false, true);\n          self.bind(_doc, \"touchcancel\", self.ontouchend, false, true);\n          self.delegate(_doc, \"touchmove\", self.ontouchmove, false, true);\n        }\n\n        if (opt.emulatetouch) {\n          self.bind(self.win, \"mousedown\", self.ontouchstart, false, true);\n          self.bind(_doc, \"mouseup\", self.ontouchend, false, true);\n          self.bind(_doc, \"mousemove\", self.ontouchmove, false, true);\n        }\n\n        if (opt.cursordragontouch || (!cap.cantouch && !opt.emulatetouch)) {\n\n          self.rail.css({\n            cursor: \"default\"\n          });\n          self.railh && self.railh.css({\n            cursor: \"default\"\n          });\n\n          self.jqbind(self.rail, \"mouseenter\", function () {\n            if (!self.ispage && !self.win.is(\":visible\")) return false;\n            if (self.canshowonmouseevent) self.showCursor();\n            self.rail.active = true;\n          });\n          self.jqbind(self.rail, \"mouseleave\", function () {\n            self.rail.active = false;\n            if (!self.rail.drag) self.hideCursor();\n          });\n\n          if (opt.sensitiverail) {\n            self.bind(self.rail, \"click\", function (e) {\n              self.doRailClick(e, false, false);\n            });\n            self.bind(self.rail, \"dblclick\", function (e) {\n              self.doRailClick(e, true, false);\n            });\n            self.bind(self.cursor, \"click\", function (e) {\n              self.cancelEvent(e);\n            });\n            self.bind(self.cursor, \"dblclick\", function (e) {\n              self.cancelEvent(e);\n            });\n          }\n\n          if (self.railh) {\n            self.jqbind(self.railh, \"mouseenter\", function () {\n              if (!self.ispage && !self.win.is(\":visible\")) return false;\n              if (self.canshowonmouseevent) self.showCursor();\n              self.rail.active = true;\n            });\n            self.jqbind(self.railh, \"mouseleave\", function () {\n              self.rail.active = false;\n              if (!self.rail.drag) self.hideCursor();\n            });\n\n            if (opt.sensitiverail) {\n              self.bind(self.railh, \"click\", function (e) {\n                self.doRailClick(e, false, true);\n              });\n              self.bind(self.railh, \"dblclick\", function (e) {\n                self.doRailClick(e, true, true);\n              });\n              self.bind(self.cursorh, \"click\", function (e) {\n                self.cancelEvent(e);\n              });\n              self.bind(self.cursorh, \"dblclick\", function (e) {\n                self.cancelEvent(e);\n              });\n            }\n\n          }\n\n        }\n\n        if (opt.cursordragontouch && (this.istouchcapable || cap.cantouch)) {\n          self.bind(self.cursor, \"touchstart\", self.ontouchstartCursor);\n          self.bind(self.cursor, \"touchmove\", self.ontouchmoveCursor);\n          self.bind(self.cursor, \"touchend\", self.ontouchendCursor);\n          self.cursorh && self.bind(self.cursorh, \"touchstart\", function (e) {\n            self.ontouchstartCursor(e, true);\n          });\n          self.cursorh && self.bind(self.cursorh, \"touchmove\", self.ontouchmoveCursor);\n          self.cursorh && self.bind(self.cursorh, \"touchend\", self.ontouchendCursor);\n        }\n\n//        if (!cap.cantouch && !opt.emulatetouch) {\n        if (!opt.emulatetouch && !cap.isandroid && !cap.isios) {\n\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.onmouseup);\n          self.bind(_doc, \"mousemove\", self.onmousemove);\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n          self.bind(self.cursor, \"mousedown\", self.onmousedown);\n          self.bind(self.cursor, \"mouseup\", self.onmouseup);\n\n          if (self.railh) {\n            self.bind(self.cursorh, \"mousedown\", function (e) {\n              self.onmousedown(e, true);\n            });\n            self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n          }\n\n          if (!self.ispage && opt.enablescrollonselection) {\n            self.bind(self.win[0], \"mousedown\", self.onselectionstart);\n            self.bind(_doc, \"mouseup\", self.onselectionend);\n            self.bind(self.cursor, \"mouseup\", self.onselectionend);\n            if (self.cursorh) self.bind(self.cursorh, \"mouseup\", self.onselectionend);\n            self.bind(_doc, \"mousemove\", self.onselectiondrag);\n          }\n\n          if (self.zoom) {\n            self.jqbind(self.zoom, \"mouseenter\", function () {\n              if (self.canshowonmouseevent) self.showCursor();\n              self.rail.active = true;\n            });\n            self.jqbind(self.zoom, \"mouseleave\", function () {\n              self.rail.active = false;\n              if (!self.rail.drag) self.hideCursor();\n            });\n          }\n\n        } else {\n\n          self.bind((cap.hasmousecapture) ? self.win : _doc, \"mouseup\", self.ontouchend);\n          if (self.onclick) self.bind(_doc, \"click\", self.onclick);\n\n          if (opt.cursordragontouch) {\n            self.bind(self.cursor, \"mousedown\", self.onmousedown);\n            self.bind(self.cursor, \"mouseup\", self.onmouseup);\n            self.cursorh && self.bind(self.cursorh, \"mousedown\", function (e) {\n              self.onmousedown(e, true);\n            });\n            self.cursorh && self.bind(self.cursorh, \"mouseup\", self.onmouseup);\n          } else {\n            self.bind(self.rail, \"mousedown\", function (e) { e.preventDefault(); });  // prevent text selection             \n            self.railh && self.bind(self.railh, \"mousedown\", function (e) { e.preventDefault(); });\n          }\n\n        }\n\n\n        if (opt.enablemousewheel) {\n          if (!self.isiframe) self.mousewheel((cap.isie && self.ispage) ? _doc : self.win, self.onmousewheel);\n          self.mousewheel(self.rail, self.onmousewheel);\n          if (self.railh) self.mousewheel(self.railh, self.onmousewheelhr);\n        }\n\n        if (!self.ispage && !cap.cantouch && !(/HTML|^BODY/.test(self.win[0].nodeName))) {\n          if (!self.win.attr(\"tabindex\")) self.win.attr({\n            \"tabindex\": ++tabindexcounter\n          });\n\n          self.bind(self.win, \"focus\", function (e) {  // better using native events\n            domfocus = (self.getTarget(e)).id || self.getTarget(e) || false;\n            self.hasfocus = true;\n            if (self.canshowonmouseevent) self.noticeCursor();\n          });\n          self.bind(self.win, \"blur\", function (e) {  // *\n            domfocus = false;\n            self.hasfocus = false;\n          });\n\n          self.bind(self.win, \"mouseenter\", function (e) {   // *\n            mousefocus = (self.getTarget(e)).id || self.getTarget(e) || false;\n            self.hasmousefocus = true;\n            if (self.canshowonmouseevent) self.noticeCursor();\n          });\n          self.bind(self.win, \"mouseleave\", function (e) {   // *       \n            mousefocus = false;\n            self.hasmousefocus = false;\n            if (!self.rail.drag) self.hideCursor();\n          });\n\n        }\n\n\n        //Thanks to http://www.quirksmode.org !!\n        self.onkeypress = function (e) {\n          if (self.railslocked && self.page.maxh === 0) return true;\n\n          e = e || _win.event;\n          var tg = self.getTarget(e);\n          if (tg && /INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {\n            var tp = tg.getAttribute('type') || tg.type || false;\n            if ((!tp) || !(/submit|button|cancel/i.tp)) return true;\n          }\n\n          if ($(tg).attr('contenteditable')) return true;\n\n          if (self.hasfocus || (self.hasmousefocus && !domfocus) || (self.ispage && !domfocus && !mousefocus)) {\n            var key = e.keyCode;\n\n            if (self.railslocked && key != 27) return self.cancelEvent(e);\n\n            var ctrl = e.ctrlKey || false;\n            var shift = e.shiftKey || false;\n\n            var ret = false;\n            switch (key) {\n              case 38:\n              case 63233: //safari\n                self.doScrollBy(24 * 3);\n                ret = true;\n                break;\n              case 40:\n              case 63235: //safari\n                self.doScrollBy(-24 * 3);\n                ret = true;\n                break;\n              case 37:\n              case 63232: //safari\n                if (self.railh) {\n                  (ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24 * 3);\n                  ret = true;\n                }\n                break;\n              case 39:\n              case 63234: //safari\n                if (self.railh) {\n                  (ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24 * 3);\n                  ret = true;\n                }\n                break;\n              case 33:\n              case 63276: // safari\n                self.doScrollBy(self.view.h);\n                ret = true;\n                break;\n              case 34:\n              case 63277: // safari\n                self.doScrollBy(-self.view.h);\n                ret = true;\n                break;\n              case 36:\n              case 63273: // safari                \n                (self.railh && ctrl) ? self.doScrollPos(0, 0) : self.doScrollTo(0);\n                ret = true;\n                break;\n              case 35:\n              case 63275: // safari\n                (self.railh && ctrl) ? self.doScrollPos(self.page.maxw, self.page.maxh) : self.doScrollTo(self.page.maxh);\n                ret = true;\n                break;\n              case 32:\n                if (opt.spacebarenabled) {\n                  (shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);\n                  ret = true;\n                }\n                break;\n              case 27: // ESC\n                if (self.zoomactive) {\n                  self.doZoom();\n                  ret = true;\n                }\n                break;\n            }\n            if (ret) return self.cancelEvent(e);\n          }\n        };\n\n        if (opt.enablekeyboard) self.bind(_doc, (cap.isopera && !cap.isopera12) ? \"keypress\" : \"keydown\", self.onkeypress);\n\n        self.bind(_doc, \"keydown\", function (e) {\n          var ctrl = e.ctrlKey || false;\n          if (ctrl) self.wheelprevented = true;\n        });\n        self.bind(_doc, \"keyup\", function (e) {\n          var ctrl = e.ctrlKey || false;\n          if (!ctrl) self.wheelprevented = false;\n        });\n        self.bind(_win, \"blur\", function (e) {\n          self.wheelprevented = false;\n        });\n\n        self.bind(_win, 'resize', self.onscreenresize);\n        self.bind(_win, 'orientationchange', self.onscreenresize);\n\n        self.bind(_win, \"load\", self.lazyResize);\n\n        if (cap.ischrome && !self.ispage && !self.haswrapper) { //chrome void scrollbar bug - it persists in version 26\n          var tmp = self.win.attr(\"style\");\n          var ww = parseFloat(self.win.css(\"width\")) + 1;\n          self.win.css('width', ww);\n          self.synched(\"chromefix\", function () {\n            self.win.attr(\"style\", tmp);\n          });\n        }\n\n\n        // Trying a cross-browser implementation - good luck!\n\n        self.onAttributeChange = function (e) {\n          self.lazyResize(self.isieold ? 250 : 30);\n        };\n\n        if (opt.enableobserver) {\n\n          if ((!self.isie11) && (ClsMutationObserver !== false)) {  // IE11 crashes  #568\n            self.observerbody = new ClsMutationObserver(function (mutations) {\n              mutations.forEach(function (mut) {\n                if (mut.type == \"attributes\") {\n                  return ($body.hasClass(\"modal-open\") && $body.hasClass(\"modal-dialog\") && !$.contains($('.modal-dialog')[0], self.doc[0])) ? self.hide() : self.show();  // Support for Bootstrap modal; Added check if the nice scroll element is inside a modal\n                }\n              });\n              if (self.me.clientWidth != self.page.width || self.me.clientHeight != self.page.height) return self.lazyResize(30);\n            });\n            self.observerbody.observe(_doc.body, {\n              childList: true,\n              subtree: true,\n              characterData: false,\n              attributes: true,\n              attributeFilter: ['class']\n            });\n          }\n\n          if (!self.ispage && !self.haswrapper) {\n\n            var _dom = self.win[0];\n\n            // redesigned MutationObserver for Chrome18+/Firefox14+/iOS6+ with support for: remove div, add/remove content\n            if (ClsMutationObserver !== false) {\n              self.observer = new ClsMutationObserver(function (mutations) {\n                mutations.forEach(self.onAttributeChange);\n              });\n              self.observer.observe(_dom, {\n                childList: true,\n                characterData: false,\n                attributes: true,\n                subtree: false\n              });\n              self.observerremover = new ClsMutationObserver(function (mutations) {\n                mutations.forEach(function (mo) {\n                  if (mo.removedNodes.length > 0) {\n                    for (var dd in mo.removedNodes) {\n                      if (!!self && (mo.removedNodes[dd] === _dom)) return self.remove();\n                    }\n                  }\n                });\n              });\n              self.observerremover.observe(_dom.parentNode, {\n                childList: true,\n                characterData: false,\n                attributes: false,\n                subtree: false\n              });\n            } else {\n              self.bind(_dom, (cap.isie && !cap.isie9) ? \"propertychange\" : \"DOMAttrModified\", self.onAttributeChange);\n              if (cap.isie9) _dom.attachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n              self.bind(_dom, \"DOMNodeRemoved\", function (e) {\n                if (e.target === _dom) self.remove();\n              });\n            }\n          }\n\n        }\n\n        //\n\n        if (!self.ispage && opt.boxzoom) self.bind(_win, \"resize\", self.resizeZoom);\n        if (self.istextarea) {\n          self.bind(self.win, \"keydown\", self.lazyResize);\n          self.bind(self.win, \"mouseup\", self.lazyResize);\n        }\n\n        self.lazyResize(30);\n\n      }\n\n      if (this.doc[0].nodeName == 'IFRAME') {\n        var oniframeload = function () {\n          self.iframexd = false;\n          var doc;\n          try {\n            doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow._doc;\n            var a = doc.domain;\n          } catch (e) {\n            self.iframexd = true;\n            doc = false;\n          }\n\n          if (self.iframexd) {\n            if (\"console\" in _win) console.log('NiceScroll error: policy restriced iframe');\n            return true; //cross-domain - I can't manage this        \n          }\n\n          self.forcescreen = true;\n\n          if (self.isiframe) {\n            self.iframe = {\n              \"doc\": $(doc),\n              \"html\": self.doc.contents().find('html')[0],\n              \"body\": self.doc.contents().find('body')[0]\n            };\n            self.getContentSize = function () {\n              return {\n                w: Math.max(self.iframe.html.scrollWidth, self.iframe.body.scrollWidth),\n                h: Math.max(self.iframe.html.scrollHeight, self.iframe.body.scrollHeight)\n              };\n            };\n            self.docscroll = $(self.iframe.body);\n          }\n\n          if (!cap.isios && opt.iframeautoresize && !self.isiframe) {\n            self.win.scrollTop(0); // reset position\n            self.doc.height(\"\"); //reset height to fix browser bug\n            var hh = Math.max(doc.getElementsByTagName('html')[0].scrollHeight, doc.body.scrollHeight);\n            self.doc.height(hh);\n          }\n          self.lazyResize(30);\n\n          self.css($(self.iframe.body), _scrollyhidden);\n\n          if (cap.isios && self.haswrapper) {\n            self.css($(doc.body), {\n              '-webkit-transform': 'translate3d(0,0,0)'\n            }); // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/\n          }\n\n          if ('contentWindow' in this) {\n            self.bind(this.contentWindow, \"scroll\", self.onscroll); //IE8 & minor\n          } else {\n            self.bind(doc, \"scroll\", self.onscroll);\n          }\n\n          if (opt.enablemousewheel) {\n            self.mousewheel(doc, self.onmousewheel);\n          }\n\n          if (opt.enablekeyboard) self.bind(doc, (cap.isopera) ? \"keypress\" : \"keydown\", self.onkeypress);\n\n          if (cap.cantouch) {\n            self.bind(doc, \"touchstart\", self.ontouchstart);\n            self.bind(doc, \"touchmove\", self.ontouchmove);\n          }\n          else if (opt.emulatetouch) {\n            self.bind(doc, \"mousedown\", self.ontouchstart);\n            self.bind(doc, \"mousemove\", function (e) {\n              return self.ontouchmove(e, true);\n            });\n            if (opt.grabcursorenabled && cap.cursorgrabvalue) self.css($(doc.body), {\n              'cursor': cap.cursorgrabvalue\n            });\n          }\n\n          self.bind(doc, \"mouseup\", self.ontouchend);\n\n          if (self.zoom) {\n            if (opt.dblclickzoom) self.bind(doc, 'dblclick', self.doZoom);\n            if (self.ongesturezoom) self.bind(doc, \"gestureend\", self.ongesturezoom);\n          }\n        };\n\n        if (this.doc[0].readyState && this.doc[0].readyState === \"complete\") {\n          setTimeout(function () {\n            oniframeload.call(self.doc[0], false);\n          }, 500);\n        }\n        self.bind(this.doc, \"load\", oniframeload);\n\n      }\n\n    };\n\n    this.showCursor = function (py, px) {\n      if (self.cursortimeout) {\n        clearTimeout(self.cursortimeout);\n        self.cursortimeout = 0;\n      }\n      if (!self.rail) return;\n      if (self.autohidedom) {\n        self.autohidedom.stop().css({\n          opacity: opt.cursoropacitymax\n        });\n        self.cursoractive = true;\n      }\n\n      if (!self.rail.drag || self.rail.drag.pt != 1) {\n        if (py !== undefined && py !== false) {\n          self.scroll.y = (py / self.scrollratio.y) | 0;\n        }\n        if (px !== undefined) {\n          self.scroll.x = (px / self.scrollratio.x) | 0;\n        }\n      }\n\n      self.cursor.css({\n        height: self.cursorheight,\n        top: self.scroll.y\n      });\n      if (self.cursorh) {\n        var lx = (self.hasreversehr) ? self.scrollvaluemaxw - self.scroll.x : self.scroll.x;\n        self.cursorh.css({\n          width: self.cursorwidth,\n          left: (!self.rail.align && self.rail.visibility) ? lx + self.rail.width : lx\n        });\n        self.cursoractive = true;\n      }\n\n      if (self.zoom) self.zoom.stop().css({\n        opacity: opt.cursoropacitymax\n      });\n    };\n\n    this.hideCursor = function (tm) {\n      if (self.cursortimeout) return;\n      if (!self.rail) return;\n      if (!self.autohidedom) return;\n\n      if (self.hasmousefocus && opt.autohidemode === \"leave\") return;\n      self.cursortimeout = setTimeout(function () {\n        if (!self.rail.active || !self.showonmouseevent) {\n          self.autohidedom.stop().animate({\n            opacity: opt.cursoropacitymin\n          });\n          if (self.zoom) self.zoom.stop().animate({\n            opacity: opt.cursoropacitymin\n          });\n          self.cursoractive = false;\n        }\n        self.cursortimeout = 0;\n      }, tm || opt.hidecursordelay);\n    };\n\n    this.noticeCursor = function (tm, py, px) {\n      self.showCursor(py, px);\n      if (!self.rail.active) self.hideCursor(tm);\n    };\n\n    this.getContentSize =\n      (self.ispage) ?\n        function () {\n          return {\n            w: Math.max(_doc.body.scrollWidth, _doc.documentElement.scrollWidth),\n            h: Math.max(_doc.body.scrollHeight, _doc.documentElement.scrollHeight)\n          };\n        } : (self.haswrapper) ?\n          function () {\n            return {\n              w: self.doc[0].offsetWidth,\n              h: self.doc[0].offsetHeight\n            };\n          } : function () {\n            return {\n              w: self.docscroll[0].scrollWidth,\n              h: self.docscroll[0].scrollHeight\n            };\n          };\n\n    this.onResize = function (e, page) {\n\n      if (!self || !self.win) return false;\n\n      var premaxh = self.page.maxh,\n          premaxw = self.page.maxw,\n          previewh = self.view.h,\n          previeww = self.view.w;\n\n      self.view = {\n        w: (self.ispage) ? self.win.width() : self.win[0].clientWidth,\n        h: (self.ispage) ? self.win.height() : self.win[0].clientHeight\n      };\n\n      self.page = (page) ? page : self.getContentSize();\n\n      self.page.maxh = Math.max(0, self.page.h - self.view.h);\n      self.page.maxw = Math.max(0, self.page.w - self.view.w);\n\n      if ((self.page.maxh == premaxh) && (self.page.maxw == premaxw) && (self.view.w == previeww) && (self.view.h == previewh)) {\n        // test position        \n        if (!self.ispage) {\n          var pos = self.win.offset();\n          if (self.lastposition) {\n            var lst = self.lastposition;\n            if ((lst.top == pos.top) && (lst.left == pos.left)) return self; //nothing to do            \n          }\n          self.lastposition = pos;\n        } else {\n          return self; //nothing to do\n        }\n      }\n\n      if (self.page.maxh === 0) {\n        self.hideRail();\n        self.scrollvaluemax = 0;\n        self.scroll.y = 0;\n        self.scrollratio.y = 0;\n        self.cursorheight = 0;\n        self.setScrollTop(0);\n        if (self.rail) self.rail.scrollable = false;\n      } else {\n        self.page.maxh -= (opt.railpadding.top + opt.railpadding.bottom);\n        self.rail.scrollable = true;\n      }\n\n      if (self.page.maxw === 0) {\n        self.hideRailHr();\n        self.scrollvaluemaxw = 0;\n        self.scroll.x = 0;\n        self.scrollratio.x = 0;\n        self.cursorwidth = 0;\n        self.setScrollLeft(0);\n        if (self.railh) {\n          self.railh.scrollable = false;\n        }\n      } else {\n        self.page.maxw -= (opt.railpadding.left + opt.railpadding.right);\n        if (self.railh) self.railh.scrollable = (opt.horizrailenabled);\n      }\n\n      self.railslocked = (self.locked) || ((self.page.maxh === 0) && (self.page.maxw === 0));\n      if (self.railslocked) {\n        if (!self.ispage) self.updateScrollBar(self.view);\n        return false;\n      }\n\n      if (!self.hidden) {\n        if (!self.rail.visibility) self.showRail();\n        if (self.railh && !self.railh.visibility) self.showRailHr();\n      }\n\n      if (self.istextarea && self.win.css('resize') && self.win.css('resize') != 'none') self.view.h -= 20;\n\n      self.cursorheight = Math.min(self.view.h, Math.round(self.view.h * (self.view.h / self.page.h)));\n      self.cursorheight = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorheight);\n\n      self.cursorwidth = Math.min(self.view.w, Math.round(self.view.w * (self.view.w / self.page.w)));\n      self.cursorwidth = (opt.cursorfixedheight) ? opt.cursorfixedheight : Math.max(opt.cursorminheight, self.cursorwidth);\n\n      self.scrollvaluemax = self.view.h - self.cursorheight - (opt.railpadding.top + opt.railpadding.bottom);\n      if (!self.hasborderbox) self.scrollvaluemax -= self.cursor[0].offsetHeight - self.cursor[0].clientHeight;\n\n      if (self.railh) {\n        self.railh.width = (self.page.maxh > 0) ? (self.rail.width) : self.view.w;\n        self.scrollvaluemaxw = self.railh.width - self.cursorwidth - (opt.railpadding.left + opt.railpadding.right);\n      }\n\n      if (!self.ispage) self.updateScrollBar(self.view);\n\n      self.scrollratio = {\n        x: (self.page.maxw / self.scrollvaluemaxw),\n        y: (self.page.maxh / self.scrollvaluemax)\n      };\n\n      var sy = self.getScrollTop();\n      if (sy > self.page.maxh) {\n        self.doScrollTop(self.page.maxh);\n      } else {\n        self.scroll.y = (self.getScrollTop() / self.scrollratio.y) | 0;\n        self.scroll.x = (self.getScrollLeft() / self.scrollratio.x) | 0;\n        if (self.cursoractive) self.noticeCursor();\n      }\n\n      if (self.scroll.y && (self.getScrollTop() === 0)) self.doScrollTo((self.scroll.y * self.scrollratio.y)|0);\n\n      return self;\n    };\n\n    this.resize = self.onResize;\n\n    var hlazyresize = 0;\n\n    this.onscreenresize = function(e) {\n      clearTimeout(hlazyresize);\n\n      var hiderails = (!self.ispage && !self.haswrapper);\n      if (hiderails) self.hideRails();\n\n      hlazyresize = setTimeout(function () {\n        if (self) {\n          if (hiderails) self.showRails();\n          self.resize();\n        }\n        hlazyresize=0;\n      }, 120);\n    };\n\n    this.lazyResize = function (tm) { // event debounce\n\n      clearTimeout(hlazyresize);\n\n      tm = isNaN(tm) ? 240 : tm;\n\n      hlazyresize = setTimeout(function () {\n        self && self.resize();\n        hlazyresize=0;\n      }, tm);\n\n      return self;\n\n    };\n\n    // derived by MDN https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/wheel\n    function _modernWheelEvent(dom, name, fn, bubble) {\n      self._bind(dom, name, function (e) {\n        e = e || _win.event;\n        var event = {\n          original: e,\n          target: e.target || e.srcElement,\n          type: \"wheel\",\n          deltaMode: e.type == \"MozMousePixelScroll\" ? 0 : 1,\n          deltaX: 0,\n          deltaZ: 0,\n          preventDefault: function () {\n            e.preventDefault ? e.preventDefault() : e.returnValue = false;\n            return false;\n          },\n          stopImmediatePropagation: function () {\n            (e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;\n          }\n        };\n\n        if (name == \"mousewheel\") {\n          e.wheelDeltaX && (event.deltaX = -1 / 40 * e.wheelDeltaX);\n          e.wheelDeltaY && (event.deltaY = -1 / 40 * e.wheelDeltaY);\n          !event.deltaY && !event.deltaX && (event.deltaY = -1 / 40 * e.wheelDelta);\n        } else {\n          event.deltaY = e.detail;\n        }\n\n        return fn.call(dom, event);\n      }, bubble);\n    }\n\n\n\n    this.jqbind = function (dom, name, fn) { // use jquery bind for non-native events (mouseenter/mouseleave)\n      self.events.push({\n        e: dom,\n        n: name,\n        f: fn,\n        q: true\n      });\n      $(dom).on(name, fn);\n    };\n\n    this.mousewheel = function (dom, fn, bubble) { // bind mousewheel\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\n      if (\"onwheel\" in _doc.createElement(\"div\")) { // Modern browsers support \"wheel\"\n        self._bind(el, \"wheel\", fn, bubble || false);\n      } else {\n        var wname = (_doc.onmousewheel !== undefined) ? \"mousewheel\" : \"DOMMouseScroll\"; // older Webkit+IE support or older Firefox          \n        _modernWheelEvent(el, wname, fn, bubble || false);\n        if (wname == \"DOMMouseScroll\") _modernWheelEvent(el, \"MozMousePixelScroll\", fn, bubble || false); // Firefox legacy\n      }\n    };\n\n    var passiveSupported = false;\n\n    if (cap.haseventlistener) {  // W3C standard event model\n\n      // thanks to https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n      try { var options = Object.defineProperty({}, \"passive\", { get: function () { passiveSupported = !0; } }); _win.addEventListener(\"test\", null, options); } catch (err) { }\n\n      this.stopPropagation = function (e) {\n        if (!e) return false;\n        e = (e.original) ? e.original : e;\n        e.stopPropagation();\n        return false;\n      };\n\n      this.cancelEvent = function(e) {\n        if (e.cancelable) e.preventDefault();\n        e.stopImmediatePropagation();\n        if (e.preventManipulation) e.preventManipulation();  // IE10+\n        return false;\n      };      \n\n    } else {\n\n      // inspired from https://gist.github.com/jonathantneal/2415137      \n\n      Event.prototype.preventDefault = function () {\n        this.returnValue = false;\n      };\n\n      Event.prototype.stopPropagation = function () {\n        this.cancelBubble = true;\n      };\n\n      _win.constructor.prototype.addEventListener = _doc.constructor.prototype.addEventListener = Element.prototype.addEventListener = function (type, listener, useCapture) {\n        this.attachEvent(\"on\" + type, listener);\n      };\n      _win.constructor.prototype.removeEventListener = _doc.constructor.prototype.removeEventListener = Element.prototype.removeEventListener = function (type, listener, useCapture) {\n        this.detachEvent(\"on\" + type, listener);\n      };\n\n      // Thanks to http://www.switchonthecode.com !!\n      this.cancelEvent = function (e) {\n        e = e || _win.event;\n        if (e) {          \n          e.cancelBubble = true;\n          e.cancel = true;\n          e.returnValue = false;\n        }  \n        return false;\n      };\n\n      this.stopPropagation = function (e) {\n        e = e || _win.event;\n        if (e) e.cancelBubble = true;\n        return false;\n      };\n\n    }\n\n    this.delegate = function (dom, name, fn, bubble, active) {\n\n      var de = delegatevents[name] || false;\n\n      if (!de) {\n\n        de = {\n          a: [],\n          l: [],\n          f: function (e) {\n            var lst = de.l, l = lst.length - 1;\n            var r = false;\n            for (var a = l; a >= 0; a--) {\n              r = lst[a].call(e.target, e);\n              if (r === false) return false;\n            }\n            return r;\n          }\n        };\n\n        self.bind(dom, name, de.f, bubble, active);\n\n        delegatevents[name] = de;\n\n      }\n\n      if (self.ispage) {\n        de.a = [self.id].concat(de.a);\n        de.l = [fn].concat(de.l);\n      } else {\n        de.a.push(self.id);\n        de.l.push(fn);        \n      }\n\n    };\n\n    this.undelegate = function (dom, name, fn, bubble, active) {\n      var de = delegatevents[name]||false;\n      if (de&&de.l) {  // quick fix #683\n        for (var a=0,l=de.l.length;a<l;a++) {\n          if (de.a[a] === self.id) {\n            de.a.splice(a);\n            de.l.splice(a);\n            if (de.a.length===0) {\n              self._unbind(dom,name,de.l.f);\n              delegatevents[name] = null;\n            }\n          }\n        }\n      }\n    };\n\n    this.bind = function (dom, name, fn, bubble, active) {\n      var el = (\"jquery\" in dom) ? dom[0] : dom;\n      self._bind(el, name, fn, bubble || false, active || false);\n    };\n\n    this._bind = function (el, name, fn, bubble, active) { // primitive bind\n\n      self.events.push({\n        e: el,\n        n: name,\n        f: fn,\n        b: bubble,\n        q: false\n      });\n\n      (passiveSupported && active) ? el.addEventListener(name, fn, { passive: false, capture: bubble }) : el.addEventListener(name, fn, bubble || false);\n    };\n\n    this._unbind = function (el, name, fn, bub) { // primitive unbind\n      if (delegatevents[name]) self.undelegate(el, name, fn, bub);\n      else el.removeEventListener(name, fn, bub);\n    };\n\n    this.unbindAll = function () {\n      for (var a = 0; a < self.events.length; a++) {\n        var r = self.events[a];\n        (r.q) ? r.e.unbind(r.n, r.f) : self._unbind(r.e, r.n, r.f, r.b);\n      }\n    };\n\n    this.showRails = function () {\n      return self.showRail().showRailHr();\n    };\n\n    this.showRail = function () {\n      if ((self.page.maxh !== 0) && (self.ispage || self.win.css('display') != 'none')) {\n        //self.visibility = true;\n        self.rail.visibility = true;\n        self.rail.css('display', 'block');\n      }\n      return self;\n    };\n\n    this.showRailHr = function () {\n      if (self.railh) {\n        if ((self.page.maxw !== 0) && (self.ispage || self.win.css('display') != 'none')) {\n          self.railh.visibility = true;\n          self.railh.css('display', 'block');\n        }\n      }\n      return self;\n    };\n\n    this.hideRails = function () {\n      return self.hideRail().hideRailHr();\n    };\n\n    this.hideRail = function () {\n      //self.visibility = false;\n      self.rail.visibility = false;\n      self.rail.css('display', 'none');\n      return self;\n    };\n\n    this.hideRailHr = function () {\n      if (self.railh) {\n        self.railh.visibility = false;\n        self.railh.css('display', 'none');\n      }\n      return self;\n    };\n\n    this.show = function () {\n      self.hidden = false;\n      self.railslocked = false;\n      return self.showRails();\n    };\n\n    this.hide = function () {\n      self.hidden = true;\n      self.railslocked = true;\n      return self.hideRails();\n    };\n\n    this.toggle = function () {\n      return (self.hidden) ? self.show() : self.hide();\n    };\n\n    this.remove = function () {\n      self.stop();\n      if (self.cursortimeout) clearTimeout(self.cursortimeout);\n      for (var n in self.delaylist) if (self.delaylist[n]) clearAnimationFrame(self.delaylist[n].h);\n      self.doZoomOut();\n      self.unbindAll();\n\n      if (cap.isie9) self.win[0].detachEvent(\"onpropertychange\", self.onAttributeChange); //IE9 DOMAttrModified bug\n\n      if (self.observer !== false) self.observer.disconnect();\n      if (self.observerremover !== false) self.observerremover.disconnect();\n      if (self.observerbody !== false) self.observerbody.disconnect();\n\n      self.events = null;\n\n      if (self.cursor) {\n        self.cursor.remove();\n      }\n      if (self.cursorh) {\n        self.cursorh.remove();\n      }\n      if (self.rail) {\n        self.rail.remove();\n      }\n      if (self.railh) {\n        self.railh.remove();\n      }\n      if (self.zoom) {\n        self.zoom.remove();\n      }\n      for (var a = 0; a < self.saved.css.length; a++) {\n        var d = self.saved.css[a];\n        d[0].css(d[1], (d[2] === undefined) ? '' : d[2]);\n      }\n      self.saved = false;\n      self.me.data('__nicescroll', ''); //erase all traces\n\n      // memory leak fixed by GianlucaGuarini - thanks a lot!\n      // remove the current nicescroll from the $.nicescroll array & normalize array\n      var lst = $.nicescroll;\n      lst.each(function (i) {\n        if (!this) return;\n        if (this.id === self.id) {\n          delete lst[i];\n          for (var b = ++i; b < lst.length; b++ , i++) lst[i] = lst[b];\n          lst.length--;\n          if (lst.length) delete lst[lst.length];\n        }\n      });\n\n      for (var i in self) {\n        self[i] = null;\n        delete self[i];\n      }\n\n      self = null;\n\n    };\n\n    this.scrollstart = function (fn) {\n      this.onscrollstart = fn;\n      return self;\n    };\n    this.scrollend = function (fn) {\n      this.onscrollend = fn;\n      return self;\n    };\n    this.scrollcancel = function (fn) {\n      this.onscrollcancel = fn;\n      return self;\n    };\n\n    this.zoomin = function (fn) {\n      this.onzoomin = fn;\n      return self;\n    };\n    this.zoomout = function (fn) {\n      this.onzoomout = fn;\n      return self;\n    };\n\n    this.isScrollable = function (e) {\n      var dom = (e.target) ? e.target : e;\n      if (dom.nodeName == 'OPTION') return true;\n      while (dom && (dom.nodeType == 1) && (dom !== this.me[0]) && !(/^BODY|HTML/.test(dom.nodeName))) {\n        var dd = $(dom);\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\n        if (/scroll|auto/.test(ov)) return (dom.clientHeight != dom.scrollHeight);\n        dom = (dom.parentNode) ? dom.parentNode : false;\n      }\n      return false;\n    };\n\n    this.getViewport = function (me) {\n      var dom = (me && me.parentNode) ? me.parentNode : false;\n      while (dom && (dom.nodeType == 1) && !(/^BODY|HTML/.test(dom.nodeName))) {\n        var dd = $(dom);\n        if (/fixed|absolute/.test(dd.css(\"position\"))) return dd;\n        var ov = dd.css('overflowY') || dd.css('overflowX') || dd.css('overflow') || '';\n        if ((/scroll|auto/.test(ov)) && (dom.clientHeight != dom.scrollHeight)) return dd;\n        if (dd.getNiceScroll().length > 0) return dd;\n        dom = (dom.parentNode) ? dom.parentNode : false;\n      }\n      return false;\n    };\n\n    this.triggerScrollStart = function (cx, cy, rx, ry, ms) {\n\n      if (self.onscrollstart) {\n        var info = {\n          type: \"scrollstart\",\n          current: {\n            x: cx,\n            y: cy\n          },\n          request: {\n            x: rx,\n            y: ry\n          },\n          end: {\n            x: self.newscrollx,\n            y: self.newscrolly\n          },\n          speed: ms\n        };\n        self.onscrollstart.call(self, info);\n      }\n\n    };\n\n    this.triggerScrollEnd = function () {\n      if (self.onscrollend) {\n\n        var px = self.getScrollLeft();\n        var py = self.getScrollTop();\n\n        var info = {\n          type: \"scrollend\",\n          current: {\n            x: px,\n            y: py\n          },\n          end: {\n            x: px,\n            y: py\n          }\n        };\n\n        self.onscrollend.call(self, info);\n\n      }\n\n    };\n\n    var scrolldiry = 0, scrolldirx = 0, scrolltmr = 0, scrollspd = 1;\n\n    function doScrollRelative(px, py, chkscroll, iswheel) {\n\n      if (!self.scrollrunning) {\n        self.newscrolly = self.getScrollTop();\n        self.newscrollx = self.getScrollLeft();\n        scrolltmr = now();\n      }\n\n      var gap = (now() - scrolltmr);\n      scrolltmr = now();\n\n      if (gap > 350) {\n        scrollspd = 1;\n      } else {\n        scrollspd += (2 - scrollspd) / 10;\n      }\n\n      px = px * scrollspd | 0;\n      py = py * scrollspd | 0;\n\n      if (px) {\n\n        if (iswheel) { // mouse-only\n          if (px < 0) {  // fix apple magic mouse swipe back/forward\n            if (self.getScrollLeft() >= self.page.maxw) return true;\n          } else {\n            if (self.getScrollLeft() <= 0) return true;\n          }\n        }\n\n        var dx = px > 0 ? 1 : -1;\n\n        if (scrolldirx !== dx) {\n          if (self.scrollmom) self.scrollmom.stop();\n          self.newscrollx = self.getScrollLeft();\n          scrolldirx = dx;\n        }\n\n        self.lastdeltax -= px;\n\n      }\n\n      if (py) {\n\n        var chk = (function () {\n          var top = self.getScrollTop();\n          if (py < 0) {\n            if (top >= self.page.maxh) return true;\n          } else {\n            if (top <= 0) return true;\n          }\n        })();\n\n        if (chk) {\n          if (opt.nativeparentscrolling && chkscroll && !self.ispage && !self.zoomactive) return true;\n          var ny = self.view.h >> 1;\n          if (self.newscrolly < -ny) { self.newscrolly = -ny; py = -1; }\n          else if (self.newscrolly > self.page.maxh + ny) { self.newscrolly = self.page.maxh + ny; py = 1; }\n          else py = 0;\n        }\n\n        var dy = py > 0 ? 1 : -1;\n\n        if (scrolldiry !== dy) {\n          if (self.scrollmom) self.scrollmom.stop();\n          self.newscrolly = self.getScrollTop();\n          scrolldiry = dy;\n        }\n\n        self.lastdeltay -= py;\n\n      }\n\n      if (py || px) {\n        self.synched(\"relativexy\", function () {\n\n          var dty = self.lastdeltay + self.newscrolly;\n          self.lastdeltay = 0;\n\n          var dtx = self.lastdeltax + self.newscrollx;\n          self.lastdeltax = 0;\n\n          if (!self.rail.drag) self.doScrollPos(dtx, dty);\n\n        });\n      }\n\n    }\n\n    var hasparentscrollingphase = false;\n\n    function execScrollWheel(e, hr, chkscroll) {\n      var px, py;\n\n      if (!chkscroll && hasparentscrollingphase) return true;\n\n      if (e.deltaMode === 0) { // PIXEL\n        px = -(e.deltaX * (opt.mousescrollstep / (18 * 3))) | 0;\n        py = -(e.deltaY * (opt.mousescrollstep / (18 * 3))) | 0;\n      } else if (e.deltaMode === 1) { // LINE\n        px = -(e.deltaX * opt.mousescrollstep * 50 / 80) | 0;\n        py = -(e.deltaY * opt.mousescrollstep * 50 / 80) | 0;\n      }\n\n      if (hr && opt.oneaxismousemode && (px === 0) && py) { // classic vertical-only mousewheel + browser with x/y support \n        px = py;\n        py = 0;\n\n        if (chkscroll) {\n          var hrend = (px < 0) ? (self.getScrollLeft() >= self.page.maxw) : (self.getScrollLeft() <= 0);\n          if (hrend) {  // preserve vertical scrolling\n            py = px;\n            px = 0;\n          }\n        }\n\n      }\n\n      // invert horizontal direction for rtl mode\n      if (self.isrtlmode) px = -px;\n\n      var chk = doScrollRelative(px, py, chkscroll, true);\n\n      if (chk) {\n        if (chkscroll) hasparentscrollingphase = true;\n      } else {\n        hasparentscrollingphase = false;\n        e.stopImmediatePropagation();\n        return e.preventDefault();\n      }\n\n    }\n\n    this.onmousewheel = function (e) {\n      if (self.wheelprevented||self.locked) return false;\n      if (self.railslocked) {\n        self.debounced(\"checkunlock\", self.resize, 250);\n        return false;\n      }\n      if (self.rail.drag) return self.cancelEvent(e);\n\n      if (opt.oneaxismousemode === \"auto\" && e.deltaX !== 0) opt.oneaxismousemode = false; // check two-axis mouse support (not very elegant)\n\n      if (opt.oneaxismousemode && e.deltaX === 0) {\n        if (!self.rail.scrollable) {\n          if (self.railh && self.railh.scrollable) {\n            return self.onmousewheelhr(e);\n          } else {\n            return true;\n          }\n        }\n      }\n\n      var nw = now();\n      var chk = false;\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\n        self.nativescrollingarea = self.isScrollable(e);\n        chk = true;\n      }\n      self.checkarea = nw;\n      if (self.nativescrollingarea) return true; // this isn't my business\n      var ret = execScrollWheel(e, false, chk);\n      if (ret) self.checkarea = 0;\n      return ret;\n    };\n\n    this.onmousewheelhr = function (e) {\n      if (self.wheelprevented) return;\n      if (self.railslocked || !self.railh.scrollable) return true;\n      if (self.rail.drag) return self.cancelEvent(e);\n\n      var nw = now();\n      var chk = false;\n      if (opt.preservenativescrolling && ((self.checkarea + 600) < nw)) {\n        self.nativescrollingarea = self.isScrollable(e);\n        chk = true;\n      }\n      self.checkarea = nw;\n      if (self.nativescrollingarea) return true; // this is not my business\n      if (self.railslocked) return self.cancelEvent(e);\n\n      return execScrollWheel(e, true, chk);\n    };\n\n    this.stop = function () {\n      self.cancelScroll();\n      if (self.scrollmon) self.scrollmon.stop();\n      self.cursorfreezed = false;\n      self.scroll.y = Math.round(self.getScrollTop() * (1 / self.scrollratio.y));\n      self.noticeCursor();\n      return self;\n    };\n\n    this.getTransitionSpeed = function (dif) {\n\n      return 80 + (dif / 72) * opt.scrollspeed |0;\n\n    };\n\n    if (!opt.smoothscroll) {\n      this.doScrollLeft = function (x, spd) { //direct\n        var y = self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n      this.doScrollTop = function (y, spd) { //direct\n        var x = self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n      this.doScrollPos = function (x, y, spd) { //direct\n        var nx = (x > self.page.maxw) ? self.page.maxw : x;\n        if (nx < 0) nx = 0;\n        var ny = (y > self.page.maxh) ? self.page.maxh : y;\n        if (ny < 0) ny = 0;\n        self.synched('scroll', function () {\n          self.setScrollTop(ny);\n          self.setScrollLeft(nx);\n        });\n      };\n      this.cancelScroll = function () { }; // direct\n\n    } else if (self.ishwscroll && cap.hastransition && opt.usetransition && !!opt.smoothscroll) {\n\n      var lasttransitionstyle = '';\n\n      this.resetTransition = function () {\n        lasttransitionstyle = '';\n        self.doc.css(cap.prefixstyle + 'transition-duration', '0ms');\n      };\n\n      this.prepareTransition = function (dif, istime) {\n        var ex = (istime) ? dif : self.getTransitionSpeed(dif);\n        var trans = ex + 'ms';\n        if (lasttransitionstyle !== trans) {\n          lasttransitionstyle = trans;\n          self.doc.css(cap.prefixstyle + 'transition-duration', trans);\n        }\n        return ex;\n      };\n\n      this.doScrollLeft = function (x, spd) { //trans\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollTop = function (y, spd) { //trans\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.cursorupdate = {\n        running: false,\n        start: function () {\n          var m = this;\n\n          if (m.running) return;\n          m.running = true;\n\n          var loop = function () {\n            if (m.running) setAnimationFrame(loop);\n            self.showCursor(self.getScrollTop(), self.getScrollLeft());\n            self.notifyScrollEvent(self.win[0]);\n          };\n\n          setAnimationFrame(loop);\n        },\n        stop: function () {\n          this.running = false;\n        }\n      };\n\n      this.doScrollPos = function (x, y, spd) { //trans\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection      \n\n        if (!opt.bouncescroll) {\n          if (y < 0) y = 0;\n          else if (y > self.page.maxh) y = self.page.maxh;\n          if (x < 0) x = 0;\n          else if (x > self.page.maxw) x = self.page.maxw;\n        } else {\n          if (y < 0) y = y / 2 | 0;\n          else if (y > self.page.maxh) y = self.page.maxh + (y - self.page.maxh) / 2 | 0;\n          if (x < 0) x = x / 2 | 0;\n          else if (x > self.page.maxw) x = self.page.maxw + (x - self.page.maxw) / 2 | 0;\n        }\n\n        if (self.scrollrunning && x == self.newscrollx && y == self.newscrolly) return false;\n\n        self.newscrolly = y;\n        self.newscrollx = x;\n\n        var top = self.getScrollTop();\n        var lft = self.getScrollLeft();\n\n        var dst = {};\n        dst.x = x - lft;\n        dst.y = y - top;\n\n        var dd = Math.sqrt((dst.x * dst.x) + (dst.y * dst.y)) | 0;\n\n        var ms = self.prepareTransition(dd);\n\n        if (!self.scrollrunning) {\n          self.scrollrunning = true;\n          self.triggerScrollStart(lft, top, x, y, ms);\n          self.cursorupdate.start();\n        }\n\n        self.scrollendtrapped = true;\n\n        if (!cap.transitionend) {\n          if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);\n          self.scrollendtrapped = setTimeout(self.onScrollTransitionEnd, ms); // simulate transitionend event\n        }\n\n        self.setScrollTop(self.newscrolly);\n        self.setScrollLeft(self.newscrollx);\n\n      };\n\n      this.cancelScroll = function () {\n        if (!self.scrollendtrapped) return true;\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n        self.scrollrunning = false;\n        if (!cap.transitionend) clearTimeout(cap.transitionend);\n        self.scrollendtrapped = false;\n        self.resetTransition();\n        self.setScrollTop(py); // fire event onscroll\n        if (self.railh) self.setScrollLeft(px);\n        if (self.timerscroll && self.timerscroll.tm) clearInterval(self.timerscroll.tm);\n        self.timerscroll = false;\n\n        self.cursorfreezed = false;\n\n        self.cursorupdate.stop();\n        self.showCursor(py, px);\n        return self;\n      };\n\n      this.onScrollTransitionEnd = function () {\n\n        if (!self.scrollendtrapped) return;\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (py < 0) py = 0;\n        else if (py > self.page.maxh) py = self.page.maxh;\n        if (px < 0) px = 0;\n        else if (px > self.page.maxw) px = self.page.maxw;\n        if ((py != self.newscrolly) || (px != self.newscrollx)) return self.doScrollPos(px, py, opt.snapbackspeed);\n\n        if (self.scrollrunning) self.triggerScrollEnd();\n        self.scrollrunning = false;\n\n        self.scrollendtrapped = false;\n        self.resetTransition();\n        self.timerscroll = false;\n        self.setScrollTop(py); // fire event onscroll        \n        if (self.railh) self.setScrollLeft(px); // fire event onscroll left\n\n        self.cursorupdate.stop();\n        self.noticeCursor(false, py, px);\n\n        self.cursorfreezed = false;\n\n      };\n\n    } else {\n\n      this.doScrollLeft = function (x, spd) { //no-trans\n        var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollTop = function (y, spd) { //no-trans\n        var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();\n        self.doScrollPos(x, y, spd);\n      };\n\n      this.doScrollPos = function (x, y, spd) { //no-trans\n\n        var py = self.getScrollTop();\n        var px = self.getScrollLeft();\n\n        if (((self.newscrolly - py) * (y - py) < 0) || ((self.newscrollx - px) * (x - px) < 0)) self.cancelScroll(); //inverted movement detection\n\n        var clipped = false;\n\n        if (!self.bouncescroll || !self.rail.visibility) {\n          if (y < 0) {\n            y = 0;\n            clipped = true;\n          } else if (y > self.page.maxh) {\n            y = self.page.maxh;\n            clipped = true;\n          }\n        }\n        if (!self.bouncescroll || !self.railh.visibility) {\n          if (x < 0) {\n            x = 0;\n            clipped = true;\n          } else if (x > self.page.maxw) {\n            x = self.page.maxw;\n            clipped = true;\n          }\n        }\n\n        if (self.scrollrunning && (self.newscrolly === y) && (self.newscrollx === x)) return true;\n\n        self.newscrolly = y;\n        self.newscrollx = x;\n\n        self.dst = {};\n        self.dst.x = x - px;\n        self.dst.y = y - py;\n        self.dst.px = px;\n        self.dst.py = py;\n\n        var dd = Math.sqrt((self.dst.x * self.dst.x) + (self.dst.y * self.dst.y)) | 0;\n        var ms = self.getTransitionSpeed(dd);\n\n        self.bzscroll = {};\n\n        var p3 = (clipped) ? 1 : 0.58;\n        self.bzscroll.x = new BezierClass(px, self.newscrollx, ms, 0, 0, p3, 1);\n        self.bzscroll.y = new BezierClass(py, self.newscrolly, ms, 0, 0, p3, 1);\n\n        var loopid = now();\n\n        var loop = function () {\n\n          if (!self.scrollrunning) return;\n          var x = self.bzscroll.y.getPos();\n\n          self.setScrollLeft(self.bzscroll.x.getNow());\n          self.setScrollTop(self.bzscroll.y.getNow());\n\n          if (x <= 1) {\n            self.timer = setAnimationFrame(loop);\n          } else {\n            self.scrollrunning = false;\n            self.timer = 0;\n            self.triggerScrollEnd();\n          }\n\n        };\n\n        if (!self.scrollrunning) {\n          self.triggerScrollStart(px, py, x, y, ms);\n          self.scrollrunning = true;\n          self.timer = setAnimationFrame(loop);\n        }\n\n      };\n\n      this.cancelScroll = function () {\n        if (self.timer) clearAnimationFrame(self.timer);\n        self.timer = 0;\n        self.bzscroll = false;\n        self.scrollrunning = false;\n        return self;\n      };\n\n    }\n\n    this.doScrollBy = function (stp, relative) {\n      doScrollRelative(0, stp);\n    };\n\n    this.doScrollLeftBy = function (stp, relative) {\n      doScrollRelative(stp, 0);\n    };\n\n    this.doScrollTo = function (pos, relative) {\n      var ny = (relative) ? Math.round(pos * self.scrollratio.y) : pos;\n      if (ny < 0) ny = 0;\n      else if (ny > self.page.maxh) ny = self.page.maxh;\n      self.cursorfreezed = false;\n      self.doScrollTop(pos);\n    };\n\n    this.checkContentSize = function () {\n      var pg = self.getContentSize();\n      if ((pg.h != self.page.h) || (pg.w != self.page.w)) self.resize(false, pg);\n    };\n\n    self.onscroll = function (e) {\n      if (self.rail.drag) return;\n      if (!self.cursorfreezed) {\n        self.synched('scroll', function () {\n          self.scroll.y = Math.round(self.getScrollTop() / self.scrollratio.y);\n          if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() / self.scrollratio.x);\n          self.noticeCursor();\n        });\n      }\n    };\n    self.bind(self.docscroll, \"scroll\", self.onscroll);\n\n    this.doZoomIn = function (e) {\n      if (self.zoomactive) return;\n      self.zoomactive = true;\n\n      self.zoomrestore = {\n        style: {}\n      };\n      var lst = ['position', 'top', 'left', 'zIndex', 'backgroundColor', 'marginTop', 'marginBottom', 'marginLeft', 'marginRight'];\n      var win = self.win[0].style;\n      for (var a in lst) {\n        var pp = lst[a];\n        self.zoomrestore.style[pp] = (win[pp] !== undefined) ? win[pp] : '';\n      }\n\n      self.zoomrestore.style.width = self.win.css('width');\n      self.zoomrestore.style.height = self.win.css('height');\n\n      self.zoomrestore.padding = {\n        w: self.win.outerWidth() - self.win.width(),\n        h: self.win.outerHeight() - self.win.height()\n      };\n\n      if (cap.isios4) {\n        self.zoomrestore.scrollTop = $window.scrollTop();\n        $window.scrollTop(0);\n      }\n\n      self.win.css({\n        position: (cap.isios4) ? \"absolute\" : \"fixed\",\n        top: 0,\n        left: 0,\n        zIndex: globalmaxzindex + 100,\n        margin: 0\n      });\n      var bkg = self.win.css(\"backgroundColor\");\n      if (\"\" === bkg || /transparent|rgba\\(0, 0, 0, 0\\)|rgba\\(0,0,0,0\\)/.test(bkg)) self.win.css(\"backgroundColor\", \"#fff\");\n      self.rail.css({\n        zIndex: globalmaxzindex + 101\n      });\n      self.zoom.css({\n        zIndex: globalmaxzindex + 102\n      });\n      self.zoom.css('backgroundPosition', '0 -18px');\n      self.resizeZoom();\n\n      if (self.onzoomin) self.onzoomin.call(self);\n\n      return self.cancelEvent(e);\n    };\n\n    this.doZoomOut = function (e) {\n      if (!self.zoomactive) return;\n      self.zoomactive = false;\n\n      self.win.css(\"margin\", \"\");\n      self.win.css(self.zoomrestore.style);\n\n      if (cap.isios4) {\n        $window.scrollTop(self.zoomrestore.scrollTop);\n      }\n\n      self.rail.css({\n        \"z-index\": self.zindex\n      });\n      self.zoom.css({\n        \"z-index\": self.zindex\n      });\n      self.zoomrestore = false;\n      self.zoom.css('backgroundPosition', '0 0');\n      self.onResize();\n\n      if (self.onzoomout) self.onzoomout.call(self);\n\n      return self.cancelEvent(e);\n    };\n\n    this.doZoom = function (e) {\n      return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);\n    };\n\n    this.resizeZoom = function () {\n      if (!self.zoomactive) return;\n\n      var py = self.getScrollTop(); //preserve scrolling position\n      self.win.css({\n        width: $window.width() - self.zoomrestore.padding.w + \"px\",\n        height: $window.height() - self.zoomrestore.padding.h + \"px\"\n      });\n      self.onResize();\n\n      self.setScrollTop(Math.min(self.page.maxh, py));\n    };\n\n    this.init();\n\n    $.nicescroll.push(this);\n\n  };\n\n  // Inspired by the work of Kin Blas\n  // http://webpro.host.adobe.com/people/jblas/momentum/includes/jquery.momentum.0.7.js  \n  var ScrollMomentumClass2D = function (nc) {\n    var self = this;\n    this.nc = nc;\n\n    this.lastx = 0;\n    this.lasty = 0;\n    this.speedx = 0;\n    this.speedy = 0;\n    this.lasttime = 0;\n    this.steptime = 0;\n    this.snapx = false;\n    this.snapy = false;\n    this.demulx = 0;\n    this.demuly = 0;\n\n    this.lastscrollx = -1;\n    this.lastscrolly = -1;\n\n    this.chkx = 0;\n    this.chky = 0;\n\n    this.timer = 0;\n\n    this.reset = function (px, py) {\n      self.stop();\n      self.steptime = 0;\n      self.lasttime = now();\n      self.speedx = 0;\n      self.speedy = 0;\n      self.lastx = px;\n      self.lasty = py;\n      self.lastscrollx = -1;\n      self.lastscrolly = -1;\n    };\n\n    this.update = function (px, py) {\n      var tm = now();\n      self.steptime = tm - self.lasttime;\n      self.lasttime = tm;\n      var dy = py - self.lasty;\n      var dx = px - self.lastx;\n      var sy = self.nc.getScrollTop();\n      var sx = self.nc.getScrollLeft();\n      var newy = sy + dy;\n      var newx = sx + dx;\n      self.snapx = (newx < 0) || (newx > self.nc.page.maxw);\n      self.snapy = (newy < 0) || (newy > self.nc.page.maxh);\n      self.speedx = dx;\n      self.speedy = dy;\n      self.lastx = px;\n      self.lasty = py;\n    };\n\n    this.stop = function () {\n      self.nc.unsynched(\"domomentum2d\");\n      if (self.timer) clearTimeout(self.timer);\n      self.timer = 0;\n      self.lastscrollx = -1;\n      self.lastscrolly = -1;\n    };\n\n    this.doSnapy = function (nx, ny) {\n      var snap = false;\n\n      if (ny < 0) {\n        ny = 0;\n        snap = true;\n      } else if (ny > self.nc.page.maxh) {\n        ny = self.nc.page.maxh;\n        snap = true;\n      }\n\n      if (nx < 0) {\n        nx = 0;\n        snap = true;\n      } else if (nx > self.nc.page.maxw) {\n        nx = self.nc.page.maxw;\n        snap = true;\n      }\n\n      (snap) ? self.nc.doScrollPos(nx, ny, self.nc.opt.snapbackspeed) : self.nc.triggerScrollEnd();\n    };\n\n    this.doMomentum = function (gp) {\n      var t = now();\n      var l = (gp) ? t + gp : self.lasttime;\n\n      var sl = self.nc.getScrollLeft();\n      var st = self.nc.getScrollTop();\n\n      var pageh = self.nc.page.maxh;\n      var pagew = self.nc.page.maxw;\n\n      self.speedx = (pagew > 0) ? Math.min(60, self.speedx) : 0;\n      self.speedy = (pageh > 0) ? Math.min(60, self.speedy) : 0;\n\n      var chk = l && (t - l) <= 60;\n\n      if ((st < 0) || (st > pageh) || (sl < 0) || (sl > pagew)) chk = false;\n\n      var sy = (self.speedy && chk) ? self.speedy : false;\n      var sx = (self.speedx && chk) ? self.speedx : false;\n\n      if (sy || sx) {\n        var tm = Math.max(16, self.steptime); //timeout granularity\n\n        if (tm > 50) { // do smooth\n          var xm = tm / 50;\n          self.speedx *= xm;\n          self.speedy *= xm;\n          tm = 50;\n        }\n\n        self.demulxy = 0;\n\n        self.lastscrollx = self.nc.getScrollLeft();\n        self.chkx = self.lastscrollx;\n        self.lastscrolly = self.nc.getScrollTop();\n        self.chky = self.lastscrolly;\n\n        var nx = self.lastscrollx;\n        var ny = self.lastscrolly;\n\n        var onscroll = function () {\n          var df = ((now() - t) > 600) ? 0.04 : 0.02;\n\n          if (self.speedx) {\n            nx = Math.floor(self.lastscrollx - (self.speedx * (1 - self.demulxy)));\n            self.lastscrollx = nx;\n            if ((nx < 0) || (nx > pagew)) df = 0.10;\n          }\n\n          if (self.speedy) {\n            ny = Math.floor(self.lastscrolly - (self.speedy * (1 - self.demulxy)));\n            self.lastscrolly = ny;\n            if ((ny < 0) || (ny > pageh)) df = 0.10;\n          }\n\n          self.demulxy = Math.min(1, self.demulxy + df);\n\n          self.nc.synched(\"domomentum2d\", function () {\n\n            if (self.speedx) {\n              var scx = self.nc.getScrollLeft();\n              //              if (scx != self.chkx) self.stop();\n              self.chkx = nx;\n              self.nc.setScrollLeft(nx);\n            }\n\n            if (self.speedy) {\n              var scy = self.nc.getScrollTop();\n              //              if (scy != self.chky) self.stop();\n              self.chky = ny;\n              self.nc.setScrollTop(ny);\n            }\n\n            if (!self.timer) {\n              self.nc.hideCursor();\n              self.doSnapy(nx, ny);\n            }\n\n          });\n\n          if (self.demulxy < 1) {\n            self.timer = setTimeout(onscroll, tm);\n          } else {\n            self.stop();\n            self.nc.hideCursor();\n            self.doSnapy(nx, ny);\n          }\n        };\n\n        onscroll();\n\n      } else {\n        self.doSnapy(self.nc.getScrollLeft(), self.nc.getScrollTop());\n      }\n\n    };\n\n  };\n\n\n  // override jQuery scrollTop\n  var _scrollTop = jQuery.fn.scrollTop; // preserve original function\n\n  jQuery.cssHooks.pageYOffset = {\n    get: function (elem, computed, extra) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);\n    },\n    set: function (elem, value) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem, value);\n      return this;\n    }\n  };\n\n  jQuery.fn.scrollTop = function (value) {\n    if (value === undefined) {\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\n      return (nice && nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);\n    } else {\n      return this.each(function () {\n        var nice = $.data(this, '__nicescroll') || false;\n        (nice && nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this), value);\n      });\n    }\n  };\n\n  // override jQuery scrollLeft\n  var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function\n\n  $.cssHooks.pageXOffset = {\n    get: function (elem, computed, extra) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);\n    },\n    set: function (elem, value) {\n      var nice = $.data(elem, '__nicescroll') || false;\n      (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem, value);\n      return this;\n    }\n  };\n\n  jQuery.fn.scrollLeft = function (value) {\n    if (value === undefined) {\n      var nice = (this[0]) ? $.data(this[0], '__nicescroll') || false : false;\n      return (nice && nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);\n    } else {\n      return this.each(function () {\n        var nice = $.data(this, '__nicescroll') || false;\n        (nice && nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this), value);\n      });\n    }\n  };\n\n  var NiceScrollArray = function (doms) {\n    var self = this;\n    this.length = 0;\n    this.name = \"nicescrollarray\";\n\n    this.each = function (fn) {\n      $.each(self, fn);\n      return self;\n    };\n\n    this.push = function (nice) {\n      self[self.length] = nice;\n      self.length++;\n    };\n\n    this.eq = function (idx) {\n      return self[idx];\n    };\n\n    if (doms) {\n      for (var a = 0; a < doms.length; a++) {\n        var nice = $.data(doms[a], '__nicescroll') || false;\n        if (nice) {\n          this[this.length] = nice;\n          this.length++;\n        }\n      }\n    }\n\n    return this;\n  };\n\n  function mplex(el, lst, fn) {\n    for (var a = 0, l = lst.length; a < l; a++) fn(el, lst[a]);\n  }\n  mplex(\n    NiceScrollArray.prototype, ['show', 'hide', 'toggle', 'onResize', 'resize', 'remove', 'stop', 'doScrollPos'],\n    function (e, n) {\n      e[n] = function () {\n        var args = arguments;\n        return this.each(function () {\n          this[n].apply(this, args);\n        });\n      };\n    }\n  );\n\n  jQuery.fn.getNiceScroll = function (index) {\n    if (index === undefined) {\n      return new NiceScrollArray(this);\n    } else {\n      return this[index] && $.data(this[index], '__nicescroll') || false;\n    }\n  };\n\n  var pseudos = jQuery.expr.pseudos || jQuery.expr[':'];  // jQuery 3 migration\n  pseudos.nicescroll = function (a) {\n    return $.data(a, '__nicescroll') !== undefined;\n  };\n\n  $.fn.niceScroll = function (wrapper, _opt) {\n    if (_opt === undefined && typeof wrapper == \"object\" && !(\"jquery\" in wrapper)) {\n      _opt = wrapper;\n      wrapper = false;\n    }\n\n    var ret = new NiceScrollArray();\n\n    this.each(function () {\n      var $this = $(this);\n\n      var opt = $.extend({}, _opt); // cloning\n\n      if (wrapper || false) {\n        var wrp = $(wrapper);\n        opt.doc = (wrp.length > 1) ? $(wrapper, $this) : wrp;\n        opt.win = $this;\n      }\n      var docundef = !(\"doc\" in opt);\n      if (!docundef && !(\"win\" in opt)) opt.win = $this;\n\n      var nice = $this.data('__nicescroll') || false;\n      if (!nice) {\n        opt.doc = opt.doc || $this;\n        nice = new NiceScrollClass(opt, $this);\n        $this.data('__nicescroll', nice);\n      }\n      ret.push(nice);\n    });\n\n    return (ret.length === 1) ? ret[0] : ret;\n  };\n\n  _win.NiceScroll = {\n    getjQuery: function () {\n      return jQuery;\n    }\n  };\n\n  if (!$.nicescroll) {\n    $.nicescroll = new NiceScrollArray();\n    $.nicescroll.options = _globaloptions;\n  }\n\n}));\n"],"sourceRoot":""}